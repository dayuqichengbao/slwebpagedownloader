"use strict";(self.webpackChunkxhs_pc_web=self.webpackChunkxhs_pc_web||[]).push([["3906"],{99431:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGQ9Ik03Ljk5OSAyLjU0NmE1LjQ1NSA1LjQ1NSAwIDAgMC0zLjkyNCA5LjI0M2wuMzE5LS4zMThhLjMzNy4zMzcgMCAwIDEgLjU3NC4yMzh2MS41NDRjMCAuMTg2LS4xNS4zMzYtLjMzNi4zMzZIMy4wODhjLS4zIDAtLjQ1LS4zNjItLjIzOC0uNTc0bC4zNjgtLjM2OWE2LjY2NyA2LjY2NyAwIDAgMSA3LjM3NC0xMC43OS42MDYuNjA2IDAgMCAxLS40NzIgMS4xMTcgNS40IDUuNCAwIDAgMC0yLjEyMS0uNDI3TTEyLjQxMiA1LjQ3M2wuMjctLjI3YTUuNDU0IDUuNDU0IDAgMCAxLTUuOCA4LjEzOC42MDYuNjA2IDAgMSAwLS4yNDcgMS4xODZxLjY2Mi4xMzkgMS4zNjQuMTRBNi42NjcgNi42NjcgMCAwIDAgMTMuNTYgNC4zMjRsLjM5NS0uMzk2YS4zMzcuMzM3IDAgMCAwLS4yMzgtLjU3NGgtMS41NDRhLjMzNy4zMzcgMCAwIDAtLjMzNy4zMzZ2MS41NDRjMCAuMy4zNjMuNDUuNTc1LjIzOSIvPjwvc3ZnPg=="},34619:function(e,n,t){t.r(n),t.d(n,{default:function(){return nx}});var a=t(41622),o=t(377),i=t(93328),r=t(31907),l=t(70879),u=t(27337);t(86651),t(72169),t(58486),t(7608);var s=t(40122),c=t(50539),d=t(51899),p=t.n(d),g=t(95874),v=t(1801),f=t(71852),h=t(66687),m=t(98413),_=t(94895),S=t(8048),b=t(68284),C=t(79256),y=t(52504),k=t(94186),w=t(99505),U=t(75649);t(87989),t(64091),t(51109),t(34333),t(55947),t(21608),t(97553),t(99808),t(87394),t(94941),t(48421),t(97357),t(25069),t(43648);var D=t(69876);t(99431);var I={class:"agreements"},A=["href"],M=(0,i.aZ)({__name:"Agreement",setup:function(e){var n={user:{label:"《用户协议》",link:_.n.TERMS},privacy:{label:"《隐私政策》",link:_.n.PRIVACY},children:{label:"《儿童/青少年个人信息保护规则》",link:_.n.TEENS_PROTECT}},t=(0,S.r0)();function handleLoginAgree(){!t.agreed&&(0,w.kj)(37621),t.toggleAgree()}return function(e,a){return(0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("span",{class:"agree-icon",onClick:handleLoginAgree},[(0,i._)("div",{class:(0,i.C_)(["icon-wrapper",{agreed:(0,i.SU)(t).agreed}])},[(0,i.SU)(t).agreed?((0,i.wg)(),(0,i.j4)((0,i.SU)(c.i8),{key:0,ref:"agreeEl",size:"12",icon:"login_checked",class:"icon"},null,512)):(0,i.kq)("",!0)],2)]),(0,i._)("div",null,[(0,i._)("label",{onClick:handleLoginAgree}," 我已阅读并同意"),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(n,function(e){return(0,i._)("span",{key:e.label},[(0,i._)("a",{target:"_blank",href:e.link},(0,i.zw)(e.label),9,A)])}),64))])])}}}),L=t(5010);let T=(0,L.default)(M,[["__scopeId","data-v-bd53e6d2"]]);var x=t(66002),P={class:"code-box"},j={class:"phone-number"},q={class:"codes"},z=["value","onInput","onKeyup","onKeypress","onPaste"],N={key:0,class:"code-error"},H={class:"code-modify"},W={key:0},V={class:"login-text"},O={key:0,class:"container logining"},F=(0,i.aZ)({__name:"CodeInput",emits:["resend-code","login"],setup:function(e,n){var t=n.expose,r=n.emit,d=(0,S.r0)(),p=(0,g.h)().handleHttpCatch,v=(0,i.iH)([]),f=(0,x.Jk)(d),h=f.loginData,m=f.counter,_=f.isLogining,b=f.verificationCodeStartTime,C=(0,i.iH)((0,U._)(h.value.authCode).concat((0,U._)(Array.from({length:6-h.value.authCode.toString().length}).fill(""))));function clearCode(){var e;C.value=Array.from({length:6}).fill(""),null===(e=v.value[0])||void 0===e||e.focus(),d.errors.authCode=""}function handleClearCode(){(0,w.kj)(42615),clearCode()}function focusCode(){var e,n,t=C.value.findIndex(function(e){return!e});t>=0?null===(e=v.value[t])||void 0===e||e.focus():null===(n=v.value[C.value.length-1])||void 0===n||n.focus()}function handleResendCode(){if(60*m.value.current.minutes+m.value.current.seconds>0){(0,c.Am)("请稍后");return}r("resend-code"),clearCode()}function onDelete(e){var n,t=e;!C.value[e]&&(t=e-1),C.value[t]="",null===(n=v.value[t])||void 0===n||n.focus()}function pasteHandler(e,n){e.preventDefault();for(var t,a,o=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text"),i=(null==o?void 0:o.split("").filter(function(e){return/\d/.test(e)}))||Array.from({length:6}).fill(""),r=0;r<i.length&&n+r<C.value.length;r++)C.value[n+r]=i[r],null===(a=v.value[n+r])||void 0===a||a.focus()}function inputHandler(e,n){var t,a=e.target,o=a.value.replace(/[^\d]/g,"").slice(0,1);a.value=o,o&&(C.value[n]=o,null===(t=v.value[n+1])||void 0===t||t.focus())}function validateCode(){return _validateCode.apply(this,arguments)}function _validateCode(){return(_validateCode=(0,a._)(function(){var e,n,t;return(0,o.Jh)(this,function(a){switch(a.label){case 0:if(h.value.authCode=C.value.join(""),!d.validCode)return(0,c.Am)("请检查验证码"),focusCode(),[2];if(!d.agreed)return d.loginMethod="phone",d.toggleTooltip(!0),[2];e={type:"verification_code",api:"getApiSnsWebV1LoginCheckCode",reportType:"checkCode",time:b.value},(0,w.kj)(24449),d.setLogining(!0),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,s.ng)({params:{phone:d.loginData.phone.replace(/\s+/g,""),zone:"86",code:d.loginData.authCode}})];case 2:return n=a.sent().mobileToken,d.errors.authCode="",(0,k.Iq)((0,u._)((0,l._)({},e),{status:"success"})),n&&r("login",n),[3,4];case 3:return p("getApiSnsWebV1LoginCheckCode",t=a.sent()),(0,k.Iq)((0,u._)((0,l._)({},e),{status:"fail"}),JSON.stringify({errMsg:t.data,errorCode:t.status})),focusCode(),d.setLogining(!1),[3,4];case 4:return[2]}})})).apply(this,arguments)}function recordAuthCode(){h.value.authCode=C.value.join("")}return(0,i.YP)(function(){return d.errors.authCode},function(e){e&&(0,w.kj)(42614)}),(0,i.bv)(function(){focusCode(),(0,w.kj)(37620,{status:"0"})}),(0,D.f8)(C.value,function(){(0,w.kj)(30776),(0,k.Iq)({type:"verification_code",api:"",reportType:"inputCode",status:"success",time:b.value})}),t({validateCode:validateCode,recordAuthCode:recordAuthCode}),function(e,n){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{class:(0,i.C_)(["container",{isLogining:(0,i.SU)(_)}])},[n[2]||(n[2]=(0,i._)("div",{class:"title"}," 输入验证码 ",-1)),n[3]||(n[3]=(0,i._)("span",{class:"divider"},null,-1)),(0,i._)("div",P,[(0,i._)("div",j,[(0,i.Wm)((0,i.SU)(c.i8),{size:"16",class:"phone",icon:"phone"}),(0,i.Uk)(" +86 "+(0,i.zw)((0,i.SU)(h).phone),1)]),(0,i._)("div",q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,i.SU)(C),function(e,n){return(0,i.wg)(),(0,i.iD)("input",{id:"verificationCodeInput",ref_for:!0,ref_key:"codeInput",ref:v,key:n,class:"code",type:"number",maxlength:"1",value:(0,i.SU)(C)[n],onInput:function(e){return inputHandler(e,n)},onKeyup:(0,i.D2)(function(e){return onDelete(n)},["delete"]),onKeypress:(0,i.D2)((0,i.iM)(validateCode,["prevent"]),["enter"]),onPaste:function(e){return pasteHandler(e,n)}},null,40,z)}),128))]),(0,i.SU)(d).errors.authCode?((0,i.wg)(),(0,i.iD)("div",N," 验证码错误 ")):(0,i.kq)("",!0),(0,i._)("div",H,[(0,i._)("div",{class:"modify",onClick:handleResendCode},[(0,i.Wm)((0,i.SU)(c.i8),{size:"16",class:"icon",icon:"transshipment"}),n[0]||(n[0]=(0,i.Uk)(" 重新获取 ")),(0,i.SU)(m).counting?((0,i.wg)(),(0,i.iD)("span",W,"("+(0,i.zw)(60*(0,i.SU)(m).current.minutes+(0,i.SU)(m).current.seconds)+")",1)):(0,i.kq)("",!0)]),(0,i.SU)(d).errors.authCode?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"modify",onClick:handleClearCode},[(0,i.Wm)((0,i.SU)(c.i8),{size:"16",class:"icon",icon:"delete_back"}),n[1]||(n[1]=(0,i.Uk)(" 清空重输 "))])):(0,i.kq)("",!0)])]),(0,i._)("div",{class:"login-btn",onClick:validateCode},[(0,i._)("span",V,(0,i.zw)((0,i.SU)(_)?"登录中":"登录"),1)]),(0,i.Wm)(T)],2),(0,i.SU)(_)?((0,i.wg)(),(0,i.iD)("div",O)):(0,i.kq)("",!0)],64)}}});let R=(0,L.default)(F,[["__scopeId","data-v-78f7cba6"]]);t(36277);var E=t(47658),Q={class:"qrcode force-light"},Y=["src"],G={class:"status"},J=(0,i.aZ)({__name:"QrCode",setup:function(e){var n=(0,S.r0)(),t=(0,C.L)(),r=(0,g.h)().handleHttpCatch,c=(0,x.Jk)(n),d=c.loginPadMountedTime,p=c.isRiskUser,v=(0,i.iH)(),f=(0,i.iH)({qrCodeScanned:!1,qrCodeOutDate:!1,qrCodeLogin:!1});function resetReporttedStatus(){f.value={qrCodeLogin:!1,qrCodeOutDate:!1,qrCodeScanned:!1}}function getQrCodeStatusWithDelay(e,n){clearTimeout(v.value),v.value=setTimeout(e,n)}function qrCodeExpose(){(0,w.kj)(24448,{status:n.qrData.status,displayReason:p.value?"risk_control":"default"})}function getQrCodeStatus(){return _getQrCodeStatus.apply(this,arguments)}function _getQrCodeStatus(){return(_getQrCodeStatus=(0,a._)(function(){var e,a;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if("hidden"===document.visibilityState)return getQrCodeStatusWithDelay(getQrCodeStatus,2e3),[2];if(!n.showLogin||t.loggedIn)return[2];if(n.inAntiSpamChecking)return getQrCodeStatusWithDelay(getQrCodeStatus,2e3),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),e={type:"qr_code",api:"getApiSnsWebV1LoginQrcodeStatus",time:d.value,status:"success"},[4,(0,s.Le)({params:n.qrData.backend,headers:{"x-login-mode":p.value?"qrcode":""}})];case 2:switch(o.sent().codeStatus){case 2:(0,w.kj)(37187,{channelType:"qr_code"}),!f.value.qrCodeLogin&&((0,k.Iq)((0,u._)((0,l._)({},e),{reportType:"checkQrcodeLogin"})),f.value.qrCodeLogin=!0),t.$mitt.emit("onLogin","qr_code");break;case 3:n.qrData.status=S.vX.OutDated,qrCodeExpose(),!f.value.qrCodeOutDate&&((0,k.Iq)((0,u._)((0,l._)({},e),{reportType:"checkQrcodeOutdated"})),(0,w.kj)(37598,{status:"invalid"}),f.value.qrCodeOutDate=!0),(0,w.kj)(30780,{channelType:"qr_code",channelTabName:"qrcode过期"});break;case 1:n.qrData.status=S.vX.Scanned,qrCodeExpose(),!f.value.qrCodeScanned&&((0,k.Iq)((0,u._)((0,l._)({},e),{reportType:"checkQrcodeScanned"})),(0,w.kj)(37598,{status:"scan_sucess"}),f.value.qrCodeScanned=!0),getQrCodeStatusWithDelay(getQrCodeStatus,2e3);break;default:n.qrData.status=S.vX.Valid,getQrCodeStatusWithDelay(getQrCodeStatus,2e3)}return[3,4];case 3:return a=o.sent(),(0,w.kj)(30780,{channelType:"qr_code",channelTabName:"qrcode接口异常"}),(0,k.Iq)({type:"qr_code",api:"getApiSnsWebV1LoginQrcodeStatus",reportType:"checkQrcode",status:"fail",time:d.value},JSON.stringify({errMsg:a.data,errorCode:a.status})),r("getApiSnsWebV1LoginQrcodeStatus",a,function(){a.status===y.o.InAntiSpamChecking&&(n.inAntiSpamChecking=!0),getQrCodeStatusWithDelay(getQrCodeStatus,2e3)}),[3,4];case 4:return[2]}})})).apply(this,arguments)}function drawQrCode(){return _drawQrCode.apply(this,arguments)}function _drawQrCode(){return(_drawQrCode=(0,a._)(function(){var e,t,a,i,c,p,g,v,f=arguments;return(0,o.Jh)(this,function(o){switch(o.label){case 0:e=f.length>0&&void 0!==f[0]&&f[0],t={type:"qr_code",api:"postApiSnsWebV1LoginQrcodeCreate",reportType:"drawQrcode",time:d.value},o.label=1;case 1:return o.trys.push([1,4,,5]),[4,(0,s.vZ)({qrType:1})];case 2:return i=(a=o.sent()).qrId,c=a.code,p=a.url,n.updateQrData(i,c),g=n.qrData,[4,E.toDataURL(p,{margin:0,width:155})];case 3:return g.image=o.sent(),setTimeout(qrCodeExpose),getQrCodeStatusWithDelay(getQrCodeStatus,2e3),e&&(0,k.Iq)((0,u._)((0,l._)({},t),{status:"success"})),[3,5];case 4:return r("postApiSnsWebV1LoginQrcodeCreate",v=o.sent()),e&&(0,k.Iq)((0,u._)((0,l._)({},t),{status:"fail"}),JSON.stringify({errMsg:v.data,errorCode:v.status})),[3,5];case 5:return[2]}})})).apply(this,arguments)}function onRefresh(e){(0,w.kj)(37599,{status:e}),n.updateQrData("",""),n.qrData.image="",n.qrData.status=S.vX.Valid,resetReporttedStatus(),drawQrCode()}return(0,i.wF)(function(){drawQrCode(!0)}),(0,i.Jd)(function(){clearTimeout(v.value),resetReporttedStatus()}),function(e,t){return(0,i.wg)(),(0,i.iD)("div",Q,[(0,i.SU)(n).qrData.image?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("img",{crossorigin:"anonymous",class:"qrcode-img",src:(0,i.SU)(n).qrData.image},null,8,Y),(0,i.wy)((0,i._)("div",G,[(0,i.SU)(n).qrData.status===(0,i.SU)(S.vX).OutDated?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[t[2]||(t[2]=(0,i._)("div",{class:"status-text"}," 二维码已过期 ",-1)),(0,i._)("div",{class:"status-desc refresh",onClick:t[0]||(t[0]=function(e){return onRefresh("invalid")})}," 点击刷新 ")],64)):(0,i.kq)("",!0),(0,i.SU)(n).qrData.status===(0,i.SU)(S.vX).Scanned?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[t[3]||(t[3]=(0,i._)("div",{class:"status-text"}," 扫码成功 ",-1)),t[4]||(t[4]=(0,i._)("div",{class:"status-desc"}," 请在手机上确认 ",-1)),(0,i._)("div",{class:"status-btn",onClick:t[1]||(t[1]=function(e){return onRefresh("scan_sucess")})}," 重新扫码 ")],64)):(0,i.kq)("",!0)],512),[[i.F8,(0,i.SU)(n).qrData.status!==(0,i.SU)(S.vX).Valid]])],64)):(0,i.kq)("",!0)])}}});let Z=(0,L.default)(J,[["__scopeId","data-v-0a25c96e"]]);t(62606),t(35528);var B={class:"code-area"},K={class:"course-video"},$={key:0,class:"tip"},X={class:"tip-text"},ee={key:0,class:"tip"},en={class:"tip-text"},et={class:"tip-text wechat"},ea=(0,i.aZ)({__name:"LoginByQrCode",setup:function(e){var n=(0,i.iH)(!1),r=(0,i.iH)(),l=(0,i.iH)(),u=(0,S.r0)(),s=(0,x.Jk)(u).isRiskUser,d=p()(function(e){var t,a;e?((0,w.kj)(30779),null===(t=r.value)||void 0===t||t.play()):null===(a=r.value)||void 0===a||a.goToAndStop(0,!1),n.value=e},250,{leading:!0});return(0,i.bv)((0,a._)(function(){var e;return(0,o.Jh)(this,function(n){switch(n.label){case 0:return[4,t.e("395").then(t.t.bind(t,48572,23))];case 1:if(r.value=n.sent(),!l.value)return[2];return null===(e=r.value)||void 0===e||e.loadAnimation({container:l.value,loop:!0,autoplay:!1,name:"scan_tutorial",path:"https://fe-video-qc.xhscdn.com/fe-platform/24efe715cd80441a3571b1202e87c152dbfbc160.json?attname=fe-platform/24efe715cd80441a3571b1202e87c152dbfbc160.json.json"}),[2]}})})),function(e,t){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",B,[(0,i.wy)((0,i._)("div",K,[(0,i._)("div",{ref_key:"tutorialRef",ref:l,class:"animate"},null,512)],512),[[i.F8,n.value]]),(0,i.wy)((0,i.Wm)(Z,null,null,512),[[i.F8,!n.value]]),(0,i.SU)(s)?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[n.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",$,[t[3]||(t[3]=(0,i.Uk)(" 请用 ")),(0,i._)("div",X,[(0,i.Wm)((0,i.SU)(c.i8),{size:"20",icon:"xhs"}),t[2]||(t[2]=(0,i.Uk)("小红书 "))]),t[4]||(t[4]=(0,i.Uk)(" 扫码进行验证 "))]))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[n.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",ee,[t[7]||(t[7]=(0,i.Uk)(" 可用 ")),(0,i._)("div",en,[(0,i.Wm)((0,i.SU)(c.i8),{size:"20",icon:"xhs"}),t[5]||(t[5]=(0,i.Uk)("小红书 "))]),t[8]||(t[8]=(0,i.Uk)(" 或 ")),(0,i._)("div",et,[(0,i.Wm)((0,i.SU)(c.i8),{size:"20",icon:"wechat"}),t[6]||(t[6]=(0,i.Uk)("微信 "))]),t[9]||(t[9]=(0,i.Uk)(" 扫码 "))]))],64))]),(0,i._)("div",{class:(0,i.C_)(["course",{tutorial:n.value}]),onMouseenter:t[0]||(t[0]=function(e){return(0,i.SU)(d)(!0)}),onMouseleave:t[1]||(t[1]=function(e){return(0,i.SU)(d)(!1)})},[(0,i.Wm)((0,i.SU)(c.i8),{size:"11",icon:n.value?"pause":"play",class:"play"},null,8,["icon"]),t[10]||(t[10]=(0,i.Uk)(" 小红书如何扫码 "))],34)],64)}}});let eo=(0,L.default)(ea,[["__scopeId","data-v-67bebeda"]]);var ei=t(44892),er={class:"header"},el={key:0,class:"login-reason"},eu=["src"],es=(0,i.aZ)({__name:"LoginHeader",setup:function(e){var n=(0,S.r0)(),t=(0,x.Jk)(n),a=t.loginTips,o=t.isRiskUser;return function(e,n){return(0,i.wg)(),(0,i.iD)("div",er,[(0,i.SU)(o)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",el,(0,i.zw)((0,i.SU)(a)),1)),(0,i._)("img",{class:"logo",crossorigin:"anonymous",src:(0,i.SU)(ei.rU).mainLogo},null,8,eu)])}}});let ec=(0,L.default)(es,[["__scopeId","data-v-33acf81f"]]);var ed=t(44501);t(92569);var ep={class:"age-ob-wrapper"},eg={class:"age-ob-select"},ev={class:"age-ob-select-box"},ef=["value"],eh={class:"age-ob-next"},em=(0,i.aZ)({__name:"AgeSelecter",setup:function(e){var n=(0,S.r0)(),t=(0,i.iH)(["14-"].concat((0,U._)(Array.from({length:37},function(e,n){return"".concat(n+14)})),["50+"])),r=(0,ed._)((0,D.OT)(!1),2),l=r[0],u=r[1];function backToPrevGender(){n.setObPageFillInProgress(v.EV.Gender)}function reportAgeAndGoNext(){return _reportAgeAndGoNext.apply(this,arguments)}function _reportAgeAndGoNext(){return(_reportAgeAndGoNext=(0,a._)(function(){return(0,o.Jh)(this,function(e){switch(e.label){case 0:return(0,w.pz)(38579),[4,n.reportUserInfo("web_age",n.ageSelectValue)];case 1:return e.sent(),n.setObPageFillInProgress(v.EV.Hobby),n.beforeFillInHobby(),[2]}})})).apply(this,arguments)}return(0,i.m0)(function(){"14-"===n.ageSelectValue?((0,c.Am)("此年龄段注册暂未开放"),u(!0)):u(!1)}),(0,i.YP)(function(){return n.ageSelectValue},function(){(0,w.pz)(38578)}),function(e,a){return(0,i.wg)(),(0,i.iD)("div",ep,[(0,i.Wm)((0,i.SU)(c.hU),{class:"age-ob-header-icon",onClick:backToPrevGender},{default:(0,i.w5)(function(){return[(0,i.Wm)((0,i.SU)(c.i8),{icon:"back",size:"20"})]}),_:1}),a[3]||(a[3]=(0,i._)("div",{class:"age-ob-header"},[(0,i._)("span",{class:"age-ob-header-text"},"选择你的年龄")],-1)),(0,i._)("div",eg,[a[1]||(a[1]=(0,i._)("div",{class:"age-ob-select-prompt"}," 选择你的年龄 ",-1)),(0,i._)("div",ev,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":a[0]||(a[0]=function(e){return(0,i.SU)(n).ageSelectValue=e}),class:"age-ob-select-input"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,i.SU)(t),function(e){return(0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,i.zw)(e),9,ef)}),128))],512),[[i.bM,(0,i.SU)(n).ageSelectValue]])])]),(0,i._)("div",eh,[(0,i.Wm)((0,i.SU)(c.zx),{class:"age-ob-btn",disabled:(0,i.SU)(l),onClick:reportAgeAndGoNext},{default:(0,i.w5)(function(){return a[2]||(a[2]=[(0,i.Uk)(" 继续 ")])}),_:1,__:[2]},8,["disabled"])])])}}});let e_=(0,L.default)(em,[["__scopeId","data-v-1697d070"]]);var eS={class:"download-app-wrapper"},eb={class:"down-app-header"},eC={class:"down-app-contain"},ey={class:"guide-content"},ek={class:"app-qrcode-wrap"},ew={class:"app-screenshot"},eU=(0,i.aZ)({__name:"DownloadApp",emits:["onNext"],setup:function(e,n){var t,a=n.emit,o=(0,S.r0)(),r=(0,i.iH)(!1);function handleCloseModal(e){(0,w.pz)(49026,{componentName:e}),a("onNext")}var l=(t=!1,function(e){if(!t)t=!0,(0,w.pz)(49029,{componentName:e})});function handleMouseEnter(e){l(e),r.value=!0}function handleMouseLeave(){r.value=!1}var u=null;return(0,i.bv)(function(){u=o.$mitt.on("boardingModalChange",function(e){"click_mask"===e.type&&handleCloseModal("blank")})}),(0,i.Jd)(function(){null==u||u()}),function(e,n){return(0,i.wg)(),(0,i.iD)("div",eS,[(0,i._)("div",eb,[(0,i._)("span",{"aria-label":"完成",onClick:n[0]||(n[0]=function(e){return handleCloseModal("button")})},"完成")]),(0,i._)("div",eC,[(0,i._)("div",ey,[n[4]||(n[4]=(0,i._)("h3",{class:"content-title"}," 欢迎 ",-1)),n[5]||(n[5]=(0,i._)("p",{class:"content-hint"}," 下载小红书 App，体验更多精彩功能 ",-1)),(0,i.Wm)((0,i.SU)(c.zx),{type:"button-type",onMouseenter:n[1]||(n[1]=function(e){return handleMouseEnter("button")}),onMouseleave:handleMouseLeave},{icon:(0,i.w5)(function(){return[(0,i.Wm)((0,i.SU)(c.i8),{icon:"scan_qr",width:"20px",height:"20px"})]}),default:(0,i.w5)(function(){return[n[3]||(n[3]=(0,i.Uk)(" 扫码下载 "))]}),_:1,__:[3]})]),(0,i._)("div",{class:"guide-img",style:(0,i.j5)({overflow:(0,i.SU)(r)?"visible":"hidden"})},[(0,i._)("div",{class:"guide-img-content",style:{},onMouseenter:n[2]||(n[2]=function(e){return handleMouseEnter("ui")}),onMouseleave:handleMouseLeave},[(0,i.wy)((0,i._)("div",ek,[(0,i._)("div",{class:"app-qrcode"},[(0,i._)("img",{crossorigin:"anonymous",alt:"二维码",src:"//ci.xiaohongshu.com/0b84da4e-3984-4603-a2f2-72a806e5494d"})])],512),[[i.F8,(0,i.SU)(r)]]),(0,i.wy)((0,i._)("div",ew,[(0,i._)("img",{alt:"小红书",crossorigin:"anonymous",src:"//picasso-static.xiaohongshu.com/fe-platform/699a18c47c26718d08976a87fdbba7e8a33091bc.png"})],512),[[i.F8,!(0,i.SU)(r)]])],32)],4)])])}}});let eD=(0,L.default)(eU,[["__scopeId","data-v-31030468"]]);t(6045),t(10364),t(67673),t(42876),t(33933),t(87535),t(75204);var eI={key:0,class:"items"},eA=["onClick"],eM={class:"badage-number"},eL={class:"item-label"},eT={key:1},ex={class:"items"},eP=["onClick"],ej={class:"badage"},eq={class:"item-label"},ez=(0,i.aZ)({__name:"ImageSelect",props:{multiple:{type:Boolean},options:{},value:{},size:{},gap:{}},emits:["update:value","onSelect","onCancelSelect"],setup:function(e,n){var t=n.emit;(0,i.sj)(function(e){return{"6b217a94":(0,i.SU)(s),"2fe92f22":(0,i.SU)(u)}});var a=(0,i.iH)([]),o=(0,i.iH)(null),r=(0,i.iH)(0),l=(0,i.iH)(e.options.map(function(){return{number:-1}})),u=(0,i.Fl)(function(){return e.size&&"medium"!==e.size?"96px":"72px"}),s=(0,i.Fl)(function(){return e.gap?"".concat(e.gap,"px"):"24px"}),getBgImgStyle=function(e){return"url('".concat(e,"') lightgray 50% / cover no-repeat")};function handleMultipleSelection(e,n){if(a.value.includes(e)){t("onCancelSelect",n),a.value=a.value.filter(function(n){return n!==e}),r.value-=1;var o=l.value[n].number;l.value.forEach(function(e){e.number===o&&(e.number=-1),e.number>o&&(e.number-=1)})}else t("onSelect",n),r.value+=1,l.value[n].number=r.value,a.value.push(e);t("update:value",a.value)}function handleSingleSelection(e,n){o.value=e,t("update:value",o.value),t("onSelect",n)}return(0,i.YP)(function(){return e.value},function(n){e.multiple?a.value=n:o.value=n},{immediate:!0}),function(n,t){return(0,i.wg)(),(0,i.iD)("div",null,[n.multiple?((0,i.wg)(),(0,i.iD)("div",eI,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.options,function(n,t){return(0,i.wg)(),(0,i.iD)("div",{key:t,style:(0,i.j5)({width:(0,i.SU)(u)}),class:"item-wrapper",onClick:function(e){return handleMultipleSelection(n.value,t)}},[(0,i._)("div",{class:"item-img",style:(0,i.j5)({background:getBgImgStyle(n.imgSrc)})},[(0,i._)("div",{class:(0,i.C_)([(0,i.SU)(a).includes(n.value)?"selected":""])},null,2),(0,i.wy)((0,i._)("div",{class:(0,i.C_)(["badage",{"badage-medium":"large"!==e.size}])},[(0,i._)("span",eM,(0,i.zw)((0,i.SU)(l)[t].number>-1?(0,i.SU)(l)[t].number:null),1)],2),[[i.F8,(0,i.SU)(a).includes(n.value)]])],4),(0,i._)("div",eL,(0,i.zw)(n.label),1)],12,eA)}),128))])):((0,i.wg)(),(0,i.iD)("div",eT,[(0,i._)("div",ex,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.options,function(e,n){return(0,i.wg)(),(0,i.iD)("div",{key:n,style:(0,i.j5)({width:(0,i.SU)(u)}),class:"item-wrapper",onClick:function(t){return handleSingleSelection(e.value,n)}},[(0,i._)("div",{class:"item-img",style:(0,i.j5)({background:getBgImgStyle(e.imgSrc)})},[(0,i._)("div",{class:(0,i.C_)([(0,i.SU)(o)===e.value?"selected":""])},null,2),(0,i.wy)((0,i._)("div",ej,[(0,i.Wm)((0,i.SU)(c.i8),{icon:"checkmark",size:"16"})],512),[[i.F8,(0,i.SU)(o)===e.value]])],4),(0,i._)("div",eq,(0,i.zw)(e.label),1)],12,eP)}),128))])]))])}}});let eN=(0,L.default)(ez,[["__scopeId","data-v-51a68eb0"]]);var eH={class:"gender-ob-wrapper"},eW={class:"gender-ob-select"},eV={class:"gender-ob-next"},eO=(0,i.aZ)({__name:"GenderSelecter",setup:function(e){var n=(0,S.r0)(),t=[{label:"男生",value:"0",imgSrc:"https://picasso-static.xiaohongshu.com/fe-platform/99f03eff75e84b355e2126f8ffb253abc1ccc773.png"},{label:"女生",value:"1",imgSrc:"https://picasso-static.xiaohongshu.com/fe-platform/d3ae9e3cfaa293ed516cf22de33c29e1be473d0e.png"}],r=(0,i.Fl)(function(){return void 0!==n.genderSelectValue});function handleSelectGender(){(0,w.pz)(38576)}function reportGenderAndGoNext(){return _reportGenderAndGoNext.apply(this,arguments)}function _reportGenderAndGoNext(){return(_reportGenderAndGoNext=(0,a._)(function(){return(0,o.Jh)(this,function(e){return((0,w.pz)(38577),n.genderSelectValue)?(n.reportUserInfo("web_gender",n.genderSelectValue),n.setObPageFillInProgress(v.EV.Age),n.beforeFillInAge(),[2]):[2]})})).apply(this,arguments)}return function(e,a){return(0,i.wg)(),(0,i.iD)("div",eH,[a[2]||(a[2]=(0,i._)("div",{class:"gender-ob-header"}," 选择你的性别 ",-1)),(0,i._)("div",eW,[(0,i.Wm)(eN,{value:(0,i.SU)(n).genderSelectValue,"onUpdate:value":a[0]||(a[0]=function(e){return(0,i.SU)(n).genderSelectValue=e}),class:"gender-ob-select-checkbox",multiple:!1,options:t,gap:40,size:"large",onOnSelect:handleSelectGender},null,8,["value"])]),a[3]||(a[3]=(0,i._)("div",{class:"gender-ob-footer"}," 欢迎来到小红书，完善信息以个性化你的内容 ",-1)),(0,i._)("div",eV,[(0,i.Wm)((0,i.SU)(c.zx),{class:"gender-ob-btn",disabled:!(0,i.SU)(r),onClick:reportGenderAndGoNext},{default:(0,i.w5)(function(){return a[1]||(a[1]=[(0,i.Uk)(" 继续 ")])}),_:1,__:[1]},8,["disabled"])])])}}});let eF=(0,L.default)(eO,[["__scopeId","data-v-04a7e6e2"]]);var eR=t(12115),eE={class:"hobby-ob-wrapper"},eQ={class:"ob-scroll-container"},eY={class:"hobby-ob-select-title"},eG={class:"hobby-ob-select"},eJ={key:0,class:"loading"},eZ={key:1,class:"hobby-ob-select-checkbox"},eB={class:"hobby-ob-next"},eK=(0,i.aZ)({__name:"HobbySelecter",emits:["onNext"],setup:function(e,n){var t=n.emit,r=(0,S.r0)(),l=(0,x.Jk)(r).hobbySelectValue,u=(0,ed._)((0,D.OT)(!1),2),s=u[0],d=u[1],p=(0,i.iH)();function backToPrevAge(){r.setObPageFillInProgress(v.EV.Age)}function reportAgeAndGoNext(){return _reportAgeAndGoNext.apply(this,arguments)}function _reportAgeAndGoNext(){return(_reportAgeAndGoNext=(0,a._)(function(){return(0,o.Jh)(this,function(e){switch(e.label){case 0:return[4,r.reportHobby(r.hobbySelectValue)];case 1:return e.sent(),t("onNext"),l.value=[],r.afterFillInHobby(),[2]}})})).apply(this,arguments)}function handleSelectHobby(e){var n,t;(0,w.pz)(38580,{objectPosition:e+1,componentName:null===(t=p.value)||void 0===t?void 0:null===(n=t[e])||void 0===n?void 0:n.label})}function handleCancelSelectHobby(e){var n,t;(0,w.pz)(38581,{objectPosition:e+1,componentName:null===(t=p.value)||void 0===t?void 0:null===(n=t[e])||void 0===n?void 0:n.label})}return(0,i.wF)((0,a._)(function(){var e,n;return(0,o.Jh)(this,function(t){switch(t.label){case 0:d(!0),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,r.getHobbyRecList()];case 2:return n=t.sent(),p.value=null===(e=n.tags)||void 0===e?void 0:e.map(function(e){return{label:e.name,value:e.id,imgSrc:e.image}}),[3,4];case 3:return d(!1),[7];case 4:return[2]}})})),function(e,n){return(0,i.wg)(),(0,i.iD)("div",eE,[(0,i.Wm)((0,i.SU)(c.hU),{class:"hobby-ob-header-icon",onClick:backToPrevAge},{default:(0,i.w5)(function(){return[(0,i.Wm)((0,i.SU)(c.i8),{icon:"back",size:"20"})]}),_:1}),n[2]||(n[2]=(0,i._)("div",{class:"hobby-ob-header"},[(0,i._)("span",{class:"hobby-ob-header-text"},"选择你的兴趣")],-1)),(0,i._)("div",eQ,[(0,i._)("div",eY,(0,i.zw)((0,i.SU)(s)?"":"即将完成，请选择 4 个以上兴趣"),1),(0,i._)("div",eG,[(0,i.SU)(s)?((0,i.wg)(),(0,i.iD)("div",eJ,[(0,i.Wm)(eR.Z,{size:24})])):(0,i.kq)("",!0),(0,i.SU)(p)&&!(0,i.SU)(s)?((0,i.wg)(),(0,i.iD)("div",eZ,[(0,i.Wm)(eN,{value:(0,i.SU)(r).hobbySelectValue,"onUpdate:value":n[0]||(n[0]=function(e){return(0,i.SU)(r).hobbySelectValue=e}),multiple:!0,options:(0,i.SU)(p),onOnSelect:handleSelectHobby,onOnCancelSelect:handleCancelSelectHobby},null,8,["value","options"])])):(0,i.kq)("",!0)])]),(0,i._)("div",eB,[(0,i.Wm)((0,i.SU)(c.zx),{class:"hobby-ob-btn",disabled:(0,i.SU)(l).length<4,onClick:reportAgeAndGoNext},{default:(0,i.w5)(function(){return n[1]||(n[1]=[(0,i.Uk)(" 继续 ")])}),_:1,__:[1]},8,["disabled"])])])}}});let e$=(0,L.default)(eK,[["__scopeId","data-v-5e8ee578"]]);var eX=(0,i.aZ)({__name:"Index",setup:function(e){var n=(0,C.L)(),t=(0,S.r0)(),a=(0,x.Jk)(t).showLogin;function handleCloseModal(){a.value=!1,t.setIsObPagesVisible(!1),n.$mitt.emit("onLogin","verification_code")}function handleHobbyNext(){(0,w.pz)(49025),t.setObPageFillInProgress(v.EV.Download)}return function(e,n){return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(),(0,i.j4)(i.Ob,null,[(0,i.SU)(t).obPageFillInProgress===(0,i.SU)(v.EV).Gender?((0,i.wg)(),(0,i.j4)(eF,{key:0})):(0,i.kq)("",!0)],1024)),(0,i.SU)(t).obPageFillInProgress===(0,i.SU)(v.EV).Age?((0,i.wg)(),(0,i.j4)(e_,{key:0})):(0,i.kq)("",!0),((0,i.wg)(),(0,i.j4)(i.Ob,null,[(0,i.SU)(t).obPageFillInProgress===(0,i.SU)(v.EV).Hobby?((0,i.wg)(),(0,i.j4)(e$,{key:0,onOnNext:handleHobbyNext})):(0,i.kq)("",!0)],1024)),(0,i.SU)(t).obPageFillInProgress===(0,i.SU)(v.EV).Download?((0,i.wg)(),(0,i.j4)(eD,{key:1,onOnNext:handleCloseModal})):(0,i.kq)("",!0)],64)}}}),e0=t(8306),e1=t(73926),e2={class:"input-container"},e4={onsubmit:"return false",class:"form"},e3={class:"phone"},e5=["name"],e8="xhs-pc-web-phone",e6=(0,i.aZ)({__name:"PhoneInput",setup:function(e,n){var t=n.expose,r=(0,S.r0)(),d=(0,g.h)().handleHttpCatch,v=(0,i.Fl)(function(){return!r.isRegFusing}),f=(0,i.iH)(e8),h=(0,i.iH)(),m=(0,x.Jk)(r),_=m.counter,b=m.verificationCodeStartTime,C=(0,i.iH)(!1),U=(0,i.iH)();function formatPhone(e){var n=(0,e0.BX)(e.target.value);r.loginData.phone=n}function handleInputBlur(){f.value="blur"}function handleFocus(){f.value=e8}function innerSendAuthCode(){return _innerSendAuthCode.apply(this,arguments)}function _innerSendAuthCode(){return(_innerSendAuthCode=(0,a._)(function(){var e,n,t,a,i,p,g=arguments;return(0,o.Jh)(this,function(o){switch(o.label){case 0:e=!(g.length>0)||void 0===g[0]||g[0],n=g.length>1&&void 0!==g[1]&&g[1],e&&(0,w.kj)(24451,{channelType:n?"retry":"next"}),t={type:"verification_code",api:"getApiSnsWebV1LoginSendCode",reportType:"sendCode",time:b.value},a=v.value?s.y5:s.EB,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,a({params:{phone:r.loginData.phone.replace(/\s+/g,""),zone:"86",type:"login"}})];case 2:return o.sent(),U.value=r.loginData.phone,_.value.reset(18e4),_.value.start(),r.loginData.authCode="",(0,c.zM)("验证码已发送"),(0,w.kj)(30775,{channelType:n?"retry":"next"}),r.errors.phone="",r.errors.authCode="",(0,k.Iq)((0,u._)((0,l._)({},t),{status:"success"})),[2,!0];case 3:return i=o.sent(),(0,w.kj)(37623,{channelType:n?"retry":"next",errorDesc:(null==i?void 0:null===(p=i.data)||void 0===p?void 0:p.msg)||(null==i?void 0:i.msg)||(null==i?void 0:i.message)||(null==i?void 0:i.code)||""}),i.status===y.o.InAntiSpamChecking&&r.setInSpamCheckSendAuthCode(!0),d("getApiSnsWebV1LoginSendCode",i),(0,k.Iq)((0,u._)((0,l._)({},t),{status:"fail"}),JSON.stringify({errMsg:i.data,errorCode:i.status})),[2,!1];case 4:return[2]}})})).apply(this,arguments)}var D=p()(innerSendAuthCode,500,{leading:!0,trailing:!1});function handleLoginContinue(){return _handleLoginContinue.apply(this,arguments)}function _handleLoginContinue(){return(_handleLoginContinue=(0,a._)(function(){return(0,o.Jh)(this,function(e){switch(e.label){case 0:if(!r.validPhone)return(0,c.zM)("请检查手机号"),[2];if(U.value===r.loginData.phone&&_.value.counting)return r.handleLoginStep(S.Fh.PageTwo),[2];return[4,D()];case 1:return e.sent()&&(f.value=e8,r.handleLoginStep(S.Fh.PageTwo)),[2]}})})).apply(this,arguments)}function handleCountryCodeClick(){(0,c.zM)("暂不支持切换地区，敬请期待")}var I=(0,i.YP)(function(){return r.loginData.phone},function(){b.value=Date.now(),!C.value&&((0,w.kj)(30774,{status:"0"}),(0,w.kj)(37622,{status:r.validPhone?"1":"0"}),(0,k.Iq)({type:"verification_code",api:"",reportType:"inputPhoneNumber",status:"success",time:b.value}),C.value=!0),r.validPhone&&((0,k.Iq)({type:"verification_code",api:"",reportType:"inputCompletePhoneNumber",status:"success",time:b.value}),(0,w.kj)(30774,{status:"1"}),I())});return(0,i.bv)(function(){setTimeout(function(){var e;null===(e=h.value)||void 0===e||e.focus()},500),_.value=(0,e1.Z)({time:2e3})}),t({sendAuthCode:D}),function(e,n){return(0,i.wg)(),(0,i.iD)("div",e2,[(0,i._)("form",e4,[(0,i._)("label",e3,[(0,i._)("span",{class:"country-code",onClick:handleCountryCodeClick},"+86"),(0,i.wy)((0,i._)("input",{ref_key:"phoneInputEl",ref:h,"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,i.SU)(r).loginData.phone=e}),placeholder:"输入手机号",type:"text",name:(0,i.SU)(f),autofocus:!0,onFocus:handleFocus,onInput:formatPhone,onBlur:handleInputBlur,onKeypress:(0,i.D2)(handleLoginContinue,["enter"])},null,40,e5),[[i.nr,(0,i.SU)(r).loginData.phone]])])]),(0,i.wy)((0,i._)("div",{class:"continue",onClick:handleLoginContinue}," 继续 ",512),[[i.F8,(0,i.SU)(r).loginData.phone]])])}}});let e7=(0,L.default)(e6,[["__scopeId","data-v-565711d2"]]);t(61079);var e9=t(13285),ne={to:"body"},nn={class:"login-container"},nt={class:"hint"},na={key:2,class:"container"},no={key:0,class:"help-tip"},ni={class:"alert-content"},nr={class:"alert-text"},nl=["href"],nu=["href"],ns=["href"],nc=(0,i.aZ)({__name:"Index",props:{fullPage:{type:Boolean}},setup:function(e){var n,t=(0,C.L)(),r=(0,S.r0)(),d=(0,b.R)(),U=(0,g.h)().handleHttpCatch,D=(0,e9.yj)(),I=(0,f.C)().LayoutGray,A=(0,x.Jk)(r),M=A.loginStep,L=A.loginPadMountedTime,T=A.isRiskUser,P=(0,i.iH)(),j=(0,i.iH)();function goOb(){r.setIsObPagesVisible(!0),r.setObPageFillInProgress(v.EV.Gender),r.beforeFillInGender()}var q=(0,i.Fl)(function(){return!r.isRegFusing});function onClose(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.isObPagesVisible){r.$mitt.emit("boardingModalChange",{type:"click_mask"});return}if(!0!==n||M.value!==S.Fh.PageTwo)(0,k.Iq)({type:"loginPad",api:"",reportType:"loginPadClosed",status:"success",time:L.value}),(0,w.kj)(35583),!e.fullPage&&r.closeLogin(),(D.name===m.Z.SearchName||D.name===m.Z.AISearchName)&&d.searchPageCloseLoginBox(),r.$mitt.emit("loginModalVisibleChange",{visible:!1}),r.reset()}function handleConfirmTips(){if(r.toggleAgree(!0),r.toggleTooltip(!1),"phone"===r.loginMethod){var e;null===(e=j.value)||void 0===e||e.validateCode()}}function handleResendCode(){return _handleResendCode.apply(this,arguments)}function _handleResendCode(){return(_handleResendCode=(0,a._)(function(){var e;return(0,o.Jh)(this,function(n){switch(n.label){case 0:return[4,null===(e=P.value)||void 0===e?void 0:e.sendAuthCode(!0,!0)];case 1:return n.sent(),[2]}})})).apply(this,arguments)}(0,h.Z)(function(){return onClose(!0)});var z="";var N=p()((n=(0,a._)(function(e){var n,a,i,c,d,p,g,v;return(0,o.Jh)(this,function(o){switch(o.label){case 0:z=e,n={type:"verification_code",api:"postApiSnsWebV1LoginCode",reportType:"phoneNumberLogin",time:r.verificationCodeStartTime},o.label=1;case 1:if(o.trys.push([1,6,,7]),a={mobileToken:e,zone:"86",phone:r.loginData.phone.replace(/\s+/g,"")},q.value)return[3,3];return[4,(0,s.Tt)(a)];case 2:return o.sent().userId&&t.$mitt.emit("onLogin","verification_code"),[3,5];case 3:return[4,(0,s.yG)(a)];case 4:c=(i=o.sent()).userExists,d=i.userId,c?t.$mitt.emit("onLogin","verification_code"):((0,w.pz)(38575,{userId:null!==(g=null==t?void 0:null===(p=t.userInfo)||void 0===p?void 0:p.userId)&&void 0!==g?g:"unkown",guestUserId:d,channelType:r.from}),goOb()),o.label=5;case 5:return(0,k.Iq)((0,u._)((0,l._)({},n),{status:"success"})),[3,7];case 6:return v=o.sent(),(0,w.kj)(30780,{channelType:"verification_code",channelTabName:(null==v?void 0:v.msg)||(null==v?void 0:v.message)||(null==v?void 0:v.code)||""}),(null==v?void 0:v.code)===y.o.AuthCodeLoginRiskUser?r.setRiskUser(!0):(null==v?void 0:v.status)===y.o.InAntiSpamChecking?r.setInAntiSpamCheckLogin(!0):U("postApiSnsWebV1LoginCode",v),(0,k.Iq)((0,u._)((0,l._)({},n),{status:"fail"}),JSON.stringify({errMsg:v.data,errorCode:v.status})),[3,7];case 7:return[2]}})}),function(e){return n.apply(this,arguments)}),500,{leading:!0,trailing:!1});function handleBack(){var e;null===(e=j.value)||void 0===e||e.recordAuthCode(),r.handleLoginStep(S.Fh.PageOne)}return(0,i.bv)(function(){t.$mitt.on("onLogin",function(){return onClose()}),(0,w.kj)(24452,{channelType:r.from,fromPage:D.name}),L.value=Date.now(),(0,k.Iq)({type:"loginPad",api:"",reportType:"loginPadMounted",status:"success",time:L.value})}),(0,i.YP)(function(){return r.inAntiSpamCheckLogin},function(){!1===r.inAntiSpamCheckLogin&&N(z)}),function(e,n){return(0,i.wg)(),(0,i.iD)("div",ne,[(0,i.Wm)(i.uT,{name:"fade"},{default:(0,i.w5)(function(){return[(0,i.Wm)((0,i.SU)(c.ce),{open:(0,i.SU)(r).showLogin,class:(0,i.C_)(["login-modal",{"full-page":e.fullPage,gray:(0,i.SU)(I)}]),onClickMask:n[2]||(n[2]=function(e){return onClose(!0)})},{default:(0,i.w5)(function(){return[(0,i._)("div",nn,[(0,i.SU)(r).isObPagesVisible?((0,i.wg)(),(0,i.j4)(eX,{key:1})):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.fullPage?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)((0,i.SU)(c.hU),{key:0,width:40,height:40,class:"button close",onClick:onClose},{default:(0,i.w5)(function(){return[(0,i.Wm)((0,i.SU)(c.i8),{size:"20",icon:"close"})]}),_:1})),(0,i.SU)(M)!==(0,i.SU)(S.Fh).PageOne?((0,i.wg)(),(0,i.j4)((0,i.SU)(c.hU),{key:1,width:40,height:40,class:"button back",onClick:handleBack},{default:(0,i.w5)(function(){return[(0,i.Wm)((0,i.SU)(c.i8),{size:"20",icon:"back"})]}),_:1})):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",{class:(0,i.C_)(["container",{risk:(0,i.SU)(T)}])},[(0,i.Wm)(ec),(0,i.Wm)(eo),(0,i.SU)(T)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[n[3]||(n[3]=(0,i._)("div",{class:"oauth-tip"},[(0,i._)("span",{class:"oauth-tip-line"},"或")],-1)),(0,i.Wm)(e7,{ref_key:"phoneInputRef",ref:P},null,512),(0,i._)("div",nt,(0,i.zw)((0,i.SU)(q)?"新用户可直接登录":"登录体验更多功能"),1)],64))],2),[[i.F8,(0,i.SU)(M)===(0,i.SU)(S.Fh).PageOne]]),(0,i.SU)(M)===(0,i.SU)(S.Fh).PageTwo?((0,i.wg)(),(0,i.iD)("div",na,[(0,i.Wm)(R,{ref_key:"CodeInputRef",ref:j,onResendCode:handleResendCode,onLogin:n[0]||(n[0]=function(e){return(0,i.SU)(N)(e)})},null,512)])):(0,i.kq)("",!0)],64))]),e.fullPage?((0,i.wg)(),(0,i.iD)("div",no," 帮助与反馈：小红书 App 点击“我 - 帮助与客服”进行反馈 ")):(0,i.kq)("",!0),(0,i.Wm)((0,i.SU)(c.VL),{show:(0,i.SU)(r).showTooltip,width:320,title:"阅读并同意","confirm-text":"同意并继续","cancel-text":"取消",onConfirm:handleConfirmTips,onCancel:n[1]||(n[1]=function(e){return(0,i.SU)(r).toggleTooltip(!1)})},{content:(0,i.w5)(function(){return[(0,i._)("label",ni,[(0,i._)("div",nr,[(0,i._)("a",{target:"_blank",href:(0,i.SU)(_.n).TERMS},"《用户协议》",8,nl),(0,i._)("a",{target:"_blank",href:(0,i.SU)(_.n).PRIVACY},"《隐私政策》",8,nu),n[4]||(n[4]=(0,i._)("br",null,null,-1)),(0,i._)("a",{target:"_blank",href:(0,i.SU)(_.n).TEENS_PROTECT},"《儿童/青少年个人信息保护规则》",8,ns)])])]}),_:1},8,["show"])]}),_:1},8,["open","class"])]}),_:1})])}}});let nd=(0,L.default)(nc,[["__scopeId","data-v-1183e358"]]);var np={onsubmit:"return false"},ng=["name"],nv=["onKeypress"],nf={class:"err-msg"},nh=(0,i.aZ)({__name:"Input",setup:function(e,n){var t,r=n.expose,d=(0,S.r0)(),f=(0,C.L)(),h=(0,g.h)().handleHttpCatch,m=(0,e1.Z)({time:2e3}),_=(0,i.iH)("xhs-pc-web-phone"),b=(0,x.Jk)(d).loginPadMountedTime,U=(0,i.iH)(),D=(0,i.iH)(),I=(0,i.Fl)(function(){return!d.isRegFusing});function goOb(){d.setIsObPagesVisible(!0),d.setObPageFillInProgress(v.EV.Gender),d.beforeFillInGender()}function formatAuthCode(e){var n=e.target.value;n.length>6&&(d.loginData.authCode=n.slice(0,6))}function handleInputBlur(){_.value="blur"}function handleFocus(){_.value="xhs-pc-web-phone"}var A=(0,i.Fl)(function(){return m.counting.value?"重新发送（".concat(60*m.current.value.minutes+m.current.value.seconds,"s）"):"获取验证码"});function formatPhone(e){var n=(0,e0.BX)(e.target.value);d.loginData.phone=n}(0,i.bv)(function(){setTimeout(function(){var e;null===(e=U.value)||void 0===e||e.focus()},300)});var M="";var L=p()((t=(0,a._)(function(e){var n,t,a,i,r,c,p,g,v;return(0,o.Jh)(this,function(o){switch(o.label){case 0:M=e,n={type:"verification_code",api:"postApiSnsWebV1LoginCode",reportType:"phoneNumberLogin",time:b.value},o.label=1;case 1:if(o.trys.push([1,6,,7]),t={mobileToken:e,zone:"86",phone:d.loginData.phone.replace(/\s+/g,"")},I.value)return[3,3];return[4,(0,s.Tt)(t)];case 2:return a=o.sent().userId,_.value="xhs-pc-web-phone",a&&f.$mitt.emit("onLogin","verification_code"),[3,5];case 3:return[4,(0,s.yG)(t)];case 4:r=(i=o.sent()).userExists,c=i.userId,r?f.$mitt.emit("onLogin","verification_code"):((0,w.pz)(38575,{userId:null!==(g=null==f?void 0:null===(p=f.userInfo)||void 0===p?void 0:p.userId)&&void 0!==g?g:"unkown",guestUserId:c,channelType:d.from}),goOb()),o.label=5;case 5:return(0,k.Iq)((0,u._)((0,l._)({},n),{status:"success"})),[3,7];case 6:return v=o.sent(),(0,w.kj)(30780,{channelType:"verification_code",channelTabName:(null==v?void 0:v.msg)||(null==v?void 0:v.message)||(null==v?void 0:v.code)||""}),(null==v?void 0:v.code)===y.o.AuthCodeLoginRiskUser?d.setRiskUser(!0):(null==v?void 0:v.status)===y.o.InAntiSpamChecking?d.setInAntiSpamCheckLogin(!0):h("postApiSnsWebV1LoginCode",v),(0,k.Iq)((0,u._)((0,l._)({},n),{status:"fail"}),JSON.stringify({errMsg:v.data,errorCode:v.status})),[3,7];case 7:return[2]}})}),function(e){return t.apply(this,arguments)}),500,{leading:!0,trailing:!1});function validateCode(){return _validateCode.apply(this,arguments)}function _validateCode(){return(_validateCode=(0,a._)(function(){var e,n,t;return(0,o.Jh)(this,function(a){switch(a.label){case 0:if(!d.validCode)return[2];e={type:"verification_code",api:"getApiSnsWebV1LoginCheckCode",reportType:"checkCode",time:b.value},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,s.ng)({params:{phone:d.loginData.phone.replace(/\s+/g,""),zone:"86",code:d.loginData.authCode}})];case 2:return n=a.sent().mobileToken,d.errors.authCode="",(0,k.Iq)((0,u._)((0,l._)({},e),{status:"success"})),n&&L(n),[3,4];case 3:return h("getApiSnsWebV1LoginCheckCode",t=a.sent()),(0,k.Iq)((0,u._)((0,l._)({},e),{status:"fail"}),JSON.stringify({errMsg:t.data,errorCode:t.status})),[3,4];case 4:return[2]}})})).apply(this,arguments)}function onLogin(){return _onLogin.apply(this,arguments)}function _onLogin(){return(_onLogin=(0,a._)(function(){return(0,o.Jh)(this,function(e){switch(e.label){case 0:if(!d.validPhone)return[2];if((0,w.kj)(24449),!d.agreed)return[3,2];return[4,validateCode()];case 1:return e.sent(),[3,3];case 2:d.loginMethod="phone",d.toggleTooltip(!0),e.label=3;case 3:return[2]}})})).apply(this,arguments)}function innerSendAuthCode(){return _innerSendAuthCode.apply(this,arguments)}function _innerSendAuthCode(){return(_innerSendAuthCode=(0,a._)(function(){var e,n,t,a,i,r,p=arguments;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(e=!(p.length>0)||void 0===p[0]||p[0],!(!m.counting.value&&d.validPhone))return[3,4];if(!d.agreed)return(0,c.zM)("请先阅读并同意相关协议"),[2];e&&(0,w.kj)(24451,{channelType:"receive"}),n={type:"verification_code",api:"getApiSnsWebV1LoginSendCode",reportType:"sendCode",time:b.value},t=I.value?s.y5:s.EB,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t({params:{phone:d.loginData.phone.replace(/\s+/g,""),zone:"86",type:"login"}})];case 2:return o.sent(),m.reset(18e4),m.start(),(0,c.zM)("验证码已发送"),null===(a=D.value)||void 0===a||a.focus(),(0,w.kj)(30775,{channelType:"receive"}),d.errors.phone="",(0,k.Iq)((0,u._)((0,l._)({},n),{status:"success"})),[3,4];case 3:return i=o.sent(),(0,w.kj)(37623,{channelType:"receive",errorDesc:(null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.msg)||(null==i?void 0:i.msg)||(null==i?void 0:i.message)||(null==i?void 0:i.code)||""}),i.status===y.o.InAntiSpamChecking&&d.setInSpamCheckSendAuthCode(!0),h("getApiSnsWebV1LoginSendCode",i),(0,k.Iq)((0,u._)((0,l._)({},n),{status:"fail"}),JSON.stringify({errMsg:i.data,errorCode:i.status})),[3,4];case 4:return[2]}})})).apply(this,arguments)}var T=p()(innerSendAuthCode,500,{leading:!0,trailing:!1}),P=(0,i.YP)(function(){return d.loginData.phone},function(){(0,w.kj)(30774,{status:d.validPhone?"1":"0"}),P(),(0,k.Iq)({type:"verification_code",api:"",reportType:"inputPhoneNumber",status:"success",time:b.value})}),j=(0,i.YP)(function(){return d.loginData.authCode},function(){(0,w.kj)(30776),j(),(0,k.Iq)({type:"verification_code",api:"",reportType:"inputCode",status:"success",time:b.value})});return(0,i.YP)(function(){return d.inSpamCheckSendAuthCode},function(){!1===d.inSpamCheckSendAuthCode&&innerSendAuthCode(!1)}),(0,i.YP)(function(){return d.inAntiSpamCheckLogin},function(){!1===d.inAntiSpamCheckLogin&&L(M)}),r({validateCode:validateCode}),function(e,n){return(0,i.wg)(),(0,i.iD)("div",{class:(0,i.C_)(["input-container",{"mt-20px":I.value}])},[(0,i._)("form",np,[(0,i._)("label",{class:(0,i.C_)(["phone",{error:(0,i.SU)(d).errors.phone}])},[n[4]||(n[4]=(0,i._)("span",{class:"country-code"},"+86",-1)),(0,i.wy)((0,i._)("input",{ref_key:"phoneInputEl",ref:U,"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,i.SU)(d).loginData.phone=e}),placeholder:"输入手机号",type:"text",name:(0,i.SU)(_),autofocus:!0,onInput:formatPhone,onFocus:handleFocus,onKeypress:n[1]||(n[1]=(0,i.D2)((0,i.iM)(function(e){return(0,i.SU)(T)(!0)},["prevent"]),["enter"])),onBlur:handleInputBlur},null,40,ng),[[i.nr,(0,i.SU)(d).loginData.phone]]),(0,i.wy)((0,i.Wm)((0,i.SU)(c.i8),{size:"24",icon:"clear",class:"clear",fill:"#xhs-pc-web-phone",onClick:(0,i.SU)(d).clearPhone},null,8,["onClick"]),[[i.F8,(0,i.SU)(d).loginData.phone]])],2),n[5]||(n[5]=(0,i._)("div",{style:{height:"16px"}},null,-1)),(0,i._)("label",{class:(0,i.C_)(["auth-code",{error:(0,i.SU)(d).errors.authCode}])},[(0,i.wy)((0,i._)("input",{ref_key:"codeInputEl",ref:D,"onUpdate:modelValue":n[2]||(n[2]=function(e){return(0,i.SU)(d).loginData.authCode=e}),type:"number",placeholder:"输入验证码",autocomplete:"false",onKeypress:(0,i.D2)((0,i.iM)(onLogin,["prevent"]),["enter"]),onInput:formatAuthCode},null,40,nv),[[i.nr,(0,i.SU)(d).loginData.authCode]]),(0,i._)("span",{class:(0,i.C_)(["code-button",{active:(0,i.SU)(d).validPhone&&!(0,i.SU)(m).counting.value}]),onClick:n[3]||(n[3]=function(e){return(0,i.SU)(T)(!0)})},(0,i.zw)(A.value),3)],2),(0,i._)("div",nf,(0,i.zw)((0,i.SU)(d).errors.authCode),1),(0,i._)("button",{class:(0,i.C_)(["submit",{active:(0,i.SU)(d).validPhone&&(0,i.SU)(d).validCode}]),onClick:onLogin}," 登录 ",2)])],2)}}});let nm=(0,L.default)(nh,[["__scopeId","data-v-297eb4aa"]]);var n_=t(6890),nS={to:"body"},nb={class:"left"},nC={key:1,class:"right"},ny={key:0,class:"help-tip"},nk={class:"alert-content"},nw={class:"alert-text"},nU=["href"],nD=["href"],nI=["href"],nA=(0,i.aZ)({__name:"Index",props:{fullPage:{type:Boolean}},setup:function(e){var n=(0,C.L)(),t=(0,S.r0)(),a=(0,b.R)(),o=(0,n_.s6)(),r=(0,e9.yj)(),l=(0,x.Jk)(t),u=l.loginPadMountedTime,s=l.isRiskUser,d=(0,i.iH)(),p=(0,f.C)().LayoutGray;function onClose(){if(t.isObPagesVisible){t.$mitt.emit("boardingModalChange",{type:"click_mask"});return}(0,w.kj)(35583),!e.fullPage&&t.closeLogin(),(r.name===m.Z.SearchName||r.name===m.Z.AISearchName)&&a.searchPageCloseLoginBox(),t.$mitt.emit("loginModalVisibleChange",{visible:!1})}function handleConfirmTips(){if(t.toggleAgree(!0),t.toggleTooltip(!1),"phone"===t.loginMethod){var e;null===(e=d.value)||void 0===e||e.validateCode()}}function handleCancelTips(){t.toggleTooltip(!1)}return(0,h.Z)(onClose),(0,i.YP)(function(){return n.loggedIn},function(e){e&&onClose()}),(0,i.bv)(function(){(0,w.kj)(24452,{channelType:t.from,fromPage:r.name}),u.value=Date.now(),(0,k.Iq)({type:"loginPad",api:"",reportType:"loginPadMounted",status:"success",time:u.value})}),function(e,n){return(0,i.wg)(),(0,i.iD)("div",nS,[(0,i.Wm)(i.uT,{name:"fade"},{default:(0,i.w5)(function(){return[(0,i.Wm)((0,i.SU)(c.ce),{open:(0,i.SU)(t).showLogin,class:(0,i.C_)(["login-modal",{"full-page":e.fullPage,gray:(0,i.SU)(p)}]),onClickMask:onClose},{default:(0,i.w5)(function(){return[(0,i._)("div",{class:(0,i.C_)(["login-container",{"nio-login-container":(0,i.SU)(o).isNIO}])},[(0,i.SU)(t).isObPagesVisible?((0,i.wg)(),(0,i.j4)(eX,{key:1})):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.fullPage?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)((0,i.SU)(c.hU),{key:0,width:40,height:40,class:"close-button",onClick:onClose},{default:(0,i.w5)(function(){return[(0,i.Wm)((0,i.SU)(c.i8),{size:"20",icon:"close"})]}),_:1})),(0,i._)("div",nb,[(0,i.Wm)(ec),(0,i.Wm)(eo,(0,i.vs)((0,i.F4)(e.$attrs)),null,16)]),(0,i.SU)(s)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",nC,[n[0]||(n[0]=(0,i._)("div",{class:"title"}," 手机号登录 ",-1)),(0,i.Wm)(nm,{ref_key:"loginInputEl",ref:d},null,512),(0,i.Wm)(T),n[1]||(n[1]=(0,i._)("div",{class:"user-tips"}," 新用户可直接登录 ",-1))]))],64))],2),e.fullPage?((0,i.wg)(),(0,i.iD)("div",ny," 帮助与反馈：小红书 App 点击“我 - 帮助与客服”进行反馈 ")):(0,i.kq)("",!0),(0,i.Wm)((0,i.SU)(c.VL),{show:(0,i.SU)(t).showTooltip,width:320,title:"阅读并同意","confirm-text":"同意并继续","cancel-text":"取消",onConfirm:handleConfirmTips,onCancel:handleCancelTips},{content:(0,i.w5)(function(){return[(0,i._)("label",nk,[(0,i._)("div",nw,[(0,i._)("a",{target:"_blank",href:(0,i.SU)(_.n).TERMS},"《用户协议》",8,nU),(0,i._)("a",{target:"_blank",href:(0,i.SU)(_.n).PRIVACY},"《隐私政策》",8,nD),n[2]||(n[2]=(0,i._)("br",null,null,-1)),(0,i._)("a",{target:"_blank",href:(0,i.SU)(_.n).TEENS_PROTECT},"《儿童/青少年个人信息保护规则》",8,nI)])])]}),_:1},8,["show"])]}),_:1},8,["open","class"])]}),_:1})])}}});let nM=(0,L.default)(nA,[["__scopeId","data-v-251a6f1b"]]);var nL=t(16337),nT=(0,i.aZ)({__name:"Index",setup:function(e){var n=(0,i.iH)(null);function adjustComponent(){n.value=window.innerWidth<=r.n4.SM?(0,i.Xl)(nd):(0,i.Xl)(nM)}return(0,i.wF)((0,a._)(function(){return(0,o.Jh)(this,function(e){return adjustComponent(),(0,nL.ORN)(window,"resize",function(){return adjustComponent()}),[2]})})),function(e,t){return(0,i.SU)(n)?((0,i.wg)(),(0,i.j4)((0,i.LL)((0,i.SU)(n)),{key:0})):(0,i.kq)("",!0)}}}),nx=nT},73926:function(e,n,t){t.d(n,{Z:function(){return useCountDown}});var a=t(93328),o=6e4,i=36e5,r=864e5;function parseTime(e){var n=Math.floor(e/r),t=Math.floor(e%r/i),a=Math.floor(e%i/o),l=Math.floor(e%o/1e3),u=Math.floor(e%1e3);return{total:e,days:n,hours:t,minutes:a,seconds:l,milliseconds:u}}function isSameSecond(e,n){return Math.floor(e/1e3)===Math.floor(n/1e3)}function useCountDown(e){var n,t,o,i=(0,a.iH)(e.time),r=(0,a.iH)(!1),l=(0,a.Fl)(function(){return parseTime(i.value)}),pause=function(){r.value=!1,cancelAnimationFrame(n)},getCurrentRemain=function(){return Math.max(t-Date.now(),0)},setRemain=function(n){var t,a;i.value=n,null===(t=e.onChange)||void 0===t||t.call(e,l.value),0===n&&(pause(),null===(a=e.onFinish)||void 0===a||a.call(e))},microTick=function(){n=requestAnimationFrame(function(){r.value&&(setRemain(getCurrentRemain()),i.value>0&&microTick())})},macroTick=function(){n=requestAnimationFrame(function(){if(r.value){var e=getCurrentRemain();(!isSameSecond(e,i.value)||0===e)&&setRemain(e),i.value>0&&macroTick()}})},tick=function(){e.millisecond?microTick():macroTick()};return(0,a.Jd)(pause),(0,a.dl)(function(){o&&(r.value=!0,o=!1,tick())}),(0,a.se)(function(){r.value&&(pause(),o=!0)}),{start:function(){!r.value&&(t=Date.now()+i.value,r.value=!0,tick())},pause:pause,reset:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.time;pause(),i.value=n},current:l,counting:r}}}}]);
//# sourceMappingURL=https://picasso-private-1251524319.cos.ap-shanghai.myqcloud.com/data/formula-static/formula/xhs-pc-web/Login.442fde71.js.map