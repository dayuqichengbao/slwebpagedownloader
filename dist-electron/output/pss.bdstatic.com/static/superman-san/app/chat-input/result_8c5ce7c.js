define("superman-san/app/chat-input/result_8c5ce7c",["san","tslib","@searchfe/inject-js"],function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__5__){return a=[function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(t,e,n){e=function(){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function a(t){return typeof t}:function a(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(0).defineComponent;function s(t){if(null===t||t===undefined)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!==i&&i!==undefined)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}t.exports=function(t,e,n){for(var i=function(t){var e=[t];"function"==typeof t&&(e.push(t.prototype),t.prototype.constructor&&e.push(t.prototype.constructor.prototype));return e}(t),o=0;o<i.length;o++)e&&("string"==typeof e?i[o].template=e:e instanceof Array?i[o].aPack=e:i[o].aNode=e),n.length&&function(t,e){for(var n={},i=0;i<e.length;i++)s(n,e[i]);var o=t.initData;t.initData=o?function(){return s({},o.call(this),{$style:n})}:function(){return{$style:n}}}(i[o],n);return"object"===a(t)?r(t):t}}.apply(e,[]);e===undefined||(t.exports=e)},function(t,e,n){e=function(){"use strict";t.exports=function(n){var l=[];return l.toString=function(){return this.map(function(t){var e=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){t=function(t){t=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),t="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(t," */")}(i),e=i.sources.map(function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")});return[n].concat(e).concat([t]).join("\n")}return[n].join("\n")}(t,n);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e}).join("")},l.i=function(t,e,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var r=0;r<t.length;r++){var s=[].concat(t[r]);n&&i[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),l.push(s))}},l}}.apply(e,[]);e===undefined||(t.exports=e)},function(t,e,n){"use strict";function l(t,e){for(var n=[],i={},o=0;o<e.length;o++){var a=e[o],r=a[0],a={id:t+":"+o,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(a):n.push(i[r]={id:r,parts:[a]})}return n}n.r(e),n.d(e,"default",function(){return o});n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u={},i=n&&(document.head||document.getElementsByTagName("head")[0]),a=null,r=0,c=!1,s=function(){},p=null,d="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function o(r,t,e,n){c=!!n.runAsProduction||e,p=n||{};var s=l(r,t);return g(s),function(t){for(var e=[],n=0;n<s.length;n++){var i=s[n];(o=u[i.id]).refs--,e.push(o)}t?g(s=l(r,t)):s=[];for(var o,n=0;n<e.length;n++)if(0===(o=e[n]).refs){for(var a=0;a<o.parts.length;a++)o.parts[a]();delete u[o.id]}}}function g(t){for(var e=0;e<t.length;e++){var n=t[e],i=u[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(m(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(m(n.parts[o]));u[n.id]={id:n.id,refs:1,parts:a}}}}function f(){var t,e=document.createElement("style"),n=p.attributes||{};for(t in e.type="text/css",n)n.hasOwnProperty(t)&&e.setAttribute(t,n[t]);return i.appendChild(e),e}function m(e){var t,n,i,o=document.querySelector("style["+d+'~="'+e.id+'"]');if(o){if(c)return s;o.parentNode.removeChild(o)}return i=h?(t=r++,o=a=a||f(),n=w.bind(null,o,t,!1),w.bind(null,o,t,!0)):(o=f(),n=function(t,e){var n=e.css,i=e.media,o=e.sourceMap;i&&t.setAttribute("media",i);p.ssrId&&t.setAttribute(d,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,o),function(){o.parentNode.removeChild(o)}),n(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap||n(e=t):i()}}var v,b=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function w(t,e,n,i){n=n?"":i.css;t.styleSheet?t.styleSheet.cssText=b(e,n):(i=document.createTextNode(n),(n=t.childNodes)[e]&&t.removeChild(n[e]),n.length?t.insertBefore(i,n[e]):t.appendChild(i))}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__5__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.s_session=e.ls=e.bds=e.$=e.F=void 0,e.F=window.F,e.$=window.$,e.bds=window.bds,e.ls=window.localStorage,e.s_session=window.s_session},,function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"==typeof window&&(n=window)}t.exports=n},,,,,,,function(t,D,R){"use strict";!function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var s=R(16),a=R(17),r=R(18);function n(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=p.prototype:(t=null===t?new p(e):t).length=e,t}function p(t,e,n){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(t,e,n);if("number"!=typeof t)return i(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}function i(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=n===undefined&&i===undefined?new Uint8Array(e):i===undefined?new Uint8Array(e,n):new Uint8Array(e,n,i);p.TYPED_ARRAY_SUPPORT?(t=e).__proto__=p.prototype:t=c(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!p.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|h(e,n),n=(t=o(t,i)).write(e,n);n!==i&&(t=t.slice(0,n));return t}(t,e,n):function(t,e){if(p.isBuffer(e)){var n=0|d(e.length);return 0===(t=o(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?o(t,0):c(t,e);if("Buffer"===e.type&&r(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(l(e),t=o(t,e<0?0:0|d(e)),!p.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e){var n=e.length<0?0:0|d(e.length);t=o(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function h(t,e){if(p.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return A(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(t).length;default:if(i)return A(t).length;e=(""+e).toLowerCase(),i=!0}}function e(t,e,n){var i,o,a,r=!1;if((e=e===undefined||e<0?0:e)>this.length)return"";if((n=n===undefined||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,n){var i=t.length;(!e||e<0)&&(e=0);(!n||n<0||i<n)&&(n=i);for(var o="",a=e;a<n;++a)o+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[a]);return o}(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return function(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}(this,e,n);case"latin1":case"binary":return function(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}(this,e,n);case"base64":return i=this,a=n,0===(o=e)&&a===i.length?s.fromByteArray(i):s.fromByteArray(i.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var i=t.slice(e,n),o="",a=0;a<i.length;a+=2)o+=String.fromCharCode(i[a]+256*i[a+1]);return o}(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function f(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?o?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=p.from(e,i)),p.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,o);if("number"==typeof e)return e&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,n):m(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,o){var a=1,r=t.length,s=e.length;if(i!==undefined&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;r/=a=2,s/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o)for(var u=-1,c=n;c<r;c++)if(l(t,c)===l(e,-1===u?0:c-u)){if(c-(u=-1===u?c:u)+1===s)return u*a}else-1!==u&&(c-=c-u),u=-1;else for(c=n=r<n+s?r-s:n;0<=c;c--){for(var p=!0,d=0;d<s;d++)if(l(t,c+d)!==l(e,d)){p=!1;break}if(p)return c}return-1}function v(t,e,n,i){return P(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function b(t,e,n,i){return P(function(t,e){for(var n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,i=i%256,o.push(i),o.push(n);return o}(e,t.length-n),t,n,i)}function w(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var a,r,s,l,u=t[o],c=null,p=239<u?4:223<u?3:191<u?2:1;if(o+p<=n)switch(p){case 1:u<128&&(c=u);break;case 2:128==(192&(a=t[o+1]))&&127<(l=(31&u)<<6|63&a)&&(c=l);break;case 3:a=t[o+1],r=t[o+2],128==(192&a)&&128==(192&r)&&2047<(l=(15&u)<<12|(63&a)<<6|63&r)&&(l<55296||57343<l)&&(c=l);break;case 4:a=t[o+1],r=t[o+2],s=t[o+3],128==(192&a)&&128==(192&r)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&a)<<12|(63&r)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,p=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),o+=p}return function(t){var e=t.length;if(e<=y)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=y));return n}(i)}D.Buffer=p,D.SlowBuffer=function(t){+t!=t&&(t=0);return p.alloc(+t)},D.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT!==undefined?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),D.kMaxLength=n(),p.poolSize=8192,p._augment=function(t){return t.__proto__=p.prototype,t},p.from=function(t,e,n){return i(null,t,e,n)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(t,e,n){return i=null,e=e,n=n,l(t=t),!(t<=0)&&e!==undefined?"string"==typeof n?o(i,t).fill(e,n):o(i,t).fill(e):o(i,t);var i},p.allocUnsafe=function(t){return u(null,t)},p.allocUnsafeSlow=function(t){return u(null,t)},p.isBuffer=function(t){return!(null==t||!t._isBuffer)},p.compare=function(t,e){if(!p.isBuffer(t)||!p.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},p.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return p.alloc(0);if(e===undefined)for(o=e=0;o<t.length;++o)e+=t[o].length;for(var n=p.allocUnsafe(e),i=0,o=0;o<t.length;++o){var a=t[o];if(!p.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},p.byteLength=h,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},p.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},p.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},p.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?w(this,0,t):e.apply(this,arguments)},p.prototype.equals=function(t){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===p.compare(this,t)},p.prototype.inspect=function(){var t="",e=D.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},p.prototype.compare=function(t,e,n,i,o){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(e===undefined&&(e=0),n===undefined&&(n=t?t.length:0),i===undefined&&(i=0),o===undefined&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(o<=i&&n<=e)return 0;if(o<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var a=(o>>>=0)-(i>>>=0),r=(n>>>=0)-(e>>>=0),s=Math.min(a,r),l=this.slice(i,o),u=t.slice(e,n),c=0;c<s;++c)if(l[c]!==u[c]){a=l[c],r=u[c];break}return a<r?-1:r<a?1:0},p.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},p.prototype.indexOf=function(t,e,n){return f(this,t,e,n,!0)},p.prototype.lastIndexOf=function(t,e,n){return f(this,t,e,n,!1)},p.prototype.write=function(t,e,n,i){if(e===undefined)i="utf8",n=this.length,e=0;else if(n===undefined&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,i===undefined&&(i="utf8")):(i=n,n=undefined)}var o=this.length-e;if((n===undefined||o<n)&&(n=o),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var a,r,s,l=!1;;)switch(i){case"hex":return function(t,e,n,i){n=Number(n)||0;var o=t.length-n;if((!i||o<(i=Number(i)))&&(i=o),(o=e.length)%2!=0)throw new TypeError("Invalid hex string");o/2<i&&(i=o/2);for(var a=0;a<i;++a){var r=parseInt(e.substr(2*a,2),16);if(isNaN(r))return a;t[n+a]=r}return a}(this,t,e,n);case"utf8":case"utf-8":return r=e,s=n,P(A(t,(a=this).length-r),a,r,s);case"ascii":return v(this,t,e,n);case"latin1":case"binary":return v(this,t,e,n);case"base64":return a=this,r=e,s=n,P(L(t),a,r,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var y=4096;function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function _(t,e,n,i,o,a){if(!p.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<a)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function S(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,a=Math.min(t.length-n,2);o<a;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function C(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,a=Math.min(t.length-n,4);o<a;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function k(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(t,e,n,i,o){return o||k(t,0,n,4),a.write(t,e,n,i,23,4),n+4}function E(t,e,n,i,o){return o||k(t,0,n,8),a.write(t,e,n,i,52,8),n+8}p.prototype.slice=function(t,e){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=e===undefined?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),p.TYPED_ARRAY_SUPPORT)(o=this.subarray(t,e)).__proto__=p.prototype;else for(var i=e-t,o=new p(i,undefined),a=0;a<i;++a)o[a]=this[a+t];return o},p.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i},p.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t+--e],o=1;0<e&&(o*=256);)i+=this[t+--e]*o;return i},p.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},p.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},p.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},p.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},p.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},p.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*e)),i},p.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=e,o=1,a=this[t+--i];0<i&&(o*=256);)a+=this[t+--i]*o;return(o*=128)<=a&&(a-=Math.pow(2,8*e)),a},p.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},p.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);t=this[t]|this[t+1]<<8;return 32768&t?4294901760|t:t},p.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);t=this[t+1]|this[t]<<8;return 32768&t?4294901760|t:t},p.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},p.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},p.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),a.read(this,t,!0,23,4)},p.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),a.read(this,t,!1,23,4)},p.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),a.read(this,t,!0,52,8)},p.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),a.read(this,t,!1,52,8)},p.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||_(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},p.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||_(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[e+o]=255&t;0<=--o&&(a*=256);)this[e+o]=t/a&255;return e+n},p.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,1,255,0),p.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},p.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},p.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},p.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):C(this,t,e,!0),e+4},p.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):C(this,t,e,!1),e+4},p.prototype.writeIntLE=function(t,e,n,i){t=+t,e|=0,i||_(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=0,a=1,r=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===r&&0!==this[e+o-1]&&(r=1),this[e+o]=(t/a>>0)-r&255;return e+n},p.prototype.writeIntBE=function(t,e,n,i){t=+t,e|=0,i||_(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=n-1,a=1,r=0;for(this[e+o]=255&t;0<=--o&&(a*=256);)t<0&&0===r&&0!==this[e+o+1]&&(r=1),this[e+o]=(t/a>>0)-r&255;return e+n},p.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,1,127,-128),p.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},p.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},p.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},p.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):C(this,t,e,!0),e+4},p.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),p.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):C(this,t,e,!1),e+4},p.prototype.writeFloatLE=function(t,e,n){return T(this,t,e,!0,n)},p.prototype.writeFloatBE=function(t,e,n){return T(this,t,e,!1,n)},p.prototype.writeDoubleLE=function(t,e,n){return E(this,t,e,!0,n)},p.prototype.writeDoubleBE=function(t,e,n){return E(this,t,e,!1,n)},p.prototype.copy=function(t,e,n,i){if(n=n||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var o,a=(i=t.length-e<i-n?t.length-e+n:i)-n;if(this===t&&n<e&&e<i)for(o=a-1;0<=o;--o)t[o+e]=this[o+n];else if(a<1e3||!p.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},p.prototype.fill=function(t,e,n,i){if("string"==typeof t){var o;if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1!==t.length||(o=t.charCodeAt(0))<256&&(t=o),i!==undefined&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!p.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=n===undefined?this.length:n>>>0,"number"==typeof(t=t||0))for(s=e;s<n;++s)this[s]=t;else for(var a=p.isBuffer(t)?t:A(new p(t,i).toString()),r=a.length,s=0;s<n-e;++s)this[s+e]=a[s%r];return this};var I=/[^+\/0-9A-Za-z-_]/g;function A(t,e){var n;e=e||Infinity;for(var i=t.length,o=null,a=[],r=0;r<i;++r){if(55295<(n=t.charCodeAt(r))&&n<57344){if(!o){if(56319<n){-1<(e-=3)&&a.push(239,191,189);continue}if(r+1===i){-1<(e-=3)&&a.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(e-=3)&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(e-=3)&&a.push(239,191,189);if(o=null,n<128){if(--e<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function L(t){return s.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function P(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}.call(this,R(8))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),t=e[0],e=e[1];return 3*(t+e)/4-e},e.toByteArray=function(t){var e,n,i=c(t),o=i[0],i=i[1],a=new u(function(t,e){return 3*(t+e)/4-e}(o,i)),r=0,s=0<i?o-4:o;for(n=0;n<s;n+=4)e=l[t.charCodeAt(n)]<<18|l[t.charCodeAt(n+1)]<<12|l[t.charCodeAt(n+2)]<<6|l[t.charCodeAt(n+3)],a[r++]=e>>16&255,a[r++]=e>>8&255,a[r++]=255&e;2===i&&(e=l[t.charCodeAt(n)]<<2|l[t.charCodeAt(n+1)]>>4,a[r++]=255&e);1===i&&(e=l[t.charCodeAt(n)]<<10|l[t.charCodeAt(n+1)]<<4|l[t.charCodeAt(n+2)]>>2,a[r++]=e>>8&255,a[r++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,r=n-i;a<r;a+=16383)o.push(function(t,e,n){for(var i,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(function(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}(i));return o.join("")}(t,a,r<a+16383?r:a+16383));1==i?(e=t[n-1],o.push(s[e>>2]+s[e<<4&63]+"==")):2==i&&(e=(t[n-2]<<8)+t[n-1],o.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return o.join("")};for(var s=[],l=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=i.length;o<a;++o)s[o]=i[o],l[i.charCodeAt(o)]=o;function c(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return[t=-1===t?e:t,t===e?0:4-t%4]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,o){var a,r,s=8*o-i-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?o-1:0,d=n?-1:1,n=t[e+p];for(p+=d,a=n&(1<<-c)-1,n>>=-c,c+=s;0<c;a=256*a+t[e+p],p+=d,c-=8);for(r=a&(1<<-c)-1,a>>=-c,c+=i;0<c;r=256*r+t[e+p],p+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return r?NaN:(n?-1:1)*Infinity;r+=Math.pow(2,i),a-=u}return(n?-1:1)*r*Math.pow(2,a-i)},e.write=function(t,e,n,i,o,a){var r,s,l=8*a-o-1,u=(1<<l)-1,c=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,h=i?1:-1,a=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(s=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),e*(i=Math.pow(2,-r))<1&&(r--,i*=2),2<=(e+=1<=r+c?p/i:p*Math.pow(2,1-c))*i&&(r++,i/=2),u<=r+c?(s=0,r=u):1<=r+c?(s=(e*i-1)*Math.pow(2,o),r+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,o),r=0));8<=o;t[n+d]=255&s,d+=h,s/=256,o-=8);for(r=r<<o|s,l+=o;0<l;t[n+d]=255&r,d+=h,r/=256,l-=8);t[n+d-h]|=128*a}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(0,n(1).__importDefault)(n(386));e["default"]=n["default"]},,,,,,,function(t,w,e){"use strict";!function(e){Object.defineProperty(w,"__esModule",{value:!0}),w.isValid=w.encodeURI=w.decode=w.encode=void 0;var n,s=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),r=(n={},s.forEach(function(t,e){return n[t]=e}),n),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,u=String.fromCharCode.bind(String),t="function"==typeof e,i="function"==typeof TextDecoder?new TextDecoder:undefined,a="function"==typeof TextEncoder?new TextEncoder:undefined,o="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},c=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},p="function"==typeof btoa?function(t){return btoa(t)}:t?function(t){return e.from(t,"binary").toString("base64")}:function(t){for(var e,n,i,o="",a=t.length%3,r=0;r<t.length;){if(255<(e=t.charCodeAt(r++))||255<(n=t.charCodeAt(r++))||255<(i=t.charCodeAt(r++)))throw new TypeError("invalid character found");o+=s[(e=e<<16|n<<8|i)>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}return a?o.slice(0,a-3)+"===".substring(a):o},d=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?u(192|e>>>6)+u(128|63&e):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return u(240|e>>>18&7)+u(128|e>>>12&63)+u(128|e>>>6&63)+u(128|63&e)},h=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,g=t?function(t){return e.from(t,"utf8").toString("base64")}:a?function(t){for(var e=a.encode(t),n=[],i=0,o=e.length;i<o;i+=4096)n.push(u.apply(null,Array.from(e.subarray(i,i+4096))));return p(n.join(""))}:function(t){return p(t.replace(h,d))},f="function"==typeof atob?function(t){return atob(c(t))}:t?function(t){return e.from(t,"base64").toString("binary")}:function(t){if(t=t.replace(/\s+/g,""),!l.test(t))throw new TypeError("malformed base64.");var e,n,i;t+="==".slice(2-(3&t.length));for(var o=[],a=0;a<t.length;)e=r[t.charAt(a++)]<<18|r[t.charAt(a++)]<<12|(n=r[t.charAt(a++)])<<6|(i=r[t.charAt(a++)]),64===n?o.push(u(e>>16&255)):64===i?o.push(u(e>>16&255,e>>8&255)):o.push(u(e>>16&255,e>>8&255,255&e));return o.join("")},m=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return u(55296+(e>>>10))+u(56320+(1023&e));case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},v=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,b=t?function(t){return e.from(t,"base64").toString("utf8")}:i?function(t){t=o(f(t).split("").map(function(t){return t.charCodeAt(0)}));return i.decode(t)}:function(t){return f(t).replace(v,m)};w.encode=function(t,e){return(e=void 0===e?!1:e)?g(t).replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"===t?"-":"_"}):g(t)};w.decode=function(t){return b(c(t.replace(/[-_]/g,function(t){return"-"===t?"+":"/"})))};w.encodeURI=function(t){return(0,w.encode)(t,!0)};w.isValid=function(t){if("string"!=typeof t)return!1;t=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},w["default"]={encode:w.encode,decode:w.decode,encodeURI:w.encodeURI,isValid:w.isValid}}.call(this,e(15).Buffer)},function(t,u,e){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.UploadFile=u.UPLOAD_ALL_TYPE=u.UPLOAD_IMAGE_TYPE=u.UPLOAD_FILE_TYPE=u.imageAccept=u.FILE_STATUS=u.FileRecommendWordsGroup=u.UploadStatus=u.getFileNameSuffix=u.getFileType=u.suffixToFileType=void 0;var k=e(1),n=e(97),a="/aichat/api/file/sts",s="/aichat/api/file/upload",T="/aichat/api/file/loop",l="/aichat/api/knowledge/file/delete",i=/\.(\w+)$/,o={pdf:"PDF",doc:"Word",docx:"Word",txt:"TXT",xls:"Excel",xlsx:"Excel",ppt:"PPT",pptx:"PPT",csv:"Excel",py:"Code",java:"Code",js:"Code",html:"Code",css:"Code",ts:"Code",c:"Code",cpp:"Code",cc:"Code",h:"Code",go:"Code"};u.suffixToFileType=function(t){if(!t)return"unknown";t=t.toLowerCase();return o[t]||"unknown"};u.getFileType=function(t){t=i.exec(t);return t?(0,u.suffixToFileType)(t[1]):"unknown"};var E;u.getFileNameSuffix=function(t){t=i.exec(t);return t?t[0]:""},(e=E=u.UploadStatus||(u.UploadStatus={}))[e.INIT=-1]="INIT",e[e.STSSUCCESS=0]="STSSUCCESS",e[e.UPLOADING=1]="UPLOADING",e[e.BOS_SUCCESS=2]="BOS_SUCCESS",e[e.NETWORK_ERROR=3]="NETWORK_ERROR",e[e.RISK_DENY=4]="RISK_DENY",e[e.FILE_NUM_EXCEED_LIMIT=5]="FILE_NUM_EXCEED_LIMIT",e[e.FILE_SIZE_EXCEED_LIMIT=6]="FILE_SIZE_EXCEED_LIMIT",e[e.KNOWLEDGE_SUCCESS=7]="KNOWLEDGE_SUCCESS",e[e.KNOWLEDGE_ERROR=8]="KNOWLEDGE_ERROR",e[e.SET_FILE_NUM=9]="SET_FILE_NUM",e[e.NOT_AVAILABLE=10]="NOT_AVAILABLE",e[e.FILE_REUPLOAD=11]="FILE_REUPLOAD",e[e.FILE_SIZE_BELOW_LIMIT=12]="FILE_SIZE_BELOW_LIMIT",e[e.IMAGE_INFO_SUCCESS=13]="IMAGE_INFO_SUCCESS",(e=u.FileRecommendWordsGroup||(u.FileRecommendWordsGroup={}))[e.defaultFileWords=0]="defaultFileWords",e[e.defaultImageWords=1]="defaultImageWords",e[e.AIPhotoEditing=2]="AIPhotoEditing",e[e.PDFToOthers=3]="PDFToOthers",e[e.WordToOthers=4]="WordToOthers",e[e.TXTToOthers=5]="TXTToOthers",(e=u.FILE_STATUS||(u.FILE_STATUS={}))[e.UNACTIVE=0]="UNACTIVE",e[e.ACTIVE=1]="ACTIVE",e[e.EXPIRED=2]="EXPIRED";var I="https://chat.baidu.com";u.imageAccept=".jpeg, .png, .jpg, .bmp";var c=".pdf, .doc, .docx, .txt, .xls, .xlsx, .csv, .ppt, .pptx",p=(0,n.hitSample)("PC_AI_SEARCH_OLD_CODE")?"":".py, .java, .js, .html, .css, .ts, .c, .cpp, .cc, .h, .go",d=u.imageAccept+", "+c;u.UPLOAD_FILE_TYPE=c+", "+p,u.UPLOAD_IMAGE_TYPE=u.imageAccept,u.UPLOAD_ALL_TYPE=u.UPLOAD_FILE_TYPE+", "+u.UPLOAD_IMAGE_TYPE;r.create=function(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return(e=null,n.isChatSearch)?(e=n.sdk,[3,3]):[3,1];case 1:return[4,function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(t){return[2,new Promise(function(e,n){window.require(["@baiducloud/sdk/dist/baidubce-sdk.bundle.min"],function(t){e(t)},function(t){n(t)})})]})})}()];case 2:e=t.sent(),t.label=3;case 3:return[2,new r(n,e)]}})})},r.prototype.getFile=function(l){return(0,k.__awaiter)(this,void 0,Promise,function(){var s=this;return(0,k.__generator)(this,function(t){return[2,new Promise(function(e,n){try{var t=document.createElement("input"),i=s.options,o=i.type,a=i.maxNum;t.type="file",t.accept="all"===o?d:"image"===o?u.imageAccept:c+", "+p,t.multiple=1<a,t.onchange=function(t){return s.handleFileChange(t,e,n,l)},t.click()}catch(r){n(r)}})]})})},r.prototype.getCouldUploadFiles=function(t){var e=t.filter(function(t){t=t.name.split(".")||[],t=null===t?void 0:t[t.length-1];return t&&(d+", "+p).includes(t.toLocaleLowerCase())});return e.length!==t.length&&this.options.callback({status:E.NOT_AVAILABLE}),e},r.prototype.checkFileValid=function(t){return t.size>1024*this.options.maxSize*1024?(this.options.callback({status:E.FILE_SIZE_EXCEED_LIMIT}),!1):0!==t.size||(this.options.callback({status:E.FILE_SIZE_BELOW_LIMIT}),!1)},r.prototype.filterInvalidFile=function(t,e){var n=this.getCouldUploadFiles(t);if(!e||e(n)){n.length>this.options.maxNum&&(this.options.callback({status:E.FILE_NUM_EXCEED_LIMIT}),n.splice(this.options.maxNum)),this.options.callback({status:E.SET_FILE_NUM,num:n.length});for(var i=n.length-1;0<=i;i--)this.checkFileValid(n[i])||n.splice(i,1);return n}},r.prototype.handleFileChange=function(i,o,a,r){return(0,k.__awaiter)(this,void 0,Promise,function(){var e,n=this;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=null==i?void 0:i.target,e=Array.from(e.files||[]),e=this.filterInvalidFile(e,r),[4,Promise.all(e.map(function(t,e){return n.uploadFile(t,e)}))];case 1:return t.sent(),o(),[3,3];case 2:return e=t.sent(),a(e),[3,3];case 3:return[2]}})})},r.prototype.uploadFiles=function(t){var n=this;return Promise.all(this.filterInvalidFile(t).map(function(t,e){return n.uploadFile(t,e)}))},r.prototype.uploadFile=function(h,g){return void 0===g&&(g=0),(0,k.__awaiter)(this,void 0,Promise,function(){var d,e=this;return(0,k.__generator)(this,function(t){return d=Date.now()+g+function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_",e="",n=new Uint8Array(6);crypto.getRandomValues(n);for(var i=0;i<6;i++)e+=t[n[i]%t.length];return e}(),this.options.callback({status:E.INIT,progress:0,fileInfo:{fileName:h.name,fileType:h.type,fileSize:h.size,fileIndex:g,fileToken:d}}),[2,new Promise(function(c,p){return(0,k.__awaiter)(e,void 0,void 0,function(){var e,n,i,o,a,r,s,l,u=this;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return(t.trys.push([0,5,,6]),h)?(this.files||(this.files=[]),this.files.push({file:h,fileToken:d}),this.sdk||navigator.onLine||this.options.callback({status:E.NETWORK_ERROR,fileInfo:{fileIndex:g,fileToken:d}}),[4,this.getSts()]):[2];case 1:return a=t.sent(),e=a.ak,n=a.sk,i=a.token,o=a.preFixPath,a=a.recommendWord,this.options.callback({status:E.STSSUCCESS,progress:0,fileInfo:{fileName:h.name,fileType:h.type,fileSize:h.size,fileIndex:g,fileToken:d},recommendWord:a}),h instanceof File&&h.type.startsWith("image/")?[4,this.getImageInfo(h)]:[3,3];case 2:r=t.sent(),this.options.callback({status:E.IMAGE_INFO_SUCCESS,progress:0,fileInfo:{imageWidth:r.width,imageHeight:r.height}}),t.label=3;case 3:return r=this.sdk.BosClient,s=new r({endpoint:"https://aisearch.bj.bcebos.com",credentials:{ak:e,sk:n},sessionToken:i}),r=null===(l=h.name)||void 0===l?void 0:l.split(".").pop(),l=this.sdk.MimeType.guess(r),r=d+"."+r,l.startsWith("text/")&&(l+="; charset=UTF-8"),[4,s.putSuperObject({bucketName:"aisearch",objectName:o+r,chunkSize:1048576,ContentLength:h.size,ContentType:l,data:h,onProgress:function(t){t=t.progress;u.options.callback({status:E.UPLOADING,progress:t,fileInfo:{fileIndex:g,fileToken:d}})},onStateChange:function(r,s){return(0,k.__awaiter)(u,void 0,void 0,function(){var e,n,i,o,a;return(0,k.__generator)(this,function(t){switch(t.label){case 0:if("completed"!==r)return[3,7];t.label=1;case 1:return t.trys.push([1,5,,6]),this.options.callback({status:E.UPLOADING,progress:1,fileInfo:{fileIndex:g,fileToken:d}}),e=s.data.key,n=btoa(e.split("/").pop()),[4,this.upLoadConfirm({path:e,size:h.size,name:h.name,id:n,type:"all"===this.options.type?h.type.startsWith("image/")?"image":"file":this.options.type},g)];case 2:return i=t.sent().file_url,this.options.callback({status:E.BOS_SUCCESS,progress:1,fileInfo:{fileIndex:g,fileId:n,fileUrl:i,filePath:e,fileToken:d}}),!this.options.knowledgeId||this.preventUploadSet.has(d)?[3,4]:[4,this.getUploadKnowledgeStatus(n)];case 3:t.sent(),this.options.callback({status:E.KNOWLEDGE_SUCCESS,fileInfo:{fileToken:d,fileUrl:i}}),t.label=4;case 4:return c(),[3,6];case 5:return a=t.sent(),a=(null==(o=a)?void 0:o.status)||E.NETWORK_ERROR,this.options.callback({status:a,fileInfo:{fileIndex:g,fileToken:d}}),p(o),[3,6];case 6:return[3,8];case 7:"failed"===r&&(this.options.callback({status:E.NETWORK_ERROR,fileInfo:{fileIndex:g,fileToken:d}}),p(new Error("Network disconnected"))),t.label=8;case 8:return[2]}})})}}).start()];case 4:return t.sent(),[3,6];case 5:return l=t.sent(),l=(null==(s=l)?void 0:s.status)||E.NETWORK_ERROR,this.options.callback({status:l,fileInfo:{fileIndex:g,fileToken:d}}),p(s),[3,6];case 6:return[2]}})})})]})})},r.prototype.reTryUpload=function(n){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return(e=this.files||[],e=e.find(function(t){return t.fileToken===n}))?(this.options.callback({status:E.FILE_REUPLOAD,fileInfo:{fileToken:n}}),[4,this.uploadFile(e.file,0)]):[3,2];case 1:return[2,t.sent()];case 2:return[2,Promise.resolve()]}})})},r.prototype.getSts=function(){return(0,k.__awaiter)(this,void 0,Promise,function(){var e=this;return(0,k.__generator)(this,function(t){return[2,new Promise(function(i,o){return(0,k.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e=(this.options.sseHost||I)+a+("?tk="+this.options.token)+(this.options.knowledgeId?"&knowledgeId="+this.options.knowledgeId:""),[4,fetch(e,{mode:"cors",credentials:"include"})];case 1:return(n=t.sent()).ok||o({status:E.NETWORK_ERROR}),[4,n.json()];case 2:return 0===(n=t.sent()).status?i(n.data):o({status:E.NETWORK_ERROR}),[3,4];case 3:return t.sent(),o({status:E.NETWORK_ERROR}),[3,4];case 4:return[2]}})})})]})})},r.prototype.getUploadData=function(n,i,o){return(0,k.__awaiter)(this,void 0,void 0,function(){var e;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return e=(this.options.sseHost||I)+s+"?tk="+i,[4,fetch(e,{method:"POST",credentials:"include",signal:o?o.signal:null,headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({},this.options.uploadBody,this.options.knowledgeId?{knowledgeId:this.options.knowledgeId}:{},this.options.dirId?{dirId:this.options.dirId}:{},this.options.scene?{scene:this.options.scene}:{},n))})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}})})},r.prototype.upLoadConfirm=function(a,r){return(0,k.__awaiter)(this,void 0,Promise,function(){var e=this;return(0,k.__generator)(this,function(t){return[2,new Promise(function(i,o){return(0,k.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),n=(this.options.sseHost||I)+s+("?tk="+this.options.token),[4,fetch(n,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({},a,this.options.uploadBody,this.options.knowledgeId?{knowledgeId:this.options.knowledgeId,sort:r}:{}))})];case 1:return[4,t.sent().json()];case 2:if(e=t.sent(),e=(n=e||{}).status,n=n.data,0===e)i(n);else if(-5===e)o({status:E.RISK_DENY});else{if(-1===e)throw{status:E.NETWORK_ERROR};o({status:E.NETWORK_ERROR})}return[3,4];case 3:return t.sent(),o({status:E.NETWORK_ERROR}),[3,4];case 4:return[2]}})})})]})})},r.prototype.loop=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var i,o,a,r,s,l,u,c,p,d,h,g,f,m,v,b,w,y,x,_,S,C=this;return(0,k.__generator)(this,function(t){switch(t.label){case 0:if(!this.uploadMap.size)return[2];i=1e3,o=Date.now();try{for(a=(0,k.__values)(Array.from(this.uploadMap.keys())),r=a.next();!r.done;r=a.next())m=r.value,(v=this.uploadMap.get(m))&&(s=(0,k.__read)(v,3),l=s[0],w=s[2],1e4+i<o-l&&(w({status:E.KNOWLEDGE_ERROR}),this.uploadMap["delete"](m)))}catch(e){y={error:e}}finally{try{r&&!r.done&&(x=a["return"])&&x.call(a)}finally{if(y)throw y.error}}u=Array.from(this.uploadMap.keys()),t.label=1;case 1:return t.trys.push([1,4,5,6]),c=""+(this.options.sseHost||I)+T+"?knowledgeId="+this.options.knowledgeId+"&fids="+u.join(",")+"&tk="+this.options.token,[4,fetch(c)];case 2:return[4,t.sent().json()];case 3:for(m in c=t.sent(),p=c.data.data)(v=this.uploadMap.get(m))&&(d=(0,k.__read)(v,3),h=d[1],w=d[2],1===p[m]?h():w({status:E.KNOWLEDGE_ERROR}),this.uploadMap["delete"](m));return[3,6];case 4:t.sent();try{for(g=(0,k.__values)(u),f=g.next();!f.done;f=g.next())m=f.value,(v=this.uploadMap.get(m))&&(b=(0,k.__read)(v,3),(w=b[2])({status:E.KNOWLEDGE_ERROR}),this.uploadMap["delete"](m))}catch(n){_={error:n}}finally{try{f&&!f.done&&(S=g["return"])&&S.call(g)}finally{if(_)throw _.error}}return[3,6];case 5:return this.uploadMap.size?setTimeout(function(){return C.loop()},i):this.inLoop=!1,[7];case 6:return[2]}})})},r.prototype.getUploadKnowledgeStatus=function(o){return(0,k.__awaiter)(this,void 0,void 0,function(){var i=this;return(0,k.__generator)(this,function(t){return[2,new Promise(function(e,n){return(0,k.__awaiter)(i,void 0,void 0,function(){return(0,k.__generator)(this,function(t){return this.uploadMap.set(o,[Date.now(),e,n]),this.inLoop||(this.inLoop=!0,this.loop()),[2]})})})]})})},r.deleteFile=function(a,r,s){return(0,k.__awaiter)(this,void 0,void 0,function(){var e,n,i,o;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e=r.sseHost,o=r.knowledgeId,n=r.fileId,i=r.fileToken,o=""+(e||I)+l+"?knowledgeId="+o+"&fileId="+n+"&tk="+r.token,a&&(a.uploadMap["delete"](n),i&&a.preventUploadSet.add(i)),n?[4,fetch(o)]:[3,2];case 1:t.sent(),s&&s(),t.label=2;case 2:return[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})})},r.prototype.getImageInfo=function(o){return(0,k.__awaiter)(this,void 0,Promise,function(){return(0,k.__generator)(this,function(t){return[2,new Promise(function(t,e){var n=new FileReader,i=new Image;n.onload=function(t){i.src=t.target.result},i.onload=function(){t({width:i.width,height:i.height})},i.onerror=function(){e(new Error("图片加载失败"))},n.onerror=function(){e(new Error("文件读取失败"))},n.readAsDataURL(o)})]})})},n=r;function r(t,e){this.files=[],this.inLoop=!1,this.preventUploadSet=new Set,this.uploadMap=new Map,this.options=t,this.sdk=e}u.UploadFile=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=' <div class="{{$style[\'chat-input-background\']}}"> <div id="input-root" style="height: {{rootHeight}}px"> <chat-input initial-row="{{2}}" ai-placeholder="{{guideWord}}" initial-focus> <div slot="top-band"> <file-container s-if="{{(!isPCSingleFileSample || isPCSingleFileSample && isHome)\n                        && activeFile && fileList && fileList.length}}" file-list="{{fileList}}" upload-file-max-num="{{uploadFileMaxNum}}" cur-upload-type="{{curUploadType}}" on-show-delete="handleFileContainerLog" on-add-file-log="handleAddFileLog"></file-container> <file-guide s-if="{{!isPCSingleFileSample && activeFile && showFileGuide}}" file-guide-words="{{fileGuideWords}}" file-list="{{fileList}}" cur-upload-type="{{curUploadType}}" on-send-file-query="handleFileQuery" on-add-file-log="handleAddFileLog"></file-guide> </div> <div s-if="{{isRenderLeftTool}}" slot="left-tool" class="{{$style[\'left-tool\']}}"> <cs-numero-button s-if="numeroButtonData.length" s-ref="numeroButton" numero-button-data="{{numeroButtonData}}" open-panel-type="{{openPanelType}}"></cs-numero-button> <cs-music-button s-if="musicButtonData.length" s-ref="musicButton" music-button-data="{{musicButtonData}}" music-button-active-value="{=musicButtonActiveValue=}" music-place-holder="{=musicPlaceHolder=}" open-panel-type="{{openPanelType}}"></cs-music-button> <cs-draw-button s-if="drawButtonsData.length" s-ref="drawButton" draw-buttons-data="{{drawButtonsData}}" on-add-input-content="handleAddInputContent" open-panel-type="{{openPanelType}}"></cs-draw-button> <d-tooltip s-if="{{!numeroButtonData.length && !drawButtonsData.length && !musicButtonData.length}}" content="{{isAiSearch ? \'\' : hoverText.deepSearch}}" init-content="{{hoverText.askAiGuide}}" button-tips-days="{{buttonTipsDays}}" on-hover="handleDeepsearchHover" top="48" max-width="350" anchor="left"> <div s-ref="ai-search-btn" class="{{$style[\'aisearch-btn\']}} {{isAiSearch && !jumpDsBtnSample ? $style[\'aisearch-btn-active\']: $style[\'aisearch-btn-deactive\']}} {{jumpDsBtnSample ? $style[\'jump-btn\'] : $style[\'weak-svg\']}}" data-spy-count="jump-btn-click" on-click="handleClickAiSearch($event)" on-mouseenter="showAiBtnHover" on-mouseleave="hideAiBtnHover"> <img s-if="{{jumpDsBtnSample && buttonText.usePreImage && buttonText.preImageType === \'search\'}}" src="https://psstatic.cdn.bcebos.com/multimode/search_1760511039000.svg"> <svg s-else-if="{{buttonText.usePreImage && buttonText.preImageType === \'wenai\'}}" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="currentColor"> <path d="M9.35022 1C9.95062 1 10.5348 1.07134 11.0953 1.20215L10.9371 1.60449L9.23206 2.27734C5.76587 2.34054 2.97522 5.16693 2.97522 8.64746C2.97522 9.5194 3.15036 10.2454 3.32581 10.7539C3.41335 11.0077 3.50003 11.2063 3.56409 11.3398C3.59601 11.4064 3.62299 11.4569 3.64124 11.4912C3.64941 11.5066 3.65598 11.5187 3.66174 11.5293L3.6637 11.5332L3.67542 11.5537C3.67724 11.5572 3.68135 11.5653 3.68616 11.5752C3.68758 11.5781 3.68933 11.583 3.69202 11.5889L3.6969 11.5977C3.69841 11.6005 3.70003 11.6041 3.70178 11.6074C3.70452 11.6126 3.70834 11.6189 3.71155 11.625C3.73338 11.6668 3.76369 11.7275 3.79749 11.8018C3.86422 11.9484 3.94725 12.1575 4.00061 12.4014C4.00765 12.4336 4.0146 12.4647 4.02112 12.4941C4.09124 12.811 4.13046 12.9902 4.13049 13.4395C4.13049 13.7122 4.06465 14.1884 3.93323 14.6572C3.90089 14.7726 3.86175 14.8977 3.81506 15.0254L9.35022 15.0234C12.8319 15.0234 15.6593 12.2325 15.7213 8.76562L16.3932 7.06055L16.7965 6.90137C16.9278 7.46297 16.9996 8.04779 16.9996 8.64941C16.9996 12.874 13.5748 16.2988 9.35022 16.2988L2.76624 16.2998C2.42272 16.2997 2.19847 16.0579 2.12756 15.8271C2.06032 15.6082 2.10261 15.33 2.31213 15.1348C2.44224 15.0134 2.59138 14.7212 2.70569 14.3135C2.8144 13.9257 2.85608 13.5677 2.85608 13.4395C2.85606 13.1291 2.83844 13.0529 2.77698 12.7754C2.77009 12.7443 2.76257 12.7106 2.75452 12.6738C2.72644 12.5455 2.68054 12.425 2.63733 12.3301C2.61619 12.2836 2.59618 12.2445 2.58069 12.2148L2.55823 12.1719C2.55498 12.1657 2.54938 12.1545 2.54358 12.1426C2.54264 12.1407 2.54099 12.1385 2.53967 12.1357C2.53768 12.1321 2.53538 12.1278 2.53284 12.123C2.52796 12.114 2.5227 12.103 2.51624 12.0908C2.49119 12.0438 2.45577 11.9763 2.41467 11.8906C2.33266 11.7196 2.22635 11.476 2.12073 11.1699C1.90961 10.5579 1.69983 9.68977 1.69983 8.64746C1.69983 4.4226 5.12616 1.00023 9.35022 1ZM13.3932 1.35254C13.4911 1.10469 13.8422 1.10463 13.9401 1.35254L14.6588 3.17578C14.6887 3.2514 14.7492 3.31098 14.8248 3.34082L16.6471 4.05957C16.8952 4.15741 16.8951 4.50854 16.6471 4.60645L14.8248 5.3252C14.7491 5.35507 14.6887 5.41546 14.6588 5.49121L13.9401 7.31348C13.8422 7.56158 13.491 7.56158 13.3932 7.31348L12.6744 5.49121C12.6446 5.41546 12.5842 5.35507 12.5084 5.3252L10.6862 4.60645C10.4381 4.5086 10.4381 4.15742 10.6862 4.05957L12.5084 3.34082C12.5841 3.31097 12.6445 3.25144 12.6744 3.17578L13.3932 1.35254Z"/> </svg> <img s-else-if="newInputStyle" class="{{$style[\'new-input-img\']}}" src="https://psstatic.cdn.bcebos.com/aife/superman/ai_1758798670000.svg"> <span class="{{$style[\'ds-btn\']}}"> <span s-if="buttonText.text === \'AI搜索\'" style="margin-left: 3px">搜索</span> <fragment s-if="buttonText.text === \'问AI\'"> <img s-if="jumpDsBtnSample" src="https://psstatic.cdn.bcebos.com/aife/static/wenAI_1761814195000.png"> <fragment s-else> <svg s-show="{{!isAiSearch}}" xmlns="http://www.w3.org/2000/svg" width="25" height="14" viewBox="0 0 25 14" fill="currentColor"> <path d="M6.6394 1.91357C7.11595 1.91371 7.54284 2.20937 7.70972 2.65576L11.3914 12.5044C11.4378 12.6293 11.345 12.7622 11.2117 12.7622H9.4021C9.17216 12.7622 8.96654 12.6187 8.88745 12.4028L6.10913 4.79932C6.05829 4.66017 5.86481 4.65275 5.80347 4.7876L3.31714 10.2515C3.23177 10.4396 3.36935 10.6535 3.57593 10.6538H5.74097C5.99293 10.6538 6.17077 10.9 6.09155 11.1392L5.66479 12.4272C5.59853 12.6271 5.41147 12.7622 5.20093 12.7622H0.786865C0.216078 12.7622 -0.164088 12.1729 0.0710449 11.6528L4.16968 2.58545C4.35454 2.17654 4.76196 1.91371 5.21069 1.91357H6.6394ZM13.2546 5.65967C13.4725 5.65967 13.633 5.65944 13.7595 5.67041C13.8855 5.68134 13.9738 5.7023 14.0476 5.74268C14.1623 5.80541 14.2564 5.90042 14.3191 6.01514C14.3594 6.08895 14.3814 6.17728 14.3923 6.30322C14.4033 6.42977 14.4031 6.59027 14.4031 6.80811V11.6138C14.4031 11.8316 14.4033 11.9921 14.3923 12.1187C14.3814 12.2447 14.3595 12.3329 14.3191 12.4067C14.2564 12.5213 14.1622 12.6155 14.0476 12.6782C13.9738 12.7186 13.8855 12.7405 13.7595 12.7515C13.633 12.7624 13.4725 12.7622 13.2546 12.7622C13.0365 12.7622 12.8754 12.7624 12.7488 12.7515C12.6228 12.7405 12.5345 12.7186 12.4607 12.6782C12.3461 12.6155 12.2519 12.5213 12.1892 12.4067C12.1488 12.3329 12.1269 12.2447 12.116 12.1187C12.105 11.9921 12.1052 11.8316 12.1052 11.6138V6.80811C12.1052 6.59028 12.105 6.42977 12.116 6.30322C12.1269 6.17728 12.1489 6.08895 12.1892 6.01514C12.2519 5.90042 12.346 5.80541 12.4607 5.74268C12.5345 5.7023 12.6228 5.68134 12.7488 5.67041C12.8754 5.65943 13.0365 5.65967 13.2546 5.65967ZM20.7683 3.35498C20.8429 3.35772 20.8959 3.39383 20.9197 3.4126C20.9475 3.43453 20.9698 3.46038 20.9871 3.48193C21.0221 3.52557 21.0575 3.58062 21.0906 3.63916C21.1579 3.75824 21.2355 3.92064 21.3162 4.10107C21.4779 4.46259 21.6619 4.92096 21.8191 5.31104L21.8201 5.31299C21.9454 5.62394 22.0502 5.88442 22.115 6.02783C22.2458 6.08741 22.4735 6.18078 22.7488 6.29443L22.7517 6.29541C23.1448 6.45766 23.6218 6.65547 24.0007 6.83057C24.1898 6.91795 24.3609 7.00248 24.4861 7.07666C24.5477 7.11318 24.6066 7.1516 24.6521 7.19092C24.6746 7.21033 24.7005 7.23597 24.7224 7.26709C24.7423 7.29534 24.7756 7.35176 24.7732 7.42725C24.7708 7.50157 24.7345 7.55437 24.7156 7.57861C24.6938 7.60655 24.6687 7.62957 24.6472 7.64697C24.6036 7.68228 24.5475 7.7173 24.489 7.75049C24.3702 7.81787 24.2088 7.89547 24.0291 7.97607C23.6687 8.13764 23.2122 8.32235 22.824 8.479L22.821 8.47998C22.514 8.60389 22.2573 8.70762 22.115 8.77197C22.0546 8.90435 21.9589 9.13552 21.8435 9.41455L21.8425 9.4165C21.6798 9.80993 21.4827 10.2866 21.3083 10.6646C21.2214 10.853 21.1374 11.0233 21.0642 11.1479C21.0283 11.2091 20.9901 11.2668 20.9519 11.312C20.9329 11.3344 20.9079 11.3613 20.8777 11.3833C20.8508 11.4029 20.795 11.437 20.7195 11.436C20.6451 11.4351 20.5917 11.3997 20.5662 11.3804C20.5372 11.3585 20.5127 11.3337 20.4949 11.312C20.4587 11.2681 20.4239 11.2116 20.3904 11.1528C20.3222 11.0334 20.2438 10.8707 20.1628 10.6899C20.0006 10.3275 19.8163 9.86782 19.6599 9.47803L19.6589 9.4751C19.536 9.16878 19.4328 8.91376 19.3689 8.77197C19.2188 8.70466 18.9416 8.59463 18.6121 8.46436L18.6101 8.46338C18.2226 8.3102 17.7745 8.13318 17.4226 7.979C17.2471 7.90209 17.0901 7.82807 16.9744 7.76416C16.9174 7.73269 16.8628 7.69995 16.8201 7.6665C16.799 7.65002 16.7745 7.62779 16.7527 7.60107C16.7343 7.57849 16.6965 7.52737 16.6921 7.45361C16.6877 7.37742 16.7198 7.31937 16.74 7.28955C16.762 7.25716 16.7884 7.23064 16.8113 7.21045C16.8576 7.16964 16.9173 7.12908 16.9802 7.09131C17.1082 7.01451 17.2838 6.92748 17.4773 6.8374C17.865 6.65694 18.3525 6.45429 18.7498 6.28955L18.7527 6.28857C19.0207 6.17744 19.241 6.08611 19.3689 6.02783C19.4292 5.89507 19.5248 5.66164 19.6404 5.37939L19.6414 5.37646C19.803 4.98151 19.9989 4.50411 20.1726 4.12549C20.2592 3.93666 20.3431 3.76602 20.4167 3.64111C20.453 3.57963 20.4917 3.52062 20.531 3.4751C20.5504 3.45267 20.576 3.42669 20.6072 3.40479C20.6357 3.3848 20.6927 3.35229 20.7683 3.35498ZM13.1843 1.29053C14.0121 1.29066 14.6831 1.96179 14.6833 2.78955C14.6833 3.61748 14.0122 4.28942 13.1843 4.28955C12.3563 4.28955 11.6853 3.61757 11.6853 2.78955C11.6855 1.96171 12.3564 1.29053 13.1843 1.29053Z" fill="currentColor"/> </svg> <img s-show="{{isAiSearch}}" src="https://gips2.baidu.com/it/u=203573231,3751676420&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f75_42"> </fragment> </fragment> </span> <border-animation-svg s-ref="border-animation" class="{{$style[\'ai-search-btn-svg\']}}" hoverAnimationId="left_ds_btn_border_svg_hover" width="{{aiSearchWidth}}" height="{{aiSearchHeight}}" border-radius="12" padding="2" stroke-width="{{isAiSearch ? 0 : 1}}" liner-color-config="{{linerColorConfig}}"></border-animation-svg> </div> </d-tooltip> <div s-show="{{isShowOverWordTip}}" class="{{$style[\'overword-tip\']}}"> 👈 复杂问题文心助手回答更优 </div> </div> <div slot="right-tool" class="{{$style[\'right-tool\']}} {{!isShowFileUpload && !isShowMic ? $style[\'right-tool-no-margin\'] : \'\'}}"> <d-tooltip s-if="{{isShowFileUpload}}" content="{{(!isPCSingleFileSample && curUploadType && curUploadType !== \'file\')\n                            ? hoverText.mergeText : (!isPCSingleFileSample && fileList.length >= uploadFileMaxNum\n                            ? hoverText.fullFile : hoverText.defaultFile)}}" maxWidth="320"> <div on-click="handleClickUploadFile(\'file\', null, \'\', $event)" class="{{$style[\'tool-item\']}} {{!isPCSingleFileSample && ((curUploadType && curUploadType !== \'file\') || fileList.length >= uploadFileMaxNum) ? $style[\'upload-btn-disabled\'] : \'\'}}"> <img s-if="newInputStyle" src="https://psstatic.cdn.bcebos.com/aife/superman/file_1758798674000.svg"> <svg s-else="" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M11.4405 5.94065L7.25022 10.1309C6.52703 10.8541 6.52703 12.0266 7.25022 12.7498C7.97342 13.473 9.14595 13.473 9.86914 12.7498L11.3095 11.3094L14.0594 8.55957L14.7141 7.90484C16.1605 6.45845 16.1605 4.1134 14.7141 2.66701C13.2677 1.22062 10.9227 1.22062 9.4763 2.66701L3.97658 8.16673C1.807 10.3363 1.807 13.8539 3.97658 16.0235C6.14616 18.1931 9.66374 18.193 11.8333 16.0235L16.6783 11.1785" stroke="currentColor" stroke-width="1.6"/> </svg> </div> </d-tooltip> <d-tooltip s-if="{{isShowFileUpload}}" content="{{(!isPCSingleFileSample && curUploadType && curUploadType !== \'image\')\n                            ? hoverText.mergeText : (!isPCSingleFileSample && fileList.length >= uploadFileMaxNum\n                            ? hoverText.fullPic : hoverText.defaultPic)}}"> <div on-click="handleClickUploadFile(\'image\', null, \'\', $event)" class="{{$style[\'tool-item\']}} {{!isPCSingleFileSample && ((curUploadType && curUploadType !== \'image\') || fileList.length >= uploadFileMaxNum) ? $style[\'upload-btn-disabled\'] : \'\'}}"> <img s-if="newInputStyle" src="https://psstatic.cdn.bcebos.com/aife/superman/image_1758798679000.svg"> <svg s-else="" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M1.85278 4.81463C1.85278 3.58733 2.84771 2.59241 4.07501 2.59241H15.9269C17.1542 2.59241 18.1491 3.58733 18.1491 4.81463V15.185C18.1491 16.4123 17.1542 17.4072 15.9269 17.4072H4.075C2.8477 17.4072 1.85278 16.4123 1.85278 15.185V4.81463Z" stroke="currentColor" stroke-width="1.6"/> <circle cx="13.7136" cy="7.14282" r="2.1" fill="currentColor" stroke="white" stroke-width="0.8"/> <path d="M1.85278 14.2326L5.08504 9.72923C5.81909 8.70649 7.25533 8.49716 8.25077 9.26783L17.5001 16.4286" stroke="currentColor" stroke-width="1.6"/> </svg> </div> </d-tooltip> <d-tooltip s-if="{{isShowFileUpload && linkOptions.function}}" content="{{linkOptions.desc}}"> <div class="{{$style[\'tool-item\']}} {{$style[\'weak-svg\']}}" on-click="handleLinkClick"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"> <g clip-path="url(#clip0_1865_9665)"> <path d="M12.6643 3.18171C13.792 2.05399 15.6406 2.05576 16.7933 3.20843C17.9459 4.3611 17.9477 6.20967 16.82 7.33738L14.558 9.59933L15.6056 10.6469L17.8676 8.38495C19.584 6.66851 19.5618 3.88187 17.8408 2.16086C16.1198 0.439864 13.3332 0.417703 11.6168 2.13414L8.36132 5.38958C6.64488 7.10602 6.66704 9.89266 8.38804 11.6137L8.91182 12.1374L9.95938 11.0899L9.4356 10.5661C8.28293 9.41343 8.28117 7.56486 9.40888 6.43714L12.6643 3.18171Z" fill="currentColor"/> <path d="M11.6146 8.19855L11.0909 7.67477L10.0433 8.72234L10.5671 9.24612C11.7197 10.3988 11.7215 12.2474 10.5938 13.3751L7.33836 16.6305C6.21064 17.7582 4.36208 17.7565 3.20941 16.6038C2.05674 15.4511 2.05497 13.6025 3.18269 12.4748L5.44463 10.2129L4.39707 9.16532L2.13512 11.4273C0.41868 13.1437 0.44084 15.9304 2.16184 17.6514C3.88284 19.3724 6.66948 19.3945 8.38592 17.6781L11.6414 14.4226C13.3578 12.7062 13.3356 9.91955 11.6146 8.19855Z" fill="currentColor"/> <path d="M12.6643 3.18171C13.792 2.05399 15.6406 2.05576 16.7933 3.20843C17.9459 4.3611 17.9477 6.20967 16.82 7.33738L14.558 9.59933L15.6056 10.6469L17.8676 8.38495C19.584 6.66851 19.5618 3.88187 17.8408 2.16086C16.1198 0.439864 13.3332 0.417703 11.6168 2.13414L8.36132 5.38958C6.64488 7.10602 6.66704 9.89266 8.38804 11.6137L8.91182 12.1374L9.95938 11.0899L9.4356 10.5661C8.28293 9.41343 8.28117 7.56486 9.40888 6.43714L12.6643 3.18171Z" stroke="currentColor" stroke-width="0.15" stroke-linecap="square"/> <path d="M11.6146 8.19855L11.0909 7.67477L10.0433 8.72234L10.5671 9.24612C11.7197 10.3988 11.7215 12.2474 10.5938 13.3751L7.33836 16.6305C6.21064 17.7582 4.36208 17.7565 3.20941 16.6038C2.05674 15.4511 2.05497 13.6025 3.18269 12.4748L5.44463 10.2129L4.39707 9.16532L2.13512 11.4273C0.41868 13.1437 0.44084 15.9304 2.16184 17.6514C3.88284 19.3724 6.66948 19.3945 8.38592 17.6781L11.6414 14.4226C13.3578 12.7062 13.3356 9.91955 11.6146 8.19855Z" stroke="currentColor" stroke-width="0.15" stroke-linecap="square"/> </g> <defs> <clipPath id="clip0_1865_9665"> <rect width="20" height="20" fill="white"/> </clipPath> </defs> </svg> </div> </d-tooltip> </div> <div slot="chat-input-extension"> <div class="{{$style[\'panel-list\']}}"> <panel-btn s-for="panel, pindex in visibleButtons" panel="{{panel}}" pos="{{pindex + 1}}" area="base" func-recommend-sample="{{funcRecommendSample}}" query-recommend-sample="{{queryRecommendSample}}" btn-text-sample="{{btnTextSample}}" btn-img-sample="{{btnImgSample}}" btn-try-sample="{{btnTrySample}}" on-click="handleClickPanelBtn" on-show-log="handlePanelBtnShow"></panel-btn> <drop-down-btn s-if="hiddenButtons.length" wrapper-class="{{$style[\'drop-down-wrapper\']}}" on-mouseover="native:handleDropdownMouseEnter" on-menu-show="handleMoreMenuShow" btn-class="{{$style[\'drop-down-btn\']}} {{showGuideClass}}" menu-wrapper-class="{{$style[\'drop-down-menu-wrapper\']}}" menu-class="{{$style[\'drop-down-menu\']}}"> <panel-btn s-for="panel, pindex in hiddenButtons" s-ref="more-btn-{{panel.type}}" panel="{{panel}}" pos="{{visibleButtons.length + pindex + 1}}" area="capsule_bub_more" func-recommend-sample="{{funcRecommendSample}}" query-recommend-sample="{{queryRecommendSample}}" btn-text-sample="{{btnTextSample}}" btn-img-sample="{{btnImgSample}}" btn-try-sample="{{btnTrySample}}" on-click="handleClickPanelBtn" on-show-log="handlePanelBtnShow"></panel-btn> </drop-down-btn> </div> </div> </chat-input> </div> <d-toast s-ref="toast" message="{{toastMsg}}" duration="{{toastDuration}}"></d-toast> <animation-video s-if="{{isShowOpenningAnime}}"></animation-video> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,k=n(1),o=n(0),a=(0,k.__importDefault)(n(350)),g=(0,k.__importDefault)(n(353)),r=n(405),s=(0,k.__importDefault)(n(406)),l=(0,k.__importDefault)(n(411)),u=(0,k.__importStar)(n(420)),c=(0,k.__importDefault)(n(426)),p=(0,k.__importDefault)(n(429)),d=(0,k.__importDefault)(n(432)),h=(0,k.__importDefault)(n(435)),f=(0,k.__importDefault)(n(441)),m=(0,k.__importDefault)(n(447)),v=(0,k.__importDefault)(n(460)),b=(0,k.__importDefault)(n(135)),T=n(42),E=(0,k.__importDefault)(n(41)),w=n(6),y=[],I="https://chat.baidu.com",x={office_create:7,photo_editing:8,ai_ppt:9,ai_read:10,ai_code:11,deep_research:12,ai_music_create:13,ai_numerology:16},n=n(5),n=(i=o.Component,(0,k.__extends)(_,i),_.prototype.initData=function(){return{rootHeight:100,isHome:!0,initialRow:2,isAiSearch:!1,isShowMic:!1,isShowFileUpload:!0,isAiPanelSearch:!1,isShowOpenningAnime:!1,fileItem:null,panelMaxHeight:358,inputPanel:[],guideWordPrefix:"",guideWord:"",isFileUploading:!1,token:"",fileList:[],fileGuideWords:[],toastMsg:"",toastDuration:2e3,hoverText:{},hasShowOverWordToast:!1,ro:null,isOverWord:!1,visibleButtons:[],hiddenButtons:[],showMoreGuide:!1,prefixContent:"",activeFile:!0,uploadFileMaxNum:10,isPCSingleFileSample:1,deepSearchBtnText:"问",isShowAiSearch:!0,numeroButtonData:[],musicButtonData:[],musicButtonActiveValue:[],musicPlaceHolder:"",drawButtonsData:[],numeroTipContent:"测测事业、爱情、财富运势",newInputStyle:!1,funcRecommendSample:!1,queryRecommendSample:!1,btnTextSample:!1,btnImgSample:!1,btnTrySample:!1,buttonTipsDays:[],jumpDsBtnSample:!0,voiceInputComplete:!1,hasUsedVoiceInput:!1,isVoiceRecording:!1,linkOptions:{},linerColorConfig:[{offset:"0%",color:"#fff",opacity:"0.2"},{offset:"60%",color:"#6547FF",opacity:"0.6"},{offset:"95%",color:"#4769FF",opacity:"1"},{offset:"100%",color:"#0090FE",opacity:"1"}],numeroButtonActiveValue:null}},_.prototype.inited=function(){var t=this.data.get("inputPanel").map(function(t){return(0,k.__assign)((0,k.__assign)({},t),"ai_search"===t.type?{minWidth:270}:{})}),e=(0,r.calculateAdaptiveButtonBar)(t,{containerWidth:800,defaultMinWidth:90,buttonGap:9,moreButtonWidth:86}),t=e.visibleButtons,e=e.hiddenButtons;this.data.set("visibleButtons",t),this.data.set("hiddenButtons",e),this.data.get("newInputStyle")&&this.data.set("rootHeight",120)},_.prototype.attached=function(){var d=this;this.checkAnime(),this.handlePopStateCallback=this.handlePopState.bind(this),window.addEventListener("popstate",this.handlePopStateCallback);var h=this.data.get("isPCSingleFileSample");h&&this.data.set("uploadFileMaxNum",1),this.nextTick(function(){d.initSpyCountLogListener();var l,u,t,e,n,i,o,a,r,s,c,p=document.querySelector("#input-root");d.chatInputInstance=new g["default"]({rootDom:p,initialRow:d.data.get("initialRow"),isSsr:!0,initialFocus:!0,hasOpenAnime:!0,panelMaxHeight:d.data.get("panelMaxHeight"),aiPlaceholder:d.data.get("guideWord"),isSingle:!!h,useBuiltInVoice:!0}),d.chatInputInstance.on("panel-close",function(){d.resetStatus(),d.data.get("fileList").length&&d.chatInputInstance.fileUpLoadInput()}),d.chatInputInstance.on("change",function(t){var e=(0,w.$)("#main-wrapper");"normal"===t&&e.length&&e.trigger("smartInputRerender")}),d.chatInputInstance.on("panel-scroll",function(){d.sendUbcLog("slide","function_panel",{})}),d.chatInputInstance.on("prefix-click",function(){d.data.assign({numeroButtonData:[],musicButtonData:[],drawButtonsData:[],numeroButtonActiveValue:null}),d.sendUbcLog("click","search_kuang",{pos:"title_hover"})}),d.chatInputInstance.on("focus",function(){var t=d.data.get("isPCSingleFileSample"),e=d.data.get("isHome");t||e||(d.data.set("activeFile",!0),t||d.chatInputInstance.setPrefixNodeStatus(!1))}),d.chatInputInstance.on("blur",function(){d.chatInputInstance.stopVoiceRecording();var t=d.data.get("isPCSingleFileSample"),e=d.data.get("isHome");t||e||(d.data.set("activeFile",!1),t||d.chatInputInstance.setPrefixNodeStatus(!0))}),d.chatInputInstance.on("ai-tool-change",function(t){t=null==t?void 0:t.panelType;t||d.data.assign({numeroButtonData:[],musicButtonData:[],drawButtonsData:[],numeroButtonActiveValue:null}),d.data.set("openPanelType",t)}),d.chatInputInstance.on("toast",function(t){d.showToast({message:t})}),d.chatInputInstance.on("drag-show",function(){d.sendUbcLog("show","drag_status",{file_status:d.getInputStats(),is_log:window.s_session.isLogin?"1":"0"})}),d.chatInputInstance.on("drag-done",function(t){t=t.fileSuffix;d.sendUbcLog("show","drag_finish_status",{file_type:t,is_log:window.s_session.isLogin?"1":"0"})}),d.chatInputInstance.on("paste-file",function(t){t=t.fileSuffix;d.sendUbcLog("click","copy_finish_status",{file_type:t,is_log:window.bds.comm.isUserLogin?"1":"0"})}),d.chatInputInstance.on("threshold",function(t){d.showToast({message:"最多发送"+t+"字符内容"})}),d.chatInputInstance.on("panel-render",function(t){d.sendPerfSpyLog(d.__startClickPanelTime,"panelRenderTime");var e=d.data.get("isPCSingleFileSample");d.data.set("prefixContent",t.type),d.data.set("isAiPanelSearch",!0),d.resetMic(!1),"ai_chat"!==t.type&&"ai_read"!==t.type&&(d.data.set("isShowFileUpload",!1),e&&d.data.set("fileList",[]))}),d.chatInputInstance.on("input",function(t){"ai"!==d.chatInputInstance.getMode()&&((0,w.$)("#kw").val(t),d.calculateStrIsOverWord(t)?d.data.set("isOverWord",!0):d.data.set("isOverWord",!1),d.nextTick(function(){t&&d.checkSupportIs()}),t||(d.data.assign({voiceInputComplete:!1,hasUsedVoiceInput:!1}),window.bds.comm.isVoice=!1))}),d.chatInputInstance.on("panel-item-click",function(C){return(0,k.__awaiter)(d,void 0,void 0,function(){var n,i,o,a,r,s,l,u,c,p,d,h,g,f,m,v,b,w,y,x,_,S=this;return(0,k.__generator)(this,function(t){switch(t.label){case 0:if(s=C.functionTab,n=void 0===s?"all":s,i=C.functionName,o=C.buttonProperty,a=C.text,m=C.fileInfo,x=C.functionData,r=C.clickType,s=this.chatInputInstance.getCurrentPanelName(),"link"===(null==x?void 0:x.type))return window.location.href=null===(x=null===(x=x.data)||void 0===x?void 0:x.link)||void 0===x?void 0:x.url,[2];if(this.sendUbcLog("click","function_panel",{function_tab:n,function_name:i}),"ai_read"===s&&this.data.set("fileList",[]),o&&this.data.set("musicButtonActiveValue",o),this.chatInputInstance.addAiInputContent(C),"photo_editing"===s&&"pic-tool"===r&&this.ref("drawButton").handleDrawButtonsSettings({type:"change",drawStyle:{style:a}}),"ai_read"!==s||null==m||!m.file_path)return[3,3];l=function(t){var e=(S.data.get("fileList")||[])[0];return(null==e?void 0:e.filePath)===(null==t?void 0:t.filePath)?e:{}},clearTimeout(this.mockReadProgressTimer),u={};try{for(c=(0,k.__values)(Object.entries(m)),p=c.next();!p.done;p=c.next())d=(0,k.__read)(p.value,2),h=d[0],g=d[1],f=h.replace(/_([a-z])/g,function(t,e){return e.toUpperCase()}),u[f]=g}catch(e){w={error:e}}finally{try{p&&!p.done&&(y=c["return"])&&y.call(c)}finally{if(w)throw w.error}}return m=[(0,k.__assign)((0,k.__assign)({},u),{fileSize:Number(u.fileSize),status:1,fileType:(0,T.getFileType)(u.fileName),uploadType:u.fileType,progress:0})],this.data.set("fileList",m),this.mockReadProgressTimer=setTimeout(function(){var t=l(u);1===t.status&&(S.data.set("fileList",[(0,k.__assign)((0,k.__assign)({},t),{progress:+(.3*Math.random()+.2).toFixed(2)})]),S.mockReadProgressTimer=null)},100),[4,T.UploadFile.create({type:u.fileType,maxSize:50,token:this.getToken(),sseHost:I})];case 1:return b=t.sent(),v={id:E["default"].encode((null===(_=u.filePath)||void 0===_?void 0:_.split("/").pop())||""),name:u.fileName,path:u.filePath,size:Number(u.fileSize),type:u.fileType,rw:"1"},[4,b.getUploadData(v,this.getToken())];case 2:_=t.sent().data,v=_.id,b=_.file_url,_=_.recommend_word,b=[(0,k.__assign)((0,k.__assign)({},u),{fileId:v,status:2,url:b,uploadType:u.fileType,fileSize:Number(u.fileSize),fileType:(0,T.getFileType)(u.fileName)})],1===l(u).status&&(_&&this.data.set("fileGuideWords",this.handleFileGuideWords(u.fileType,_)),this.data.set("fileList",b)),t.label=3;case 3:return[2]}})})}),d.chatInputInstance.on("panel-item-upload",d.handleClickUploadFile.bind(d)),d.chatInputInstance.on("prefix-file-click-delete",function(){d.handleFileContainerLog({type:"click",value:"file_clear"}),d.handleFileRemove()}),d.chatInputInstance.on("prefix-file-back-delete",function(){d.data.set("fileList",[])}),d.chatInputInstance.on("prefix-back-delete",function(){d.data.set("numeroButtonData",[]),d.data.set("musicButtonData",[]),d.data.set("drawButtonsData",[])}),d.chatInputInstance.on("clear",function(){d.data.set("isOverWord",!1),d.sendUbcLog("click","content_clear"),d.data.assign({voiceInputComplete:!1,hasUsedVoiceInput:!1}),window.bds.comm.isVoice=!1}),d.chatInputInstance.on("click",function(t){t=(null==t?void 0:t.value)||"";d.sendUbcLog("click","search_kuang",{query:t,is_query_over:d.calculateStrIsOverWord(t)?"1":"0",pos:"searchbox"})}),d.chatInputInstance.on("submit",d.handleSubmit.bind(d)),d.chatInputInstance.on("submit",function(){d.sendCountSpyLog({submit_click:1})}),d.chatInputInstance.on("voice-input-start",function(){window.bds.comm.isVoice=!0;var t=d.chatInputInstance.getValue();d.sendUbcLog("click","search_kuang",{pos:"voice",query:t,is_query_over:d.calculateStrIsOverWord(t)?"1":"0",voice_time:0,voice_content:"",button_goal_status:"open",file_status:d.getInputStats(),aisou_btn:d.data.get("isAiSearch")?"1":"0"}),d.data.assign({voiceInputComplete:!1,isVoiceRecording:!0,hasUsedVoiceInput:!0})}),d.chatInputInstance.on("voice-input-recognized",function(){window.bds.comm.isVoice=!0}),d.chatInputInstance.on("voice-input-complete",function(t){var e=t.content,n=t.duration,t=d.chatInputInstance.getValue();d.sendUbcLog("click","search_kuang",{pos:"voice",query:t,is_query_over:d.calculateStrIsOverWord(t)?"1":"0",voice_time:n,voice_content:e,button_goal_status:"close",file_status:d.getInputStats(),aisou_btn:d.data.get("isAiSearch")?"1":"0"}),d.data.assign({voiceInputComplete:!0,isVoiceRecording:!1})}),p&&(l=p.querySelector(".tools-clear-icon"),u=l.classList.contains("show-clear-icon"),l&&new MutationObserver(function(t){var e,n;try{for(var i=(0,k.__values)(t),o=i.next();!o.done;o=i.next()){var a,r=o.value;"attributes"!==r.type||"class"!==r.attributeName||(a=l.classList.contains("show-clear-icon"))!==u&&(u=a)&&d.sendUbcLog("show","content_clear")}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(e)throw e.error}}}).observe(l,{attributes:!0,attributeFilter:["class"]}),d.watch("isAiSearch",function(t){var e,n,i=p.querySelector("#chat-textarea");i&&!d.data.get("jumpDsBtnSample")&&(i=t?null!==(e=i.dataset.aiPlaceholder)&&void 0!==e?e:"":null!==(n=i.dataset.normalPlaceholder)&&void 0!==n?n:"",n=d.data.get("guideWordPrefix"),d.chatInputInstance.setPlaceHolder(t&&n?n+i:i),d.resetMic(!t))}),d.watch("prefixContent",function(t,e){var n=e.oldValue,e=e.newValue.trim(),n=n.trim();"ai_read"===e?d.data.set("activeFile",!0):e?d.data.set("activeFile",!1):n&&d.data.set("activeFile",!0)}),d.watch("curUploadType",function(t){var e=d.data.get("isPCSingleFileSample");d.updatePanelExternalProps({curUploadType:e?"":t})}),d.watch("fileList",function(t,e){var n=e.oldValue,i=e.newValue;d.data.get("isPCSingleFileSample")||n.length===i.length||(e=d.data.get("fileReady"),i.length&&d.chatInputInstance.renderAiInputFilePrefix(i[0],i.length,2!==e),n.length&&!i.length&&(d.chatInputInstance.deletePrefixFile(),d.chatInputInstance.getCurrentPanelName()||(i=d.chatInputInstance.getValue(),d.calculateStrIsOverWord(i)&&d.data.set("isOverWord",!0))))}),(a=(0,w.$)("#chat-input-main")).length&&a.on("homepredict",function(){d.chatInputInstance.setInitalRow(1),d.data.set("isHome",!1),d.data.set("initialRow",1)}),t=(0,w.$)('[tpl="ai-tools-panel"]'),e=(0,w.$)('[tpl="dashboard"]'),n=t.length||e.length?72:0,i=p.querySelector(".chat-input-container"),o=document.querySelector("#head_wrapper"),a=document.querySelector(".smart_input_height_superman"),r=!0,s=t.length||e.length?"24%":a?"35%":"39%",i&&"undefined"!=typeof ResizeObserver&&o&&(null!=(c=new ResizeObserver(function(){var t;null!==(t=null===(t=window.bds)||void 0===t?void 0:t.comm)&&void 0!==t&&t.ishome&&!r&&(t=i.clientHeight+(d.data.get("newInputStyle")?2:3),d.data.set("rootHeight",t),o.style.height="calc("+s+" + "+(t+n)+"px)",o.style.setProperty("--input-height",t+"px")),r=!1}))&&c.observe(i),d.data.set("ro",c)),"normal"!==d.chatInputInstance.getMode()||(c=(0,w.$)("#main-wrapper")).length&&c.trigger("smartInputRerender"),d.watch("isShowOverWordTip",function(t){t&&d.sendUbcLog("show","long_query_toast",{query:d.chatInputInstance.getValue()},!0)}),d.getShowMoreGuide(),d.sendUbcLog("show","deepsearch_btn",{aisou_text:d.data.get("buttonText.text")}),d.watch("musicPlaceHolder",function(t){var e;0===d.chatInputInstance.getValue().length&&null!==(e=d.chatInputInstance)&&void 0!==e&&e.setPlaceHolder(t)}))}),this.setBorderAnimationInfo()},_.prototype.error=function(t){this.sendExceptSpyLog(t)},_.prototype.spySend=function(t){var e,t="https://sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a/mwb2.gif?"+["pid=19_103","lid="+((null===(e=window.s_session)||void 0===e?void 0:e.qid)||""),"ts="+Date.now(),"type="+t.type,"group="+t.group,"info="+encodeURIComponent(JSON.stringify(t.info)),"dim="+encodeURIComponent(JSON.stringify(t.dim||{})),"extra="+encodeURIComponent(JSON.stringify(t.extra))].join("&");navigator.sendBeacon&&navigator.sendBeacon(t)||((new Image).src=t)},_.prototype.sendPerfSpyLog=function(t,e,n){var i;void 0===n&&(n={});try{var o=performance.now();if(.1<=Math.random()&&!t)return;this.spySend({type:"perf",group:"chatinput_perf",info:((i={})[e]=(o-t).toFixed(2),i),dim:{type:this.chatInputInstance.getCurrentPanelName(),from:"superman-san"},extra:n})}catch(a){console.warn(a)}},_.prototype.sendCountSpyLog=function(t,e){void 0===e&&(e={});try{if(.0625<=Math.random())return;this.spySend({type:"count",group:"super-page",info:t,extra:e})}catch(n){console.warn(n)}},_.prototype.sendExceptSpyLog=function(t){try{this.spySend({type:"except",group:"chat_input_js_error",info:{msg:"string"==typeof t?t:t.message,stack:(t.stack||"").split("\n").slice(0,5).join("\n"),pageUrl:location.href}})}catch(e){console.warn(e)}},_.prototype.setBorderAnimationInfo=function(){var t=this.ref("ai-search-btn");t&&(this.data.set("aiSearchWidth",t.offsetWidth),this.data.set("aiSearchHeight",t.offsetHeight))},_.prototype.getShowMoreGuide=function(){var t=this.data.get("hiddenButtons");this.data.set("showGuideClass",t.some(function(t){if(t.guide)try{var e=localStorage.getItem(u.INPUT_PANEL_BTN_CLICKED_GUIDE),n=e&&JSON.parse(e)||{};return!e||!n[t.type]}catch(err){return console.warn(err),!1}return!1})?"guide":"")},_.prototype.getToken=function(){var t=+new Date,e=(null===(n=window.s_session)||void 0===n?void 0:n.qid)||"",n=this.data.get("token");return btoa(n+"||"+t+"|"+e)+"-"+e},_.prototype.handlePopState=function(){var t;try{var e=new URL(location.href).searchParams,n=e.get("wd")||e.get("word");this.chatInputInstance.getValue()||(null!==(t=this.chatInputInstance)&&void 0!==t&&t.closeSugUpdate(),this.chatInputInstance.setValue(n))}catch(err){console.warn(err)}},_.prototype.disposed=function(){var t;this.tipTimer=null,window.removeEventListener("popstate",this.handlePopStateCallback);var e=this.data.get("ro");null!==(t=null==e?void 0:e.disconnect)&&void 0!==t&&t.call(e)},_.prototype.getInputStats=function(){var t=this.data.get("fileList"),e=Array.isArray(t)&&0<t.length,n=e&&"image"===t[0].uploadType,t=this.chatInputInstance.getValue();return e&&t?n?"text_pic":"text_file":e?n?"pic":"file":t?"text":"blank"},_.prototype.checkSupportIs=function(){var t,e;null!==(t=null===(e=window.bds)||void 0===e?void 0:e.comm)&&void 0!==t&&t.supportis&&!(0,w.$)("#wrapper").hasClass("smart_input_superman")&&(this.data.set("isShowOpenningAnime",!1),this.data.set("rootHeight",0),null!==(t=null==(e=this.data.get("ro"))?void 0:e.disconnect)&&void 0!==t&&t.call(e),this.data.set("ro",null))},_.prototype.calculateStrIsOverWord=function(t){for(var e=t.length,n=0,i=0;i<e;i++)if(30<=(n=null!==t.charAt(i).match(/[^\x00-\xff]/gi)?n+2:n+1))return!0;return!1},_.prototype.handleAddInputContent=function(t){var e=this.chatInputInstance.getValue();this.chatInputInstance.addAiInputContent({word:(e?"，":"")+t.word,noClear:!0})},_.prototype.gotoChat=function(t){var i=this,e=t.query,n=t.sseQuery,o=t.hasImage,a=t.hasFile,r=t.isEdit,s=t.guideSa,l=void 0===s?"":s,u="aiinput_longq",c="aiinput_longq",p=this.chatInputInstance.getFunctionInfo(),t=p.functionType,s=p.functionName,p=void 0===s?"":s,s={ai_chat:"aidialog",ai_ppt:"ppt",office_create:"office",photo_editing:"pic",ai_read:"read",ai_code:"aicode",deep_research:"deepresearch",ai_numerology:"yunshi",ai_music_create:"music"}[t];s?c=(u="functab_"+s)+((d=p.replace(/_([a-zA-Z])/g,function(t,e){return e.toUpperCase()}))?"_"+d:"")+"_edit":this.data.get("isAiSearch")?(u="aiinput_askai",c=this.data.get("jumpDsBtnSample")?r?"aiinput_aiaskedit":"aiinput_aiaskdefaultq":"aiinput_askai"):o?(u="aiinput_duomo_pic",c=l?"aiinput_duomo_pic_"+l:"aiinput_duomo_pic"):a&&(c=u="aiinput_duomo_file");s=this.data.get("hasUsedVoiceInput");s&&(u="aiinput_voice",c="bvoice_home_aiinput");p={};this.data.get("isAiSearch")&&(p={modelName:"smartMode",modelFunction:{deepSearch:"1"}});var d={},r=this.data.get("numeroButtonActiveValue");this.isEmptyObject(r)||(d=r.reduce(function(t,e){var n;return"birthday"===e.optionType?t[e.optionType]=i.extractDateFromDateTime(e.value):"birthplace"===e.optionType?(n=null===(n=i.data.get("numeroButtonData").find(function(t){return"birthplace"===t.optionType}))||void 0===n?void 0:n.data[0],t[e.optionType]=n.selectedCities):t[e.optionType]=e.value,t},{}));var h=(null===(r=this.ref("drawButton"))||void 0===r?void 0:r.getDrawInfo())||{},g=Object.keys(h).reduce(function(t,e){return t[e]=h[e].text,t},{});e+=Object.keys(g).filter(function(t){return g[t]}).map(function(t){return"style"===t?"，图片风格为"+g[t]:"，比例"+g[t]}).join("");try{var f=JSON.parse(localStorage.getItem("HIS_AI_LIST")||"[]");e.length<40&&!o&&!a&&(f.push({kw:e,time:Math.round((new Date).getTime()/1e3),aiflag:1}),localStorage.setItem("HIS_AI_LIST",JSON.stringify(f))),(o||a)&&this.data.get("aiHisSample")&&""===e&&n.push({data:{text:{query:o?"解读图片":"总结文档"}},type:"TEXT"})}catch(m){console.error(m)}c=(0,k.__assign)({enter_type:"home_"+u},e||n.length?{sa:s?c:"home_"+c}:{});"guideq_similarpic"===l&&(c.searchInfo={interactive_type:19}),location.href=I+"/search?word="+encodeURIComponent(e)+(e||0!==n.length?"":"&isShowHello=1")+"&extParamsJson="+encodeURIComponent(JSON.stringify(c))+(p?"&usedModel="+encodeURIComponent(JSON.stringify(p)):"")+(0!==n.length?"&fileInfo="+encodeURIComponent(JSON.stringify(n)):"")+(x[t]?"&openInputMode="+x[t]:"")+(d?"&numeroData="+encodeURIComponent(JSON.stringify(d)):"")},_.prototype.isEmptyObject=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},_.prototype.extractDateFromDateTime=function(t){if(!t||"string"!=typeof t)return"";var e=t.split("-");return 3<=e.length?e[0]+"-"+e[1]+"-"+e[2]:t},_.prototype.checkAnime=function(){try{var t="INPUT_ANIME_LAST_SHOWN_DATE",e=(new Date).toISOString().split("T")[0];localStorage.getItem(t)!==e&&(this.data.set("isShowOpenningAnime",!0),localStorage.setItem(t,e))}catch(err){console.warn(err)}},_.prototype.resetMic=function(t){window.__supportvoice&&(this.data.set("isShowMic",t),(0,w.$)("#smart-input-mic").css("display",t?"block":"none"))},_.prototype.resetStatus=function(){this.data.set("prefixContent",""),this.data.set("isAiSearch",!1),this.resetMic(!0),this.data.set("isAiPanelSearch",!1),this.data.set("isShowFileUpload",!0),this.data.set("isOverWord",!1),this.data.set("linkOptions",{})},_.prototype.handleClickAiSearch=function(t){null!=t&&t.stopPropagation();var e,n=this.chatInputInstance.getValue(),t=!this.data.get("isAiSearch");this.sendUbcLog("click","deepsearch_btn",{aisou_btn:t?"1":"0",aisou_text:this.data.get("buttonText.text"),searchkuang_content_type:n?"input_q":"default_q"}),this.data.set("isAiSearch",t),this.data.get("jumpDsBtnSample")?(e=(null==(e=document.querySelector("#chat-textarea"))?void 0:e.dataset.normalPlaceholder)||"",e=n&&n.slice(0,1e3)||e,this.handleSubmit(e,"",!1,{},!1)):(null!==(e=this.chatInputInstance)&&void 0!==e&&e.setFocus(),this.resetMic(!t))},_.prototype.handleDeepsearchHover=function(){this.sendUbcLog("show","aisou_hover",{aisou_text:this.data.get("buttonText.text")})},_.prototype.handleFileContainerLog=function(t){var e=this.chatInputInstance.getCurrentPanelName();this.sendUbcLog(t.type,t.value,{area:e||"blank",aisou_btn:!e&&this.data.get("isAiSearch")?"1":"0"})},_.prototype.handleFileRemove=function(t){var e,n=this;t?this.data.remove("fileList",t):this.data.set("fileList",[]),this.data.get("fileList").length||(this.chatInputInstance.getCurrentPanelName()?this.chatInputInstance.resetPanelStatus():(e=this.chatInputInstance.getValue(),this.chatInputInstance.reset(),this.chatInputInstance.resetPanelStatus(),this.chatInputInstance.setValue(e),setTimeout(function(){n.calculateStrIsOverWord(e)&&n.data.set("isOverWord",!0)})))},_.prototype.handleFileLog=function(){var t=this.chatInputInstance.getValue(),e=this.data.get("curUploadType"),n=this.data.get("fileList");return t?0===n.length?"text":"image"===e?"text_pic":"text_file":0===n.length?"blank":"image"===e?"pic":"file"},_.prototype.handleClickUploadFile=function(p,o,a,d){var h;return void 0===a&&(a=""),(0,k.__awaiter)(this,void 0,void 0,function(){var r,s,l,u,e,n,i,c=this;return(0,k.__generator)(this,function(t){switch(t.label){case 0:return(null!==(h=null==d?void 0:d.stopPropagation)&&void 0!==h&&h.call(d),this.chatInputInstance.stopVoiceRecording(),(i=(0,w.$)('.result-molecule[tpl="app/chat-input"]')).length&&i.trigger("duomo-btn-click",{uploadType:p,uploadFile:o}),this.sendUbcLog("click","search_kuang",{pos:"file"===p?p:"pic",query:this.chatInputInstance.getValue(),is_query_over:this.calculateStrIsOverWord(this.chatInputInstance.getValue())?"1":"0",file_status:this.handleFileLog()}),e=this.data.get("fileList")||[],n=this.data.get("curUploadType"),r=this.data.get("uploadFileMaxNum"),s=this.data.get("isPCSingleFileSample"),i=!1,"readUpload"===a?i=!(n&&n!==p):"dragOrPasteUpload"===a&&(i=!0),!s&&n&&n!==p)?(i&&this.showToast({message:"暂不支持文件、图片混合上传"}),[2]):!s&&e.length>=r?(i&&this.showToast({message:"file"===n?"上传文件最多支持"+r+"个":"上传图片最多支持"+r+"个"}),[2]):(l=+new Date,e=((u=null)===(h=this.data.get("fileList"))||void 0===h?void 0:h.length)||0,i=function(t){var e,n=t.status,i=t.fileInfo,o=t.progress,t=t.recommendWord,a=c.data.get("fileList");n===T.UploadStatus.INIT?(s&&r<=y.length&&(y.shift(),c.data.shift("fileList"),a.shift()),e=!1,y.forEach(function(t){t.timeStamp===l&&(e=!0)}),e||(y.push({uploadFileIns:u,timeStamp:l}),c.chatInputInstance.fileUpLoadInput(),c.resetMic(!1)),i&&a.push({status:T.UploadStatus.UPLOADING,fileToken:i.fileToken,timeStamp:l,fileName:i.fileName,uploadType:p,fileType:(0,T.getFileType)(i.fileName),fileSize:i.fileSize,progress:o,fileId:i.fileId})):n===T.UploadStatus.STSSUCCESS?(a.forEach(function(t,e){t.fileToken===(null==i?void 0:i.fileToken)&&(a[e].status=n,a[e].progress=o)}),t&&c.data.set("fileGuideWords",c.handleFileGuideWords(p,t))):n===T.UploadStatus.UPLOADING?(c.__startUploadTime=null===performance||void 0===performance?void 0:performance.now(),a.forEach(function(t,e){t.fileToken===(null==i?void 0:i.fileToken)&&(a[e].status=n,a[e].progress=o)})):n===T.UploadStatus.NOT_AVAILABLE?c.showToast({message:"暂不支持此格式，换个文件试试"}):n===T.UploadStatus.BOS_SUCCESS?(a.forEach(function(t,e){t.fileToken===(null==i?void 0:i.fileToken)&&(a[e].progress=o,a[e].status=n,a[e].url=null==i?void 0:i.fileUrl,a[e].fileId=null==i?void 0:i.fileId,a[e].filePath=null==i?void 0:i.filePath)}),c.sendPerfSpyLog(c.__startUploadTime,"uploadTime"),c.handleFileContainerLog({type:"show",value:"file_icon"})):n===T.UploadStatus.NETWORK_ERROR?(a.forEach(function(t,e){t.fileToken===(null==i?void 0:i.fileToken)&&(a[e].status=n)}),c.showToast({message:"网络错误，请重试"})):n===T.UploadStatus.RISK_DENY?(c.showToast({message:"当前文件暂不支持，换个文件试试吧"}),s?(y.pop(),c.data.shift("fileList")):c.splitItemFromFileList(a,null==i?void 0:i.fileToken)):n===T.UploadStatus.FILE_SIZE_EXCEED_LIMIT?(c.showToast({message:"file"===p?"文件超过50M，请重新选择后上传":"图片超过10M，请重新选择后上传"}),s&&(y.pop(),c.data.shift("fileList"))):n===T.UploadStatus.FILE_SIZE_BELOW_LIMIT?(c.showToast({message:"当前文件暂不支持，换个文件试试吧"}),s&&(y.pop(),c.data.shift("fileList"))):n===T.UploadStatus.FILE_NUM_EXCEED_LIMIT?s||c.showToast({message:"file"===p?"上传文件最多支持"+r+"个":"上传图片最多支持"+r+"个"}):n===T.UploadStatus.FILE_REUPLOAD?s&&(y.pop(),c.data.shift("fileList")):c.data.set("isFileUploading",!1);t=JSON.parse(JSON.stringify(a));c.data.set("fileList",t),c.data.get("isHome")||(n===T.UploadStatus.INIT?c.chatInputInstance.renderAiInputFilePrefix(c.data.get("fileList")[0],c.data.get("fileList").length,!1):n!==T.UploadStatus.BOS_SUCCESS&&n!==T.UploadStatus.NETWORK_ERROR||2!==c.data.get("fileReady")&&c.chatInputInstance.renderAiInputFilePrefix(c.data.get("fileList")[0],c.data.get("fileList").length,!0))},n=(null===(h=window.s_session)||void 0===h?void 0:h.qid)||"",i={type:p,maxSize:50,maxNum:s?1:r-e,token:btoa(this.data.get("token")+"||"+l+"|"+n)+"-"+n,callback:i,sseHost:I},"image"===p&&(i.maxSize=10),[4,T.UploadFile.create(i)]);case 1:return u=t.sent(),(o?u.uploadFiles(o):u.getFile())["catch"](function(){}),[2]}})})},_.prototype.handleLinkClick=function(){var t=this,e=this.data.get("linkOptions")||{};this.chatInputInstance.addAiInputContent({inputCustom:(null===(e=null===(e=e["function"])||void 0===e?void 0:e.input)||void 0===e?void 0:e.input_custom)||[]}),this.nextTick(function(){t.data.set("fileList",[])})},_.prototype.showToast=function(t){var e=t.message,t=t.duration,t=void 0===t?2e3:t;this.data.set("toastMsg",e),this.data.set("toastDuration",t),this.ref("toast").show()},_.prototype.handlePanelBtnShow=function(t){var e=t.value,t=t.ext;this.sendUbcLog("show",e,t)},_.prototype.handleMoreMenuShow=function(){var e=this;this.data.get("hiddenButtons").forEach(function(t){e.ref("more-btn-"+t.type)&&e.ref("more-btn-"+t.type).sendShowLog()})},_.prototype.updatePanelExternalProps=function(t){this.chatInputInstance&&this.chatInputInstance.getCurrentPanelName()&&this.chatInputInstance.updatePanelData(t)},_.prototype.handleFileClick=function(n){var t=this.data.get("isPCSingleFileSample");n.status===T.UploadStatus.NETWORK_ERROR&&(t?this.data.set("fileList",[]):this.data.remove("fileList",n),y.forEach(function(t){var e;t.timeStamp===n.timeStamp&&null!==(e=t.uploadFileIns)&&void 0!==e&&e.reTryUpload(n.fileToken)}))},_.prototype.handleFileGuideWords=function(t,e){var n="file"===t?0:1,t=e.find(function(t){return t.type===n}),e=t.limit,t=t.textsInfo;return t&&e&&t.slice(0,e)},_.prototype.handleClickOverwordSubmit=function(){var t=this;this.nextTick(function(){t.chatInputInstance.getInputEl().blur()}),this.sendUbcLog("click","long_query_toast",{query:this.chatInputInstance.getValue()},!0);var e=this.chatInputInstance.getValue();this.handleSubmit(e,"",!1)},_.prototype.appendAiMusicQuery=function(t){var e=this.data.get("musicButtonActiveValue")||{},n="请帮我生成音乐：",i=null===(o=e.musicStyle)||void 0===o?void 0:o.text,o=null===(a=e.timbre)||void 0===a?void 0:a.text,a=[];i&&a.push("曲风为“"+i+"”"),o&&a.push("音色为“"+o+"”");a=a.join("，");return"自定义歌词"===(null===(e=null===e?void 0:e.wordMethod)||void 0===e?void 0:e.text)?a?n+a+"。\n歌词：\n"+t:n+"\n歌词：\n"+t:a?n+t+"。"+a+"。":n+t+"。"},_.prototype.handleSubmit=function(t,e,n,i,o,a){var r=this;void 0===n&&(n=!0),void 0===i&&(i={}),void 0===o&&(o=!0),void 0===a&&(a="");var s=(null===(l=this.ref("numeroButton"))||void 0===l?void 0:l.getNumeroInfo())||{};if(this.data.set("numeroButtonActiveValue",s),s&&0<Object.keys(s).length&&(t||(t+="测测我的今日运势"),t+=s.filter(function(t){return t.type!==t.text}).map(function(t){var e=null==t?void 0:t.text;return"出生日"===t.type&&(e=r.extractDateFromDateTime(t.text)),"，"+t.type+"为"+e}).join("")),"ai_music_create"===this.chatInputInstance.getCurrentPanelName()){if(t.length<5)return void this.showToast({message:"最少输入5个字"});t=this.appendAiMusicQuery(t)}var l=!1;if("ai"===this.chatInputInstance.getMode()){var u=(u=this.data.get("fileList")).filter(function(t){return 2===t.status}),s=this.data.get("fileReady"),c="";if(2===s?c="文件上传中":t||3!==s||u.length||(c="请输入你的问题"),c)return void this.showToast({message:c});var p=t.slice(0,1e3),c=this.data.get("sendFileStatus"),d=!1,h=!1,g=[];c&&0<u.length&&(g=u.map(function(t){var e,n,i=t.uploadType;return"image"===i?d=!0:"file"===i&&(h=!0),{type:null==i?void 0:i.toUpperCase(),data:((e={})[i]=(0,k.__assign)(((n={})[i+"_url"]=t.url,n[i+"_id"]=t.fileId,n),"file"===i?{file_name:t.fileName,file_type:t.fileType,file_size:t.fileSize}:{}),e)}})),p&&0!==(null==g?void 0:g.length)&&g.unshift({data:{text:{query:p}},type:"TEXT"}),"sug"===e&&this.chatInputInstance.hideSug(!0),setTimeout(function(){r.gotoChat({query:p,sseQuery:g,hasImage:d,hasFile:h,isEdit:0!==g.length,guideSa:a})},50)}else{var c=document.querySelector("#chat-textarea"),u=(null==c?void 0:c.dataset.normalPlaceholder)||"";if(this.data.get("isAiSearch")||!n&&this.calculateStrIsOverWord(t)){n=t&&t.slice(0,1e3)||u;return"sug"===e&&this.chatInputInstance.hideSug(!0),void this.gotoChat({query:n,sseQuery:[],hasImage:!1,hasFile:!1,isEdit:n!==(null==c?void 0:c.dataset.normalPlaceholder)})}!t&&u&&(l=!0),t=(t=t||u).slice(0,100),(0,w.$)("#kw").val(t),t===u&&(null!==(u=this.chatInputInstance)&&void 0!==u&&u.closeSugUpdate(),this.chatInputInstance.setValue(t)),window.bds.comm.isVoice=this.data.get("hasUsedVoiceInput"),(0,w.$)("#form").trigger("submit"),this.checkSupportIs(),this.data.set("hasUsedVoiceInput",!1)}o&&this.sendUbcLog("click","search_kuang",(0,k.__assign)({query:t,is_query_over:this.calculateStrIsOverWord(t)?"1":"0",pos:e,is_default_q:"enter"!==e&&"se_btn"!==e||!l?"0":"1"},i))},_.prototype.handleClickPanelBtn=function(t){var i=this;this.__startClickPanelTime=null===performance||void 0===performance?void 0:performance.now();var o,a=t.panel,e=t.pos,n=t.content,t=t.area;this.nextTick(function(){i.getShowMoreGuide()}),this.sendUbcLog("click","ai_search"===a.type?"home_operate":"capsule_bub",{function_type:a.type,function_pos:e,pos:e,content:n,area:t}),a.url||("photo_editing"!==a.type&&this.data.set("drawButtonsData",[]),"ai_numerology"!==a.type&&(this.data.set("numeroButtonData",[]),this.data.set("numeroButtonActiveValue",null)),"ai_music_create"!==a.type&&(this.data.set("musicButtonData",[]),this.data.set("musicButtonActiveValue",null)),o={curUploadType:this.data.get("isPCSingleFileSample")?"":this.data.get("curUploadType")},"ai_chat"!==a.type?w.$.ajax({url:I+"/aichat/api/getChatTools?type="+a.type,type:"GET",data:"",headers:{"Content-Type":"application/json"},traditional:!0,xhrFields:{withCredentials:!0},success:function(t){var e,n;i.sendPerfSpyLog(i.__startClickPanelTime,"panelFetchTime"),t&&0===t.status&&(e=(null==t?void 0:t.data)||{},n=(null===(t=null===(t=e.jump_panel)||void 0===t?void 0:t.data)||void 0===t?void 0:t[e.type])||{},i.nextTick(function(){i.data.set("numeroButtonData",e.numerologyOptions||[]),i.data.set("musicButtonData",e.musicOptions||[]),i.data.set("drawButtonsData",e.pictureOptions||[]),i.data.set("linkOptions",n.bottom_bar||{})}),Object.assign(n,{"function":e["function"]}),i.chatInputInstance.openAiPanel((0,k.__assign)((0,k.__assign)({},a),{type:e.type}),n,o))}}):this.chatInputInstance.openAiPanel(a))},_.prototype.handleFileQuery=function(t){var e=t.query,n=t.index,i=t.sa,t=this.data.get("curUploadType");this.handleSubmit(e,"file"===t?"file_guide_word":"pic_guide_word",!0,{order:n+1,title:e},!0,i)},_.prototype.splitItemFromFileList=function(t,e){for(var n=t.length-1;0<=n;n--)t[n].fileToken===e&&t.splice(n,1)},_.prototype.handleAddFileLog=function(t){var e=t.type,n=t.value,t=t.ext;this.sendUbcLog(e,n,void 0===t?{}:t)},_.prototype.sendUbcLog=function(t,e,n,i){var o;void 0===n&&(n={}),void 0===i&&(i=!1);var a=((null===(a=this.chatInputInstance)||void 0===a?void 0:a.getStatusInfo())||{}).panelName,a=(0,k.__assign)((0,k.__assign)({},i?{}:{function_type:a}),n);"click"===t?null!==(n=w.F.ubc)&&void 0!==n&&n.sendClickLog(e,a):"show"===t?null!==(o=w.F.ubc)&&void 0!==o&&o.sendShowLog(e,a):null!==(o=w.F.ubc)&&void 0!==o&&o.sendLog(t,e,a)},_.prototype.showAiBtnHover=function(){var t=this.ref("border-animation");t&&t.showHover()},_.prototype.hideAiBtnHover=function(){var t=this.ref("border-animation");t&&t.hideHover()},_.prototype.initSpyCountLogListener=function(){var t,i=this;this.__spyHandler=function(t){var e,n;null!=t&&t.isTrusted&&(e=null,!(e=(t=t.target)instanceof Element?(null===(n=t.closest)||void 0===n?void 0:n.call(t,"[data-spy-count]"))||null:e)||(n=e.getAttribute("data-spy-count"))&&i.sendCountSpyLog(((e={})[n]=1,e)))},null!==(t=this.el)&&void 0!==t&&t.addEventListener("click",this.__spyHandler,{capture:!0})},_.prototype.detached=function(){var t;null!==(t=this.el)&&void 0!==t&&t.removeEventListener("click",this.__spyHandler,{capture:!0}),this.__spyHandler=null},_.trimWhitespace="all",_.components={"chat-input":a["default"],"panel-btn":u["default"],"file-container":s["default"],"file-guide":l["default"],"d-tooltip":c["default"],"d-toast":p["default"],"animation-video":d["default"],"drop-down-btn":v["default"],"border-animation-svg":b["default"],"cs-numero-button":h["default"],"cs-music-button":f["default"],"cs-draw-button":m["default"]},_.messages={"ui:input-delete-file":function(t){this.handleFileRemove(t.value)},"ui:input-file-click":function(t){this.handleFileClick(t.value)},"ui:input-upload":function(t){var e=this.data.get("curUploadType");this.sendUbcLog("click","file"===e?"file_add":"photo_add",{}),this.handleClickUploadFile(t.value)}},_.computed={isShowOverWordTip:function(){var t=this.data.get("fileList"),e=this.data.get("isOverWord"),n=this.data.get("isAiSearch"),i=this.data.get("isVoiceRecording");return!n&&e&&0===t.length&&!i},fileReady:function(){var t,e,n=this.data.get("fileList")||[],i=Number(!!n.length);try{for(var o=(0,k.__values)(n),a=o.next();!a.done;a=o.next()){var r=a.value;if(3===r.status)i=3;else if(-1===r.status||0===r.status||1===r.status){i=2;break}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(e=o["return"])&&e.call(o)}finally{if(t)throw t.error}}return i},showFileGuide:function(){var t=this.data.get("fileGuideWords")||[],e=this.data.get("fileList");return t.length&&e&&e.length},sendFileStatus:function(){var t=this.data.get("prefixContent");return!t||"ai_read"===t.trim()},curUploadType:function(){var t=this.data.get("fileList")||[];return t.length?t[0].uploadType:""},isRenderLeftTool:function(){var t=this.data.get("isAiPanelSearch"),e=this.data.get("numeroButtonData")||[],n=this.data.get("drawButtonsData")||[],i=this.data.get("musicButtonData")||[];return!t||e.length||n.length||i.length}},(0,k.__decorate)([n.injectable],_));function _(t){t=i.call(this,t)||this;return t.chatInputInstance=null,t.mockReadProgressTimer=null,t.__spyHandler=null,t.tipTimer=null,t.__startClickPanelTime=0,t.__startUploadTime=0,t}e["default"]=n},function(t,e){t.exports=' <div class="chat-input-anchor {{isChatSearch ? \'chat-input-anchor-ai-search\' : \'\'}}"> <div id="chat-input-main" class="{{initialRow === 2 ? \'two-line-input\': \'one-line-input\'}} {{initialFocus ? \'chat-input-main-focus\': \'\'}}"> <div class="chat-input-op-anime"></div> <div class="chat-input-wrapper-border {{isChatSearch ? \'chat-input-wrapper-border-ai-search\' : \'\'}}"></div> <div class="chat-input-wrapper-box-shadow"></div> <div class="chat-input-wrapper chat-normal-wrapper"> <slot name="optimizer-loading-mask"></slot> <div class="chat-input-container"> <div id="chat-input-top-band"> <slot name="top-band"></slot> </div> <div id="chat-input-area"> <textarea id="chat-textarea" class="chat-input-textarea chat-input-scroll-style" data-ai-placeholder="{{aiPlaceholder}}" data-normal-placeholder="{{normalPlaceholder}}" rows="1" value="{{query}}" onkeydown="if (event.keyCode === 13) event.preventDefault();"></textarea> </div> <div class="chat-input-tool"> <div id="left-tool" class="left-tools-wrapper"> <slot name="left-tool"></slot> </div> <div class="tools-placeholder-wrapper"></div> <div class="right-tools-wrapper"> <div id="right-tool"> <div class="tools-clear-icon {{query ? \'show-clear-icon\' : \'\'}}"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none"> <g opacity="0.5" clip-path="url(#clip0_789_21003)"> <path d="M9.00033 17.3334C13.6027 17.3334 17.3337 13.6024 17.3337 9.00008C17.3337 4.39772 13.6027 0.666748 9.00033 0.666748C4.39796 0.666748 0.666992 4.39772 0.666992 9.00008C0.666992 13.6024 4.39796 17.3334 9.00033 17.3334ZM12.1384 6.80482L9.94309 9.00008L12.1384 11.1953L11.1955 12.1381L9.00026 9.94288L6.80503 12.1381L5.86219 11.1953L8.05746 9.00008L5.86219 6.80482L6.80503 5.86202L9.00026 8.05728L11.1955 5.86202L12.1384 6.80482Z" fill="#9195A3"/> </g> <defs> <clipPath id="clip0_789_21003"> <rect width="18" height="18" fill="white"/> </clipPath> </defs> </svg> </div> <div id="voice-input-wrapper"></div> <slot name="right-tool"></slot> </div> <img s-if="{{isChatSearch}}" id="chat-submit-button-ai" class="{{isSubmitButtonActive ? \'chat-submit-button-ai-active\' : \'\'}}" src="https://psstatic.cdn.bcebos.com/basics/chat/send-icon_1750678058000.svg" alt on-click="handleSubmit"> <button s-else id="chat-submit-button" on-click="handleSubmit"> 百度一下 </button> </div> </div> </div> <div id="chat-input-panel"> </div> <slot s-if="{{isChatSearch}}" name="chat-search-sug"></slot> <slot s-if="{{isChatSearch}}" name="chat-input-prompt-optimizer"></slot> <slot s-if="{{isChatSearch}}" name="chat-input-upload-panel"></slot> </div> </div> <div s-if="{{initialRow !== 1}}" id="chat-input-extension"> <slot name="chat-input-extension"></slot> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{initialFocus:!1,initialRow:2,query:"",aiPlaceholder:"",normalPlaceholder:"",isChatSearch:!1,isSubmitButtonActive:!1,useBuiltInVoice:!1}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.appendChildToAiInputWithBr=e.createAiInputEditorContent=e.getDragFileType=e.hitSample=e.getDataFromDom=e.isCursorAtEnd=e.hasSelection=e.insertAtTextareaRange=e.insertAtRange=e.handleCustomInputData=e.isCaretAtEnd=e.createSugPanelDom=e.handleInputFieldBackspace=e.handleInputFieldChange=e.existCustomNode=e.focusNeedInput=e.focusInputLast=e.getCustomInputNode=e.getInputNode=e.getTextNode=e.getCursorPosition=e.setCursorToNode=e.deleteWaitNode=e.cancelWaitDeleteNode=e.setWaitDeleteNode=e.isWaitDeleteNode=e.isInputFieldNode=e.isNoWidthNode=e.isInputNode=e.getNoWidthNode=e.clearCustomNode=void 0;var c=n(1),i=n(98),u=n(42),p="input-custom-item",o="input-custom-placeholder",a="input-custom-no-width",r="deletion",s="input-custom-need-clear-text";function l(){var t=document.createElement("div");return t.innerHTML='<span contentEditable="'+((0,i.isFirefox)()||(0,i.isQQBrowser)()?"true":"false")+'" \n        class="'+a+'">&nbsp;</span>',t.childNodes[0]}function d(t){return!(null===(t=null==t?void 0:t.className)||void 0===t||!t.includes(p))}function h(t){return!(null===(t=null==t?void 0:t.className)||void 0===t||!t.includes(a))}function g(t){return null==t?void 0:t.classList.contains("ai-input-editor-content")}function f(t){null!=t&&t.setAttribute&&t.setAttribute(r,"0")}function m(t){var e,n;d(t)&&(e=null==t?void 0:t.nextSibling,n=null==t?void 0:t.previousSibling,e instanceof HTMLElement&&h(e)&&e.remove(),n instanceof HTMLElement&&h(n)&&n.remove(),t.remove())}function v(t){var e,n,i;!t||(n=t.parentNode)&&n instanceof HTMLElement&&n.isContentEditable&&(e=document.createRange(),t.nodeType===Node.TEXT_NODE?e.setStart(i=t,i.length):t instanceof HTMLElement&&0<t.childNodes.length?(null==(n=t.lastChild)?void 0:n.nodeType)===Node.TEXT_NODE?e.setStart(i=n,i.length):e.setStart(t,t.childNodes.length):e.setStart(t,0),e.collapse(!0),null!=(t=window.getSelection())&&t.removeAllRanges(),null!=t&&t.addRange(e))}function b(){var t=window.getSelection(),t=null==t?void 0:t.getRangeAt(0);if(t)return{startContainer:t.startContainer,startOffset:t.startOffset,endOffset:t.endOffset}}function w(t){return document.createTextNode(t.content||t.value||"")}function y(t,e){var n=document.createElement("span");n.id="cs-custom-input-"+e,n.contentEditable="true",n.innerText=t.value||t["default"]||"",n.setAttribute("placeholder",t.placeHolder||"填写内容"),t.value||t["default"]||n.setAttribute(r,"1");e=[p];return t.value||t["default"]?e.push(s):e.push(o),n.className=e.join(" "),n.addEventListener("click",function(t){(0,i.isFirefox)()&&t.target&&!t.target.innerText&&v(t.target),t.target&&t.target.classList.contains(s)&&(t.target.innerText="",t.target.classList.remove(s),v(t.target),t.stopPropagation())}),n}function x(n){n&&requestAnimationFrame(function(){requestAnimationFrame(function(){var t=window.getSelection(),e=document.createRange();e.selectNodeContents(n),e.collapse(!1),null!=t&&t.removeAllRanges(),null!=t&&t.addRange(e),n.focus()})})}function _(t){var e=null;if("undefined"!=typeof window&&"undefined"!=typeof document){t=document.querySelectorAll(t);try{t.forEach(function(t){t.innerHTML&&(e=Object.assign({},e,JSON.parse(t.innerHTML)))})}catch(n){console.error("解析数据失败",n)}return e}}e.clearCustomNode=function(t){var n;null!=t&&t.childNodes&&(n=[],Array.from(t.childNodes).forEach(function(t){var e;t instanceof HTMLElement&&(null!==(e=null==t?void 0:t.className)&&void 0!==e&&e.includes(a)||null!==(e=null==t?void 0:t.className)&&void 0!==e&&e.includes(p))&&n.push(t)}),n.forEach(function(t){t.remove()}))},e.getNoWidthNode=l,e.isInputNode=d,e.isNoWidthNode=h,e.isInputFieldNode=g,e.isWaitDeleteNode=function(t){return!(null==t||!t.getAttribute||"1"!==(null==t?void 0:t.getAttribute(r)))},e.setWaitDeleteNode=function(t){null!=t&&t.setAttribute&&t.setAttribute(r,"1")},e.cancelWaitDeleteNode=f,e.deleteWaitNode=m,e.setCursorToNode=v,e.getCursorPosition=b,e.getTextNode=w,e.getInputNode=y,e.getCustomInputNode=function(t){var n=[];return t.forEach(function(t,e){"text"===t.type?n.push(w(t)):"input"===t.type&&(n.push(l()),n.push(y(t,e)),n.push(l()))}),n},e.focusInputLast=x,e.focusNeedInput=function(t){var e,n,i,o=Array.from((null==t?void 0:t.childNodes)||[]),a=-1;try{for(var r=(0,c.__values)(o),s=r.next();!s.done;s=r.next()){var l=s.value;if(l instanceof HTMLElement&&null!==(i=null==l?void 0:l.className)&&void 0!==i&&i.includes(p)&&(null==l||!l.innerText)){a=Array.prototype.indexOf.call(o,l);break}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=r["return"])&&n.call(r)}finally{if(e)throw e.error}}null!=o&&o.length&&-1!==a?v(o[a]):x(t)},e.existCustomNode=function(t){var e,n,i;if(null==t||!t.childNodes)return!1;try{for(var o=(0,c.__values)(Array.from(t.childNodes)),a=o.next();!a.done;a=o.next()){var r=a.value;if(r instanceof HTMLElement&&null!==(i=null==r?void 0:r.className)&&void 0!==i&&i.includes(p))return!0}}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(e)throw e.error}}return!1},e.handleInputFieldChange=function(t){var e;null!==(e=null==t?void 0:t.childNodes)&&void 0!==e&&e.length&&Array.prototype.forEach.call(t.childNodes,function(t){var e;t instanceof HTMLElement&&(d(t)&&(t.innerText&&"\n"!==t.innerText?(null!==(e=t.classList)&&void 0!==e&&e.remove(o),f(t)):(t.innerText="",null!==(e=t.classList)&&void 0!==e&&e.add(o))),h(t)&&(d(t.previousSibling)||d(t.nextSibling)||t.remove()))})},e.handleInputFieldBackspace=function(t){var e,n=(r=b()).startContainer,i=r.startOffset,o=r.endOffset,a=null,r=null,r=n.nodeType===Node.TEXT_NODE?(a=n.parentElement,0===i?n.previousSibling:n):null==(a=n)?void 0:a.childNodes[i-1];g(a)&&r&&h(r)&&(t.preventDefault&&t.preventDefault(),d(e=null==r?void 0:r.previousSibling)&&(null!=e&&e.innerText?(e.innerText=null===(r=null==e?void 0:e.innerText)||void 0===r?void 0:r.slice(0,-1),v(e)):m(e))),d(a)&&(1===(null===(e=null==a?void 0:a.innerText)||void 0===e?void 0:e.length)||0===i&&(null===(e=null==a?void 0:a.innerText)||void 0===e?void 0:e.length)===o&&i!==o?(t.preventDefault&&t.preventDefault(),a&&(a.innerText=""),setTimeout(function(){v(a)},0)):0===i&&0===o&&(t.preventDefault&&t.preventDefault(),(null==(t=null===(o=null==a?void 0:a.previousSibling)||void 0===o?void 0:o.previousSibling)?void 0:t.nodeType)===Node.TEXT_NODE&&t.textContent?(t.textContent=null===(o=null==t?void 0:t.textContent)||void 0===o?void 0:o.slice(0,-1),v(t)):h(t)&&v(t)))},e.createSugPanelDom=function(t){var o=document.createElement("div");return o.className="ai-sug-panel-list",t.forEach(function(t,e){var n=document.createElement("div");n.className="ai-sug-panel-btn";var i=document.createElement("img");i.src=t.icon,i.alt="",n.appendChild(i);i=document.createElement("span");i.textContent=t.text,n.appendChild(i),o.appendChild(n),0===e&&((e=document.createElement("div")).className="ai-sug-panel-divider",o.appendChild(e))}),o},e.isCaretAtEnd=function(t){var e=window.getSelection();if(!e||!e.rangeCount)return!1;var n=e.getRangeAt(0).cloneRange();return(e=document.createRange()).selectNodeContents(t),e.collapse(!1),0===n.compareBoundaryPoints(Range.END_TO_END,e)},e.handleCustomInputData=function(t){return t.map(function(t){return(0,c.__assign)((0,c.__assign)({},t),{realValue:t.value||t["default"]})})},e.insertAtRange=function(t){var e,n=document.getSelection();null!=n&&n.rangeCount&&((e=n.getRangeAt(0)).deleteContents(),e.insertNode(t),e.setStartAfter(t),e.setEndAfter(t),n.removeAllRanges(),n.addRange(e))},e.insertAtTextareaRange=function(t,e){var n=t.selectionStart,i=t.selectionEnd,o=t.value;t.value=o.slice(0,n)+e+o.slice(i),n+=e.length,t.selectionStart=t.selectionEnd=n,e&&t.dispatchEvent(new Event("input",{bubbles:!0}))},e.hasSelection=function(){var t=null===(t=window.getSelection)||void 0===t?void 0:t.call(window);return!(!t||0===t.rangeCount)&&0<t.toString().trim().length},e.isCursorAtEnd=function(t){if(t instanceof HTMLTextAreaElement&&"selectionStart"in t&&"selectionEnd"in t)return t.selectionStart===t.selectionEnd&&t.selectionEnd===t.value.length;var e=window.getSelection();if(!e||!t)return!1;var n=e.getRangeAt(0);return(e=n.cloneRange()).selectNodeContents(t),e.setStart(n.endContainer,n.endOffset),0===e.toString().length},e.getDataFromDom=_;e.hitSample=function(t){var e="undefined"!=typeof window?window.bds:null;if(e){var n=e.comm||{};return 0<=(Array.isArray(n.sampleval)&&0<n.sampleval.length?n.sampleval:n.nodeSample||[]).indexOf(t)}n=_('script[name="aiTabFrameBaseData"]')||{},n=null===n?void 0:n.sample;return(null==n?void 0:n.variables)&&n.variables[t]},e.getDragFileType=function(t){var e,n,t=Array.from(t.items)||[],i="";try{for(var o=(0,c.__values)(t),a=o.next();!a.done;a=o.next()){var r,s=a.value;"file"===s.kind&&(r=s.getAsFile(),i+=(0,u.getFileNameSuffix)(r.name))}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(e)throw e.error}}return i.toLowerCase().replace(/\./g,"")},e.createAiInputEditorContent=function(t){var e=document.createElement("span");e.className="ai-input-editor-content",t.append(e)},e.appendChildToAiInputWithBr=function(n,t){var i=t.split("\n");i.forEach(function(t,e){t=document.createTextNode(t);n.appendChild(t),e!==i.length-1&&n.appendChild(document.createElement("br"))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSafari=e.isQQBrowser=e.isFirefox=e.isWindows=e.getPlatform=e.getUserAgentInfo=void 0;e.getUserAgentInfo=function(){var t="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",e=t.includes("iphone")||t.includes("ipod")||t.includes("ipad"),n=t.includes("android"),i=t.includes("baiduboxapp"),o=t.includes("searchcraft"),a=t.includes("theme/dark"),r=t.includes("bdhonorbrowser"),s=t.includes("huawei"),l=t.includes("qqbrowser"),u=t.includes("safari")&&!t.includes("chrome"),c=t.includes("firefox"),p=t.includes("arkweb")&&t.includes("tablet"),d=t.includes("ipad")||p,h=t.includes("arkweb")&&!d;return{isIOS:e,isAndroid:n,isBaiduBox:i,isSearchCraft:o,isDarkMode:a,isQQBrowser:l,isSafari:u,platform:!d&&/Mobi|Android|iPhone|ArkWeb/i.test(t||"")?"wise":"pc",isWindows:t.includes("windows"),isFirefox:c,scene:"RECALL_SCENE",isBdhonor:r,isHarmony:h,isHarmonyPad:p,isHuawei:s}};var i=(0,e.getUserAgentInfo)();e.getPlatform=function(){return i.platform};e.isWindows=function(){return i.isWindows};e.isFirefox=function(){return i.isFirefox};e.isQQBrowser=function(){return i.isQQBrowser};e.isSafari=function(){return i.isSafari}},function(t,e){t.exports=' <div class="input-panel-create"> <div class="input-panel-create-tab"> <div s-for="item in tabList" class="input-panel-create-tab-item {{selectedTab === item.tab_id ? \'input-panel-create-tab-item-selected\' : \'\'}}" on-click="handleTabClick(item.tab_id)"> {{item.tab_name}} </div> </div> <div class="input-panel-create-content"> <div s-for="itemList, index in showContentList" class="input-panel-create-content-list"> <create-item s-for="item, itemIndex in itemList" data="{{item}}" order="{{index * 4 + itemIndex}}" selected="{{selectedBtn === item.button_id}}" on-click="native:handleItemClick(item, index * 4 + itemIndex + 1)"></create-item> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=n(0),a=(0,r.__importDefault)(n(362)),s=n(103),a=(i=o.Component,(0,r.__extends)(l,i),l.prototype.initData=function(){return{list:[],place_holdaer:"",tab_list:[],title:"",selectedTab:"all",type:""}},l.prototype.handleTabClick=function(t){this.data.get("selectedTab")!==t&&this.data.set("selectedTab",t)},l.prototype.handleItemClick=function(t,e){this.data.set("selectedBtn",t.button_id);var n,i=this.data.get("selectedTab"),o=t.button_id,a=(null==t?void 0:t["function"])||{};"input"===a.type&&(t=null===(n=a.data.input||{})?void 0:n.interactionType,this.fire("click",(0,r.__assign)((0,r.__assign)({agentInfo:n.agentInfo,inputCustom:null===n?void 0:n.input_custom},t?{interactionType:t}:{}),{functionTab:i,functionName:o,functionData:a,index:e})))},l.components={"create-item":a["default"]},l.computed={tabList:function(){var t=(this.data.get("tab_list")||[]).slice();return t.unshift({tab_id:"all",tab_name:"全部"}),t},showContentList:function(){var e=this.data.get("selectedTab"),t=this.data.get("list")||[];if("all"===e)return(0,s.splitArrayTo4)(t);t=t.filter(function(t){return(null==t?void 0:t.tab_id)===e});return(0,s.splitArrayTo4)(t)}},l);function l(){return null!==i&&i.apply(this,arguments)||this}e["default"]=a},function(t,e){t.exports=' <div s-ref="creatItem" class="input-panel-create-item {{selected ? \'input-panel-create-item-selected\' : \'\'}}"> <img class="input-panel-create-item-img" src="{{data.icon}}"> <div class="input-panel-create-item-text"> <div class="input-panel-create-item-title"> {{data.text}} </div> <div class="input-panel-create-item-desc"> <img s-if="data.desc_icon" class="input-panel-create-item-logo" src="{{data.desc_icon}}"> {{data.desc}} </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.attached=function(){},a.prototype.detached=function(){},a.prototype.initData=function(){return{data:{},selected:!1,order:-1}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shuffleArray=e.getDayDiff=e.getMillisecondFromSecond=e.isArray=e.splitArrayTo4=void 0;var a=n(1);e.splitArrayTo4=function(t){for(var e=[],n=0;n<t.length;n+=4)e.push(t.slice(n,n+4));return e};function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t<1e10?1e3*t:t}e.isArray=r,e.getMillisecondFromSecond=i,e.getDayDiff=function(t){var e=i(e=t||(new Date).getTime()),t=new Date(e),e=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime(),t=new Date,t=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return Math.floor((t-e)/864e5)},e.shuffleArray=function(t){if(!r(t))return[];for(var e=t.slice(),n=e.length-1;0<n;n--){var i=Math.floor(Math.random()*(n+1)),o=(0,a.__read)([e[i],e[n]],2);e[n]=o[0],e[i]=o[1]}return e}},function(t,e){t.exports=' <div class="input-panel-draw"> <div class="input-panel-draw-tools"> <div s-for="item, index in tools.list" class="input-panel-draw-tools-list-item" on-click="native:handleToolsBtnClick(item, index)"> <img class="input-panel-draw-tools-list-item-icon" src="{{item.icon}}"> {{item.text}} </div> </div> <div class="input-panel-draw-content"> <div s-for="itemList, index in showContentList" class="input-panel-draw-content-list-item"> <fragment s-for="item, itemIndex in itemList"> <draw-item class="input-panel-draw-content-list-item-btn" data="{{item}}" order="{{index * 4 + itemIndex}}" on-btn-click="handleDrawBtnClick(item, index * 4 + itemIndex + 1)"></draw-item> </fragment> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=n(103),n=(0,o.__importDefault)(n(369)),s="SUPERPAGE_SEARCH_DRAW_ITEM_SHUFFLE",l="SUPERPAGE_SEARCH_DRAW_ITEM_SHUFFLE_TIME",n=(i=a.Component,(0,o.__extends)(u,i),u.prototype.initData=function(){return{tools:{},sameStyle:{},place_holdaer:"",default_content:""}},u.prototype.attached=function(){this.data.set("showContentList",this.getRandomContentList())},u.prototype.getRandomContentList=function(){var t=[],e=0;try{t=JSON.parse(localStorage.getItem(s)||"[]"),e=Number(localStorage.getItem(l)||0)}catch(a){t=[],e=0}var n=this.data.get("same_style.list")||[],i=(0,r.splitArrayTo4)(n);(!e||t.length!==i.length||0<(0,r.getDayDiff)(e))&&(t=(0,r.shuffleArray)(Array.from({length:i.length},function(t,e){return e})),localStorage.setItem(s,JSON.stringify(t)),localStorage.setItem(l,String(+new Date)));var o=[];return t.forEach(function(t,e){o[t]=i[e]}),o},u.prototype.detached=function(){this.data.set("showContentList",this.getRandomContentList())},u.prototype.handleToolsBtnClick=function(t){var e=(null==t?void 0:t["function"])||{},t=t.button_id;this.fire("click",{functionData:e,functionName:t,clickType:"pic-tool"})},u.prototype.handleDrawBtnClick=function(t,e){var n=t.button_id,i=(null==t?void 0:t["function"])||{},o=null==t?void 0:t.order,a=null==t?void 0:t.text,r=null==t?void 0:t.agentInfo;"input"===i.type&&(t=i.data.input||{},this.fire("click",{inputCustom:null===t?void 0:t.input_custom,functionName:n,functionData:i,text:a,index:e,order:o,agentInfo:r}))},u.components={"draw-item":n["default"]},u);function u(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="input-panel-draw-item" on-click="handleBtnClick"> <img class="input-panel-draw-item-img" src="{{data.icon}}"> <div class="input-panel-draw-item-text">{{desc}}</div> <div class="input-panel-draw-item-btn"> 做同款 </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{data:{},order:-1}},a.prototype.handleBtnClick=function(){this.fire("btn-click",this.data.get("data"))},a.computed={desc:function(){var t=this.data.get("data.text"),e=this.data.get("data.agentInfo");return null!=e&&e.agentName?"@"+e.agentName:t}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div class="input-panel-music"> <div class="input-panel-music-content"> <div class="input-panel-music-content-list"> <div s-for="itemList, index in showContentList" class="input-panel-music-content-list-item"> <fragment s-for="item, itemIndex in itemList"> <music-item class="input-panel-music-content-list-item-btn" style="{{cssVars}}" data="{{item}}" order="{{index * itemsPerRow + itemIndex}}" current-play-order="{{currentPlayOrder}}" on-btn-click="handleMusicBtnClick(item, index * itemsPerRow + itemIndex + 1)" on-select-music-item-play="handleSelectMusicItemPlay"></music-item> </fragment> </div> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=n(0),n=(0,r.__importDefault)(n(376)),n=(i=o.Component,(0,r.__extends)(a,i),a.prototype.attached=function(){this.data.set("showContentList",this.getRandomContentList())},a.prototype.splitArrayToN=function(t,e){for(var n=[],i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n},a.prototype.getRandomContentList=function(){var t=this.data.get("list")||[],e=this.data.get("itemsPerRow");return this.data.set("cssVars",4===e?{}:{"--max-item-width":100/e+"%"}),this.splitArrayToN(t,e)},a.prototype.detached=function(){this.data.set("showContentList",this.getRandomContentList())},a.prototype.initData=function(){return{showContentList:[[]],currentPlayOrder:-1,itemsPerRow:4}},a.prototype.handleMusicBtnClick=function(t,e){this.data.set("currentPlayOrder",e-1);var n,i,o=t.button_id,a=(null==t?void 0:t["function"])||{};"input"===a.type&&(i=(n=a.data.input||{}).interactionType,this.fire("click",(0,r.__assign)((0,r.__assign)({inputCustom:n.input_custom,functionData:a,buttonProperty:t.property||[]},i?{interactionType:i}:{}),{functionName:o,index:e})))},a.prototype.handleSelectMusicItemPlay=function(t){this.data.set("currentPlayOrder",t)},a.components={"music-item":n["default"]},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="input-panel-music-item-container"> <div s-ref="musicPlayer" class="input-panel-music-item" style="{{musicPlayerCssVars}}" on-click="handleBtnClick"> <div class="input-panel-music-item-img-wrapper"> <img class="input-panel-music-item-img {{isPlayingItem && isPlaying ? \'input-panel-music-item-img-animation\' : \'\'}}" src="{{data.backgroundUrl}}"> <div class="input-panel-music-item-btn"> 做同款 </div> </div> <div class="input-panel-music-item-func"> <div class="input-panel-music-item-text"> <div class="input-panel-music-item-title"> {{ data.text }} </div> <div class="input-panel-music-item-desc"> <div>{{ musicStyle }}</div> <div class="input-panel-music-item-timbre">{{ timbre }}</div> </div> </div> <div s-ref="playBtn" class="input-panel-music-item-play" on-click="playBtnClick"></div> </div> <div class="progress-box"> <div s-ref="progressContainer" class="progress-container"> <div s-ref="progress" class="progress"> </div> </div> </div> <audio s-ref="audioPlayer"></audio> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,l=n(1),n=n(0),n=(i=n.Component,(0,l.__extends)(o,i),o.prototype.initData=function(){return{data:{},order:-1,currentPlayOrder:-1,isPlaying:!1}},o.prototype.getColorByHue=function(t){var e,n,i=Number(t);if(!isNaN(i))try{for(var o=(0,l.__values)([{color:"#F98989",ranges:[[310,359],[0,5]]},{color:"#F29D61",ranges:[[6,40]]},{color:"#FAD932",ranges:[[41,61]]},{color:"#7FD977",ranges:[[62,150]]},{color:"#57D9D9",ranges:[[151,185]]},{color:"#619DF2",ranges:[[186,220]]},{color:"#A288F7",ranges:[[221,309]]}]),a=o.next();!a.done;a=o.next()){var r=a.value;if(r.ranges.some(function(t){var e=(0,l.__read)(t,2),t=e[0],e=e[1];return t<=i&&i<=e}))return r.color}}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(e)throw e.error}}},o.prototype.attached=function(){var i=this;this.data.set("musicPlayerCssVars",{"--music-item-height":this.ref("musicPlayer").clientHeight+"px","--music-item-width":this.ref("musicPlayer").clientWidth+"px","--domin-color":(null===(t=this.data.get("data"))||void 0===t?void 0:t.dominColor)||"217, 204, 255","--sub-color":(null===(t=this.data.get("data"))||void 0===t?void 0:t.subColor)||"204, 225, 255","--hue-color":this.getColorByHue((null===(t=this.data.get("data"))||void 0===t?void 0:t.hueColor)||"0")}),this.checkSeekAble(),this.loadSong(this.data.get("data"));var t=this.ref("audioPlayer");this._updateTimeDisplay=this.updateTimeDisplay.bind(this),this._resetSong=this.resetSong.bind(this),t.addEventListener("timeupdate",this._updateTimeDisplay),t.addEventListener("ended",this._resetSong),this.watch("currentPlayOrder",function(t){var e=i.ref("musicPlayer"),n=i.ref("progress"),e=e.classList.contains("playing");t!==i.data.get("order")&&(e||n.style.width)&&i.resetSong()})},o.prototype.checkSeekAble=function(){var t,e=this,n=this.ref("audioPlayer");n&&4<=n.readyState?this.data.set("isSeekable",!0):t=setTimeout(function(){e.checkSeekAble(),clearTimeout(t)},500)},o.prototype.loadSong=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return e&&(this.ref("audioPlayer").src=e.url),[2]})})},o.prototype.formatTime=function(t){if(isNaN(t))return"00:00";var e=Math.floor(t/60),t=Math.floor(t%60);return e.toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")},o.prototype.updateTimeDisplay=function(){var t=this.ref("progress"),e=this.ref("audioPlayer");e&&(e=e.currentTime/e.duration*100,t.style.width=e+"%")},o.prototype.resetSong=function(){this.pauseSong(),this.loadSong(this.data.get("data")),this.ref("progress").style.width=""},o.prototype.playSong=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return e=this.ref("musicPlayer"),n=this.ref("playBtn"),(i=this.ref("audioPlayer"))?[4,i.play()]:[2];case 1:return t.sent(),n.classList.add("playing-icon"),e.classList.add("playing"),this.fire("select-music-item-play",this.data.get("order")),[2]}})})},o.prototype.pauseSong=function(){var t=this.ref("playBtn"),e=this.ref("musicPlayer"),n=this.ref("audioPlayer");n&&(e.classList.remove("playing"),t.classList.remove("playing-icon"),n.pause())},o.prototype.playBtnClick=function(t){t.stopPropagation();t=this.ref("musicPlayer").classList.contains("playing");this.data.set("isPlaying",!t),t?this.pauseSong():this.playSong()},o.prototype.handleBtnClick=function(t){t.stopPropagation(),this.fire("btn-click",this.data.get("data"))},o.prototype.detached=function(){var t=this.ref("audioPlayer");t&&(t.pause(),t.removeEventListener("timeupdate",this._updateTimeDisplay),t.removeEventListener("ended",this._resetSong))},o.computed={musicStyle:function(){var t;return null===(t=(this.data.get("data.property")||[]).find(function(t){return"musicStyle"===t.type}))||void 0===t?void 0:t.text},timbre:function(){var t;return null===(t=(this.data.get("data.property")||[]).find(function(t){return"timbre"===t.type}))||void 0===t?void 0:t.text},isPlayingItem:function(){return this.data.get("order")===this.data.get("currentPlayOrder")}},o);function o(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="input-panel-numero"> <div class="numero-recommend-section"> <div class="button-list"> <div s-for="item in recommend_prompt.list" class="recommend-button" on-click="handleNumeroClick(item, index)"> <span class="button-icon button-text">{{item.icon}}</span> <span class="button-text">{{item.text}}</span> </div> </div> </div> <div class="fortune-section {{panelDirect === \'up\' ? \'fortune-section-up\' : \'\'}}"> <div class="fortune-content-list"> <div s-for="itemList, index in showFortuneList" class="fortune-content-list-item"> <fragment s-for="item, itemIndex in itemList"> <div s-if="itemIndex !== 0" class="fortune-content-list-item-space"></div> <fortune-item class="fortune-content-list-item-btn" style="{{cssVars}}" data="{{item}}" order="{{index * itemsPerRow + itemIndex}}" on-btn-click="handleNumeroClick(item, index * itemsPerRow + itemIndex)"></fortune-item> </fragment> </div> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),n=(0,o.__importDefault)(n(383)),n=(i=a.Component,(0,o.__extends)(r,i),r.prototype.initData=function(){return{panelDirect:"down",showFortuneList:[[]],itemsPerRow:4,itemGap:12}},r.prototype.attached=function(){this.data.set("showFortuneList",this.getFortuneList())},r.prototype.handleNumeroClick=function(t,e){var n=t.button_id,i=(null==t?void 0:t["function"])||{};"input"===i.type&&(t=i.data.input||{},this.fire("click",{inputCustom:null===t?void 0:t.input_custom,functionName:n,functionData:i,index:e}))},r.prototype.getFortuneList=function(){var t=this.data.get("fortune_direction.list")||[],e=this.data.get("itemsPerRow"),n=this.data.get("itemGap");return this.data.set("cssVars",4===e?{}:{"--max-item-width":"calc("+100/e+"% - "+n+"px)"}),this.splitArrayToN(t,e)},r.prototype.splitArrayToN=function(t,e){for(var n=[],i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n},r.components={"fortune-item":n["default"]},r);function r(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="fortune-draw-item" on-click="handleBtnClick"> <img class="fortune-draw-item-img" src="{{data.icon}}"> <div class="fortune-draw-item-text">{{data.text}}</div> <div class="fortune-draw-item-subtext">{{data.subText}}</div> <div class="fortune-draw-item-btn"> 测一测 </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{data:{},order:-1}},a.prototype.handleBtnClick=function(){this.fire("btn-click",this.data.get("data"))},a.computed={},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div class="chat-voice-input{{isRecording ? \' chat-voice-input-recording\' : \'\'}}" on-click="handleClick"> <d-tooltip trigger="hover" content="语音输入" position="{{tooltipPosition}}"> <div aria-pressed="{{isRecording}}"> <div class="chat-voice-input-mic-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"> <rect x="5.91621" y="1.63398" width="8.16801" height="11.6845" rx="4.084" stroke="currentColor" stroke-width="1.6"/> <path d="M3.48096 12.5547C4.64674 14.9817 7.12786 16.6572 10.0003 16.6572C12.8728 16.6572 15.3539 14.9817 16.5197 12.5547" stroke="currentColor" stroke-width="1.6" stroke-linecap="square"/> <path d="M10 16.6582V18.6118" stroke="currentColor" stroke-width="1.6" stroke-linecap="square"/> </svg> </div> </div> </d-tooltip> <d-tooltip s-if="isRecording" trigger="hover" content="停止语音输入" position="{{tooltipPosition}}"> <div class="chat-voice-input-pill"> <span class="chat-voice-input-pill-text">正在听</span> <div class="chat-voice-input-pill-bars" aria-hidden="true"> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[0] * 4}}px"></i> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[1] * 4}}px"></i> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[2] * 4}}px"></i> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[3] * 4}}px"></i> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[4] * 4}}px"></i> </div> </div> </d-tooltip> <d-dialog open="{=showDialog=}" title="无法使用语音功能，可能存在以下情况" ok-text="我知道了" closable="{{false}}" mask-closable="{{false}}" on-ok="handleDialogOk"> <template slot="title"> <div class="chat-voice-input-dialog-title"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="chat-voice-input-dialog-title-icon"> <circle cx="12" cy="12" r="10" fill="#FF7D00"/> <rect x="11" y="6" width="2" height="8" fill="#fff"/> <circle cx="12" cy="16.5" r="1.2" fill="#fff"/> </svg> <span>无法使用语音功能，可能存在以下情况</span> </div> </template> <div class="chat-voice-input-dialog-tips"> <div class="chat-voice-input-dialog-tips-item"> <div class="chat-voice-input-dialog-tips-item-title"><span class="chat-voice-input-dialog-tips-item-title-index">1.</span> 未开启浏览器麦克风权限</div> <div class="chat-voice-input-dialog-tips-item-desc">可点击浏览器地址栏中的设置按钮，开启麦克风权限开关。</div> <div class="chat-voice-input-dialog-tips-item-img"> <img src="https://psstatic.cdn.bcebos.com/basics/aichat/voice-input-%20permission_1760681796000.png" alt="语音权限设置"> </div> </div> <div class="chat-voice-input-dialog-tips-item"> <div class="chat-voice-input-dialog-tips-item-title"><span class="chat-voice-input-dialog-tips-item-title-index">2.</span> 当前浏览器不支持语音</div> <div class="chat-voice-input-dialog-tips-item-desc">可更换Chrome、Edge、Safari等浏览器使用。</div> </div> <div class="chat-voice-input-dialog-tips-item"> <div class="chat-voice-input-dialog-tips-item-title"><span class="chat-voice-input-dialog-tips-item-title-index">3.</span> 台式机未插麦克风</div> <div class="chat-voice-input-dialog-tips-item-desc">请插入麦克风后使用语音搜索功能。</div> </div> </div> </d-dialog> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=(0,o.__importDefault)(n(392)),s=(0,o.__importDefault)(n(395)),l=n(398),u=[1,1.5,2,1.5,1],s=(i=a.Component,(0,o.__extends)(c,i),c.prototype.initData=function(){return{showDialog:!1,isRecording:!1,barHeights:u.slice(),tooltipPosition:"bottom"}},c.prototype.attached=function(){this._beforeUnloadHandler=this.handleBeforeUnload.bind(this),this._visibilityChangeHandler=this.handleVisibilityChange.bind(this),window.addEventListener("beforeunload",this._beforeUnloadHandler),document.addEventListener("visibilitychange",this._visibilityChangeHandler)},c.prototype.detached=function(){this._beforeUnloadHandler&&window.removeEventListener("beforeunload",this._beforeUnloadHandler),this._visibilityChangeHandler&&document.removeEventListener("visibilitychange",this._visibilityChangeHandler),this.stopOcclusionCheck(),this.resetRecording()},c.prototype.handleClick=function(){var e=this;this.data.get("isRecording")?this.resetRecording():(0,l.startRecorder)({onResult:function(t){return e.handleRecognition(t)},onAmplitude:function(t){return e.handleAmplitude(t)},onError:function(t){return e.handleRecognitionError(t)}}).then(function(){e.data.set("isRecording",!0),e.startOcclusionCheck(),e.fire("recording-start",{})})["catch"](function(t){console.error("语音录制启动失败",t),e.resetRecording(!1),e.data.set("showDialog",!0),e.fire("recording-error",{message:t.message||"语音输入启动失败"})})},c.prototype.handleRecognition=function(t){var e=t.text,n=t.type;n!==l.RecognitionMessageType.FIN_TEXT?(t=this.data.get("isRecording"),e&&n===l.RecognitionMessageType.MID_TEXT&&t&&this.fire("recognized",e)):this.resetRecording()},c.prototype.handleAmplitude=function(t){this.data.get("isRecording")&&this.data.set("barHeights",t)},c.prototype.handleRecognitionError=function(t){this.data.get("isRecording")&&this.resetRecording(),this.fire("recording-error",t)},c.prototype.handleBeforeUnload=function(){this.data.get("isRecording")&&this.resetRecording()},c.prototype.handleVisibilityChange=function(){this.data.get("isRecording")&&document.hidden&&this.resetRecording()},c.prototype.handleDialogOk=function(){this.data.set("showDialog",!1)},c.prototype.checkInputOcclusion=function(){var t=this.el;if(!t)return!1;var e=t.getBoundingClientRect();if(0===e.width||0===e.height||e.bottom<0||e.top>window.innerHeight||e.right<0||e.left>window.innerWidth)return!0;var n=e.left+e.width/2,e=e.top+e.height/2,e=document.elementFromPoint(n,e);return!e||!t.contains(e)&&e!==t},c.prototype.startOcclusionCheck=function(){var t=this;this.stopOcclusionCheck(),this._occlusionCheckTimer=setInterval(function(){t.data.get("isRecording")&&t.checkInputOcclusion()&&t.resetRecording()},500)},c.prototype.stopOcclusionCheck=function(){this._occlusionCheckTimer&&(clearInterval(this._occlusionCheckTimer),this._occlusionCheckTimer=null)},c.prototype.resetRecording=function(t){void 0===t&&(t=!0),this.data.get("isRecording")&&(this.data.set("isRecording",!1),this.data.set("barHeights",u.slice()),this.stopOcclusionCheck(),t&&(0,l.stopRecorder)(),this.fire("recording-stop",{}))},c.trimWhitespace="all",c.components={"d-dialog":r["default"],"d-tooltip":s["default"]},c);function c(){var t=null!==i&&i.apply(this,arguments)||this;return t._beforeUnloadHandler=null,t._visibilityChangeHandler=null,t._occlusionCheckTimer=null,t}e["default"]=s},function(t,e){t.exports=' <div s-ref="wrapper" s-if="open" class="chat-input-dialog-wrapper" on-click="stopClick"> <div class="chat-dialog-mask" on-click="handleMaskClick"></div> <div class="chat-dialog" role="dialog" aria-modal="true"> <div class="chat-dialog-header"> <div class="chat-dialog-title"> <slot name="title"> <slot name="header">{{title}}</slot> </slot> </div> <button s-if="closable" class="chat-dialog-close" on-click="handleClose" aria-label="关闭"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <line x1="18" y1="6" x2="6" y2="18"/> <line x1="6" y1="6" x2="18" y2="18"/> </svg> </button> </div> <div class="chat-dialog-body"> <slot></slot> </div> <div class="chat-dialog-footer"> <slot name="footer"> <template s-if="cancelText || okText"> <button s-if="cancelText" class="chat-dialog-btn chat-dialog-btn-cancel" on-click="handleCancel">{{cancelText}}</button> <button s-if="okText" class="chat-dialog-btn chat-dialog-btn-ok" on-click="handleOk">{{okText}}</button> </template> </slot> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{open:!1,title:"",okText:"",cancelText:"",closable:!0,maskClosable:!0,appendToBody:!0}},a.prototype.attached=function(){var e=this;this.watch("open",function(t){"undefined"!=typeof document&&(document.body.style.overflow=t?"hidden":"",t&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()),t&&e.data.get("appendToBody")&&e.nextTick(function(){var t=e.ref("wrapper");t&&t.parentNode!==document.body&&document.body.appendChild(t)})})},a.prototype.disposed=function(){"undefined"!=typeof document&&(document.body.style.overflow="")},a.prototype.handleClose=function(){this.data.set("open",!1),this.fire("close",{})},a.prototype.handleCancel=function(){this.data.set("open",!1),this.fire("cancel",{})},a.prototype.handleOk=function(){this.fire("ok",{})},a.prototype.handleMaskClick=function(){this.data.get("maskClosable")&&this.handleClose()},a.prototype.stopClick=function(t){var e;null!==(e=null==t?void 0:t.stopPropagation)&&void 0!==e&&e.call(t),null!==(e=null==t?void 0:t.preventDefault)&&void 0!==e&&e.call(t)},a.trimWhitespace="all",a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div class="chat-input-d-tooltip"> <div class="tooltip-wrapper"> <div on-mouseenter="showTooltip" on-mouseleave="hideTooltip"> <slot></slot> </div> <div s-if="{{isShowTooltip && content}}" style="{{top ? \'top:\' + top + \'px\' : \'\'}}" class="tooltip tooltip-{{position || \'bottom\'}}"> <span>{{ content }}</span> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{content:"",bottom:"",position:"bottom",isShowTooltip:!1}},a.prototype.showTooltip=function(){this.data.set("isShowTooltip",!0)},a.prototype.hideTooltip=function(){this.data.set("isShowTooltip",!1)},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div id="ai-input-file-tag" class="ai-chat-input-file-container"> <swiper s-ref="swiper" space-between="9"> <fragment s-for="fileItem in fileList"> <div s-if="{{fileItem.uploadType === \'file\'}}" class="ai-chat-input-file {{fileItem.status === 0 || fileItem.status === 1 ? \'ai-chat-input-file-uploading\' : \'\'}} {{fileItem.status === 3 ? \'ai-chat-input-file-failed\' : \'\'}}" on-click="handleFileClick($event, fileItem)" on-mouseenter="sendFileLog(\'show\', \'file_clear\')"> <div class="ai-chat-input-file-icon"> <img class="ai-chat-input-file-icon-img" src="{{getFileIcon(fileItem)}}"> <img s-if="{{fileItem.status === 0 || fileItem.status === 1}}" class="ai-chat-input-file-icon-loading" src="{{loadingIcon}}"> </div> <div class="ai-chat-input-file-content"> <div class="ai-chat-input-file-name">{{fileItem.fileName}}</div> <div class="ai-chat-input-file-desc"> <div s-if="{{fileItem.status === 2}}" class="ai-chat-input-file-desc-success"> <div class="ai-chat-input-file-desc-success-name">{{fileItem.fileType}}</div> <div class="ai-chat-input-file-desc-success-size">{{formatBytes(fileItem.fileSize)}}</div> </div> <div s-else class="ai-chat-input-file-desc-success-desc">{{getFileDesc(fileItem)}}</div> </div> </div> <div on-click="handleDelete($event, fileItem)" class="ai-chat-input-file-delete"> <img class="ai-chat-input-file-delete-icon" src="{{deleteIcon}}"> </div> </div> <div class="ai-chat-input-image {{fileItem.status === 0 || fileItem.status === 1 ? \'ai-chat-input-image-uploading\' : \'\'}} {{fileItem.status === 3 ? \'ai-chat-input-image-uploading\' : \'\'}}" s-elif="{{fileItem.uploadType === \'image\'}}" on-mouseenter="sendFileLog(\'show\', \'file_clear\')"> <img on-click="handleFileClick($event, fileItem)" class="ai-chat-input-image-bg" src="{{getImageUrl(fileItem)}}"> <img s-if="{{fileItem.status === 0 || fileItem.status === 1}}" class="ai-chat-input-file-icon-loading" src="{{loadingIcon}}"> <div on-click="handleDelete($event, fileItem)" class="ai-chat-input-file-delete"> <img class="ai-chat-input-file-delete-icon" src="{{deleteIcon}}"> </div> </div> </fragment> <div s-if="{{showAddFile}}" class="ai-chat-input-file-click-upload {{fileList && fileList[0] && fileList[0].uploadType === \'image\' ? \'image-click-upload\' : \'\'}}" on-click="handleUploadClick"> <img class="ai-chat-input-upload-img" src="https://psstatic.cdn.bcebos.com/basics/aichat/pc-file-add_1756446198000.svg" alt> </div> </swiper> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=(0,o.__importDefault)(n(124)),n="https://psstatic.cdn.bcebos.com/basics/",s={PDF:n+"aichat/pdf-wise_1744600722000.png",Word:n+"aichat/word-wise_1744600783000.png",PPT:n+"aichat/ppt-wise_1744600745000.png",TXT:n+"aichat/txt-wise_1744600762000.png",Excel:n+"aichat/excel-wise_1744600701000.png",Code:n+"aichat/code_1753701401000.png",unknown:""},r=(i=a.Component,(0,o.__extends)(l,i),l.prototype.initData=function(){return{fileList:[],ubcLogFileAdd:!1,deleteIcon:"https://gips2.baidu.com/it/u=3959794902,1704569041&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f40_40",uploadIcon:"https://psstatic.cdn.bcebos.com/basics/aichat/pc-image-loading-upload_1757305079000.png",loadingIcon:"https://gips0.baidu.com/it/u=1698361030,3674932214&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f48_48",reuploadIcon:"https://psstatic.cdn.bcebos.com/basics/aichat/image-loading_1757410860000.png"}},l.prototype.attached=function(){var a=this;this.watch("fileList",function(t,e){var n=e.oldValue,i=a.data.get("curUploadType"),o=a.data.get("uploadFileMaxNum"),e=a.data.get("ubcLogFileAdd"),o=t.length<o&&0!==t;a.data.set("ubcLogFileAdd",o),!e&&o&&a.fire("add-file-log",{type:"show",value:"file"===i?"file_add":"photo_add"}),t.length>n.length&&a.nextTick(function(){a.ref("swiper").handleScroll("right")})})},l.prototype.handlePanelBtnClick=function(){var t=this.data.get("panel");this.fire("click",t)},l.prototype.handleFileClick=function(t,e){this.dispatch("ui:input-file-click",e)},l.prototype.handleUploadClick=function(){this.dispatch("ui:input-upload",this.data.get("fileList")[0].uploadType)},l.prototype.formatBytes=function(t){if("[object Number]"!==Object.prototype.toString.call(t))return"0B";for(var e=-1;t>=Math.pow(1024,++e+1););return""+Math.round(t/Math.pow(1024,e)*100)/100+["B","KB","MB","GB"][e]},l.prototype.getFileIcon=function(t){return 0===t.status||1===t.status?this.data.get("uploadIcon"):2===t.status?s[t.fileType]:(t.status,this.data.get("reuploadIcon"))},l.prototype.getImageUrl=function(t){return 2===t.status?t.url:3===t.status?this.data.get("reuploadIcon"):this.data.get("uploadIcon")},l.prototype.getFileDesc=function(t){return 0===t.status||1===t.status?"上传中 "+Math.round(1e4*t.progress)/100+"%":2===t.status?t.fileType+" "+this.formatBytes(t.fileSize):3===t.status?"点击图标重新上传":""},l.prototype.handleDelete=function(t,e){t.stopPropagation(),t.preventDefault(),this.dispatch("ui:input-delete-file",e),this.sendFileLog("click","file_clear")},l.prototype.sendFileLog=function(t,e){this.fire("show-delete",{type:t,value:e})},l.trimWhitespace="all",l.components={swiper:r["default"]},l.computed={showAddFile:function(){var t=this.data.get("fileList"),e=this.data.get("uploadFileMaxNum");return t.length<e}},l);function l(){return null!==i&&i.apply(this,arguments)||this}e["default"]=r},function(t,e,n){var i=n(2),o=[n(409)],a=n(125),r=n(126)["default"];t.exports=n(126),t.exports["default"]=i(r,a,o)},function(t,e){t.exports=' <div class="ai-input-file-swiper-container"> <div class="ai-input-file-swiper-left-button {{!showLeftButton ? \'ai-input-file-swiper-hidden\' : \'\'}}"> <div class="ai-input-file-left-icon-wrapper" on-click="handleScroll(\'left\')"> <div class="ai-input-file-cs-icon-left"> <img class="ai-input-file-cs-icon-arrow-left" src="https://psstatic.cdn.bcebos.com/basics/aichat/pc-arrow-swiper_1756446190000.svg" alt> </div> </div> </div> <div class="ai-input-file-swiper-right-button {{!showRightButton ? \'ai-input-file-swiper-hidden\' : \'\'}}"> <div class="ai-input-file-right-icon-wrapper" on-click="handleScroll(\'right\')"> <div class="ai-input-file-cs-icon-right"> <img class="ai-input-file-cs-icon-arrow-right" src="https://psstatic.cdn.bcebos.com/basics/aichat/pc-arrow-swiper_1756446190000.svg" alt> </div> </div> </div> <div class="ai-input-file-swiper-scroll-container" s-ref="scrollContainer" on-scroll="updateButtonVisibility"> <div class="ai-input-file-swiper-wrapper"> <slot></slot> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{showLeftButton:!1,showRightButton:!1,isScrolling:!1}},a.prototype.attached=function(){var t=this;setTimeout(function(){t.updateButtonVisibility()},50);var e=this.ref("scrollContainer");e&&(this.observer=new MutationObserver(function(){t.updateButtonVisibility()}),this.observer.observe(e,{childList:!0,subtree:!0}))},a.prototype.updateButtonVisibility=function(){var t,e,n=this.ref("scrollContainer");n&&n.ownerDocument&&(t=n.scrollLeft,e=n.scrollWidth,n=n.clientWidth,this.data.set("showLeftButton",0<Math.floor(t)),this.data.set("showRightButton",Math.ceil(t)<e-n))},a.prototype.handleScrollAction=function(t,e){var n=this;void 0===e&&(e=300),this.data.get("isScrolling")||(this.data.set("isScrolling",!0),t(),setTimeout(function(){return n.data.set("isScrolling",!1)},e))},a.prototype.handleScroll=function(n){var i=this;this.handleScrollAction(function(){var t,e=i.ref("scrollContainer");e&&e.ownerDocument&&e&&(t=e.clientWidth,e.scrollBy({left:"left"===n?-t:t,behavior:"smooth"}))})},a.prototype.disposed=function(){this.observer&&(this.observer.disconnect(),this.observer=null)},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div s-if="fileGuideWords.length > 0" class="ai-input-file-guide-wrapper"> <d-swiper s-ref="swiper" space-between="9"> <fragment s-for="item, index in fileGuideWords"> <d-tooltip s-if="(fileList.length <= item.limit && item.limit) || !item.limit" content="{{tooltipContent}}" position="top" trigger="hover" bubble-class="{{(guideDisable || fileAllFail)\n                        ? \'\' : \'ai-input-file-guide-tooltip\'}}"> <div class="ai-input-file-guide-item {{(guideDisable || fileAllFail) ? \'ai-input-file-guide-disabled\' : \'\'}}" data-spy-count="file-guide-click" on-click="handleSendQuery(item, index)"> <img s-if="item.icon" class="ai-input-file-guide-icon" src="{{item.icon}}"> {{ item.text }} </div> </d-tooltip> </fragment> </d-swiper> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=(0,o.__importDefault)(n(124)),n=(0,o.__importDefault)(n(414)),n=(i=a.Component,(0,o.__extends)(s,i),s.prototype.attached=function(){var t=this.data.get("curUploadType");this.fire("add-file-log",{type:"show",value:"file"===t?"file_guide_word":"pic_guide_word"})},s.prototype.initData=function(){return{fileGuideWords:[]}},s.prototype.handleSendQuery=function(t,e){var n=this.data.get("guideDisable"),i=this.data.get("fileAllFail");n||i||this.fire("send-file-query",{query:t.text,index:e,sa:t.sa})},s.components={"d-swiper":r["default"],"d-tooltip":n["default"]},s.messages={},s.computed={guideDisable:function(){var t=this.data.get("fileList");return!t||!t.length||!t.every(function(t){return 2===t.status||3===t.status})},fileAllFail:function(){return(this.data.get("fileList")||[]).every(function(t){return 3===t.status})},tooltipContent:function(){var t=this.data.get("fileAllFail"),e=this.data.get("guideDisable");return t?"文件上传失败，换个文件试试吧":e?"请等待上传完成后发送":""}},s);function s(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <span class="chat-input-tooltip cos-tooltip"> <slot></slot> </span> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),a=(0,i.__importDefault)(n(417));var r=(s.prototype.debounce=function(t,e,n){var i=this;void 0===n&&(n=this.interval),this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.bind(e)(),i.timer=null},n)},s.prototype.clean=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},s);function s(t){void 0===t&&(t=50),this.interval=50,this.timer=null,this.interval=t}var l,i=(l=o.Component,(0,i.__extends)(u,l),u.prototype.initData=function(){return{content:"",trigger:"hover",position:"top",disabled:!1,openDelay:0,closeDelay:0,open:!1,getPopupContainer:undefined,_ownerEl:undefined,_hoverTarget:!1,_hoverTooltip:!1,_platform:"pc",bubbleClass:""}},u.prototype.attached=function(){var e=this,n=this.el;this.data.set("_ownerEl",n),"custom"===this.data.get("trigger")?(this.data.get("open")&&this.beforeOpen(),this.watch("open",function(t){t?e.beforeOpen():e.beforeClose()})):this.data.get("disabled")||this.addListener(n),this.watch("disabled",function(t){t?(e.close(),e.removeListener()):e.addListener(n)});var t=this.data.get("getPopupContainer");t&&t()!==document.body||(this.pagePositionChange=function(){var t;e.data.get("open")&&null!==(t=e.tooltip)&&void 0!==t&&t.open()},"mobile"===this.data.get("_platform")?window.addEventListener("app_font_change",this.pagePositionChange):window.addEventListener("resize",this.pagePositionChange))},u.prototype.addListener=function(t){var e=this,n=this.data.get("trigger");"click"===n?(this.click=function(t){e.handleClick(t)},document.addEventListener("click",this.click)):"hover"===n&&(this.debounce=new r(10),this.mouseenter=function(){e.data.set("_hoverTarget",!0),e.beforeOpen()},this.mouseleave=function(){var t;e.data.set("_hoverTarget",!1),null!==(t=e.debounce)&&void 0!==t&&t.debounce(e.beforeClose,e)},t.addEventListener("mouseenter",this.mouseenter),t.addEventListener("mouseleave",this.mouseleave))},u.prototype.removeListener=function(){this.clearDelayTimer();var t=this.data.get("trigger");"click"===t&&this.click?document.removeEventListener("click",this.click):"hover"===t&&this.mouseenter&&this.mouseleave&&(null!=(t=this.el)&&t.removeEventListener("mouseenter",this.mouseenter),null!=t&&t.removeEventListener("mouseleave",this.mouseleave),null!==(t=this.debounce)&&void 0!==t&&t.clean())},u.prototype.detached=function(){this.removeListener(),this.pagePositionChange&&("mobile"===this.data.get("_platform")?window.removeEventListener("app_font_change",this.pagePositionChange):window.removeEventListener("resize",this.pagePositionChange))},u.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},u.prototype.toggle=function(){this.data.get("open")?this.beforeClose():this.beforeOpen()},u.prototype.close=function(){var t;null!==(t=this.tooltip)&&void 0!==t&&t.hide(),this.data.get("open")&&(this.fire("toggle",!1),this.data.set("open",!1))},u.prototype.open=function(){this.tooltip?this.tooltip.open():this.createTooltipTrigger(),this.fire("toggle",!0),this.data.set("open",!0)},u.prototype.createTooltipTrigger=function(){var e=this;this.tooltip=new a["default"]({owner:this,source:'\n                <cos-tooltip-trigger\n                    content="{{content}}"\n                    position="{{position}}"\n                    bubbleClass="{{bubbleClass}}"\n                    getPopupContainer="{{getPopupContainer}}"\n                    _ownerEl="{{_ownerEl}}"\n                    _platform="{{_platform}}"\n                >\n                    <slot name="content"></slot>\n                </cos-tooltip-trigger>\n            '});var t=this.data.get("getPopupContainer"),t=t?t():document.body;this.tooltip.attach(t);t=null===(t=this.tooltip)||void 0===t?void 0:t.el;"hover"===this.data.get("trigger")&&(null!=t&&t.addEventListener("mouseenter",function(){e.data.set("_hoverTooltip",!0),e.beforeOpen()}),null!=t&&t.addEventListener("mouseleave",function(){e.data.set("_hoverTooltip",!1),e.beforeClose()})),this.nextTick(function(){var t;null!==(t=e.tooltip)&&void 0!==t&&t.open()})},u.prototype.delaySetTooltipVisible=function(t,e){this.delayTimer=setTimeout(function(){e()},t)},u.prototype.beforeOpen=function(){var e=this;if("custom"!==this.data.get("trigger")&&this.data.get("open")||this.data.get("disabled"))return!0;this.clearDelayTimer();var t=this.data.get("openDelay");return t?this.delaySetTooltipVisible(t,function(){var t=e.data.get("trigger");("hover"===t&&e.data.get("_hoverTarget")||"hover"!==t)&&e.open()}):this.open(),!1},u.prototype.beforeClose=function(){var t,e=this;"custom"!==this.data.get("trigger")&&!this.data.get("open")||this.data.get("_hoverTooltip")||this.data.get("_hoverTarget")||(t=this.data.get("closeDelay"),this.clearDelayTimer(),t?this.delaySetTooltipVisible(t,function(){e.close()}):this.close())},u.prototype.handleClick=function(t){var e=this.el,n=t.target;this.data.get("disabled")||(function(t){for(var e=t&&t.parentNode;e;){if("[object ShadowRoot]"===e.toString())return 1;e=e.parentNode}}(e)&&(n=(t=t.composedPath())&&t[0]),null!=e&&e.contains&&null!=e&&e.contains(n)?this.toggle():this.beforeClose())},u.prototype.updatePosition=function(){var t;this.data.get("open")&&null!==(t=this.tooltip)&&void 0!==t&&t.open()},u.trimWhitespace="all",u);function u(){return null!==l&&l.apply(this,arguments)||this}e["default"]=i},function(t,e){t.exports=' <div class="chat-input-tooltip cos-tooltip-trigger{{bubbleClass ? \' \' + bubbleClass : \'\'}} {{_tipPosition.position | direction}} {{open ? \'\' : \' cos-tooltip-trigger-hidden\'}}" style="top:{{_tipPosition.top}}px;\n            bottom:{{_tipPosition.bottom}}px;\n            left:{{_tipPosition.left}}px;\n            right:{{_tipPosition.right}}px;\n            z-index: 500;"> <div class="cos-tooltip-content"> {{content}} <slot s-if="!content"></slot> </div> <div s-ref="arrow" class="cos-tooltip-arrow" style="top:{{_tipPosition.arrowTop}}px;\n                right:{{_tipPosition.arrowRight}}px;\n                bottom:{{_tipPosition.arrowBottom}}px;\n                left:{{_tipPosition.arrowLeft}}px;"> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),A={mobile:{welt:9,padding:9},pc:{welt:16,padding:8}},o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{content:"",position:"top",open:!1,getPopupContainer:undefined,bubbleClass:"",_ownerEl:undefined,_tipPosition:{}}},a.prototype.open=function(){this.data.set("_tipPosition",{});var t=this.data.get("_ownerEl"),e=this.data.get("position"),n=this.data.get("getPopupContainer"),i=n?n():document.body,o=i===document.body,a=this.ref("arrow").getBoundingClientRect(),n=i.getBoundingClientRect(),i=t.getBoundingClientRect();i.height&&i.width&&(t=this.el.getBoundingClientRect(),o=this.getPlacements(n,i,t,a,e,!0,o),this.data.set("_tipPosition",o),this.data.set("open",!0))},a.prototype.hide=function(){this.data.set("open",!1)},a.prototype.getVisibleHeight=function(t,e){var n=window.innerHeight;if(e)return n;e=t.top,t=t.bottom;if(n<=e||t<=0)return 0;e=Math.max(e,0);return Math.min(t,n)-e},a.prototype.getPlacements=function(t,e,n,i,o,a,r){var s={top:e.top-t.top,left:e.left-t.left,bottom:e.bottom-t.top,right:e.right-t.left,width:e.width,height:e.height},l=this.data.get("_platform"),u=n.width,c=n.height,p=null,d=null,h=null,g=null,f=null;switch(o){case"top-start":case"bottom-start":f=t.width-(p=s.left),h=15;break;case"top-end":case"bottom-end":d=t.width-s.right,f=s.right,g=15;break;case"left-start":case"left":case"left-end":d=t.width-s.left,f=s.left;break;case"right-start":case"right":case"right-end":f=t.width-(p=s.right);break;default:var p=s.left+s.width/2-u/2,f=t.width,m=n.width/2-i.width/2-15,v=n.width+p,b=0;p<0?b=p<-m?m:-p:v>t.width&&(b=t.width-v<-m?-m:t.width-v),p+=b;h=u/2-b-i.width/2,v=t.left-document.body.getBoundingClientRect().left+p,b=Math.abs(document.body.scrollWidth-t.left-p-n.width);0<=t.left&&v<A[l].welt?(p+=A[l].welt-v,h-=A[l].welt-v):b<A[l].welt&&(p-=A[l].welt-b,h+=A[l].welt-b)}var w=null,y=null,x=null,_=null;switch(o){case"top-start":case"top":case"top-end":var S=0===(S=Number(null===(k=null===(C=getComputedStyle(this.el))||void 0===C?void 0:C.paddingBottom)||void 0===k?void 0:k.split("px")[0])||0)?A[l].padding:0,w=s.top-n.height-S,y=s.top;y=t.top<0?y+t.top:y;break;case"bottom-start":case"bottom":case"bottom-end":w=s.bottom,y=this.getVisibleHeight(t,r)-s.bottom,y=t.top<0?y-t.top:y;break;case"left-start":case"right-start":w=s.top,y=this.getVisibleHeight(t,r)-s.top,y=t.top<0?y-t.top:y,x=15;break;case"left":case"right":w=s.top+s.height/2-c/2,y=this.getVisibleHeight(t,r);var C=n.height/2-i.width/2-15,k=t.top<0?w+t.top:w,S=0;k<0?S=k<-C?C:-k:y-k<n.height&&(S=(S=y-k-n.height)<-C?-C:S),w+=S,x=c/2-i.height/2-S;break;default:w=s.bottom-n.height,y=s.bottom,y=t.top<0?y+t.top:y,_=15}var T="",E=o.split("-"),I=o.includes("top")||o.includes("bottom");if(f<u&&(I?(o.includes("end")||o.includes("start"))&&(T=o.includes("end")?"start":"end",E=(T=E[0]+"-"+T).split("-")):(T=o.includes("left")?"right":"left",E=(T+=E[1]?"-"+E[1]:"").split("-"))),y<c&&(I?(T=o.includes("top")?"bottom":"top",T+=E[1]?"-"+E[1]:""):(o.includes("end")||o.includes("start"))&&(T=o.includes("end")?"start":"end",T=E[0]+"-"+T)),T&&a){e=this.getPlacements(t,e,n,i,T,!1,r),T=T.split("-")[1],T=E[1]&&T[1]&&E[1]!==T[1];if(I&&e.availableHeight>y||I&&T&&e.availableHeight===y||!I&&e.availableWidth>f||!I&&T&&e.availableWidth===f)return e}return{position:o,left:p,right:d,top:w,bottom:null,availableHeight:y,availableWidth:f,arrowTop:x,arrowRight:g,arrowBottom:_,arrowLeft:h}},a.trimWhitespace="all",a.filters={direction:function(t){return"cos-tooltip-"+(null==t?void 0:t.split("-")[0])}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div class="{{$style[\'panel\']}} {{panel.type === \'ai_search\' ? $style[\'guide-bub\'] : \'\'}} {{panel.guide && isShowGuide ? $style[\'panel-guide\'] + \' panel-guide\' : \'\'}} {{panel.type === \'deep_research\' ? \'deep-research-panel\' : \'\'}}" data-spy-count="panel-btn-click" on-click="handlePanelBtnClick" on-mouseenter="showHover" on-mouseleave="hideHover"> <fragment s-if="{{panel.type === \'ai_search\'}}"> <a href="{{panel.url}}" target="_blank" class="{{$style[\'guide-bub-container\']}}"> <div class="{{$style[\'guide-bub-container-center-box\']}}"> <div class="{{$style[\'guide-bub-container-center\']}}"> {{ emojiText | raw }} </div> </div> <div s-ref="ai-search-btn" class="{{$style[\'guide-bub-container-right-btn\']}}" on-click="handleRightBtnClick"> <div class="{{$style[\'guide-bub-container-text\']}}">立即体验</div> <border-animation-svg s-ref="border-animation" hoverAnimationId="ai_search_border_svg_hover" incomeAnimationId="ai_search_border_svg_hover_income" width="{{aiSearchWidth}}" height="{{aiSearchHeight}}" border-radius="15" padding="2" liner-color-config="{{linerColorConfig}}"></border-animation-svg> </div> </a> </fragment> <fragment s-else> <a s-if="{{panel.url}}" class="{{$style[\'tag-a\']}} {{$style[\'panel-link\']}}" href="{{panel.url}}" target="_blank"> <img src="{{panel.icon}}" alt> <span>{{ panel.text }}</span> </a> <fragment s-else> <img src="{{panel.icon}}" alt> <span>{{ panel.text }}</span> </fragment> </fragment> </div> '},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.AI_SEARCH_ANIMATION_LAST_DATE=a.AI_SEARCH_CLICK_COUNT=a.INPUT_PANEL_BTN_CLICKED_GUIDE=void 0;var n=e(1),i=e(0),o=(0,n.__importDefault)(e(135)),r=(0,n.__importStar)(e(425));a.INPUT_PANEL_BTN_CLICKED_GUIDE="INPUT_PANEL_BTN_CLICKED_GUIDE",a.AI_SEARCH_CLICK_COUNT="AI_SEARCH_CLICK_COUNT",a.AI_SEARCH_ANIMATION_LAST_DATE="AI_SEARCH_ANIMATION_LAST_DATE";var s,o=(s=i.Component,(0,n.__extends)(l,s),l.prototype.initData=function(){return{panel:{},pos:0,isHover:!1,isShowGuide:!1,showHoverAnimation:!1,linerColorConfig:[{offset:"0%",color:"#fff",opacity:"1"},{offset:"30%",color:"#fff",opacity:"0.2"},{offset:"60%",color:"#6547FF",opacity:"0.4"},{offset:"90%",color:"#4769FF",opacity:"0.5"},{offset:"100%",color:"#0090FE",opacity:"0.7"}],btnIconUrl:"https://psstatic.cdn.bcebos.com/aife/static/wenAI_1761814195000.png"}},l.prototype.inited=function(){var t,e,n;"ai_search"===this.data.get("panel.type")&&(e=(t=this.data.get("panel.scrollTextList"))&&null!=t&&t.length?null===(e=t[0])||void 0===e?void 0:e.text:this.data.get("panel.text"),n=t&&null!=t&&t.length?null===(n=t[0])||void 0===n?void 0:n.url:this.data.get("panel.url"),this.data.set("panel.text",e),this.data.set("panel.url",n),this.data.set("emojiText",(0,r.processTextWithGradient)(e)))},l.prototype.attached=function(){var n=this,t=this.data.get("panel");t.guide&&(i=this.checkShowGuide(),this.data.set("isShowGuide",i)),"base"===this.data.get("area")&&this.sendShowLog();var e=document.querySelector("#chat-input-anime-video"),i=!1;try{i=!!localStorage.getItem("INPUT_BORDER_ANIME_LAST_SHOWN_DATE")}catch(err){console.warn(err)}i?this.initTextCarousel():setTimeout(function(){e?setTimeout(function(){n.initTextCarousel()},4900):n.initTextCarousel()},100),"ai_search"===(null==t?void 0:t.type)&&this.getAiSearchClickCount()<8&&this.shouldShowAnimationToday()&&setTimeout(function(){var t=document.querySelector("#chat-input-anime-video"),e=n.ref("border-animation");!t&&e&&(n.updateAnimationLastDate(),e.showIncomeAnimation())},100)},l.prototype.sendShowLog=function(){var t=this.data.get("panel");this.fire("show-log",{value:"ai_search"===(null==t?void 0:t.type)?"home_operate":"capsule_bub",ext:{area:this.data.get("area"),function_type:null==t?void 0:t.type,pos:this.data.get("pos"),content:this.data.get("panel.content")||this.data.get("panel.text")}})},l.prototype.initTextCarousel=function(){var e,n=this,i=this.data.get("panel.scrollTextList"),o=1e3*this.data.get("panel.interval")||4e3;!i||(e=this.ref("text-carousel"))&&(this.data.set("emojiText",""),this.nextTick(function(){var t=new r["default"](e,{texts:i,interval:o,animationTime:800,autoPlay:!0,pauseOnHover:!0,containerHeight:18,itemHeight:18},{onItemChange:function(t){n.data.set("panel.url",t.url),n.data.get("panel.content")&&n.fire("show-log",{value:"home_operate",ext:{pos:n.data.get("pos"),content:t.text}}),n.data.set("panel.content",t.text)}});n.carousel=t}))},l.prototype.handlePanelBtnClick=function(){var t,e=this.data.get("panel"),n="ai_search"===(null==e?void 0:e.type);if(n&&this.incrementAiSearchClickCount(),e.guide){this.data.set("isShowGuide",!1);var i={};try{var o=localStorage.getItem(a.INPUT_PANEL_BTN_CLICKED_GUIDE);o?(i=JSON.parse(o))[e.type]="1":((t={})[e.type]="1",i=t),localStorage.setItem(a.INPUT_PANEL_BTN_CLICKED_GUIDE,JSON.stringify(i))}catch(err){console.warn(err)}}n=n?this.rightClick?"right":"left":this.data.get("area");this.rightClick=undefined,this.fire("click",{panel:e,pos:this.data.get("pos"),content:this.data.get("panel.content")||this.data.get("panel.text"),area:n})},l.prototype.checkShowGuide=function(){var t=this.data.get("panel");if(t.guide)try{var e=localStorage.getItem(a.INPUT_PANEL_BTN_CLICKED_GUIDE),n=e&&JSON.parse(e)||{};return!e||!n[t.type]}catch(err){return console.warn(err),!1}return!1},l.prototype.showHover=function(){var t=this.data.get("panel");this.data.set("isHover",!0),this.fire("hover",t);t=this.ref("border-animation");t&&(this.setBorderAnimationInfo(),t.showHover())},l.prototype.hideHover=function(){this.data.set("isHover",!1);var t=this.ref("border-animation");t&&t.hideHover()},l.prototype.getAiSearchClickCount=function(){try{var t=localStorage.getItem(a.AI_SEARCH_CLICK_COUNT);return t?parseInt(t,10):0}catch(err){return console.warn("Failed to get AI search click count:",err),0}},l.prototype.incrementAiSearchClickCount=function(){try{var t=this.getAiSearchClickCount();localStorage.setItem(a.AI_SEARCH_CLICK_COUNT,String(t+1))}catch(err){console.warn("Failed to increment AI search click count:",err)}},l.prototype.shouldShowAnimationToday=function(){try{var t=localStorage.getItem(a.AI_SEARCH_ANIMATION_LAST_DATE),e=(new Date).toDateString();return!t||t!==e}catch(err){return console.warn("Failed to check animation last date:",err),!0}},l.prototype.updateAnimationLastDate=function(){try{var t=(new Date).toDateString();localStorage.setItem(a.AI_SEARCH_ANIMATION_LAST_DATE,t)}catch(err){console.warn("Failed to update animation last date:",err)}},l.prototype.handleRightBtnClick=function(){this.rightClick=!0},l.prototype.setBorderAnimationInfo=function(){var t=this.ref("ai-search-btn");t&&(this.data.set("aiSearchWidth",t.offsetWidth),this.data.set("aiSearchHeight",t.offsetHeight))},l.prototype.detached=function(){this.carousel&&(this.carousel.destroy(),this.carousel=undefined)},l.trimWhitespace="all",l.components={"border-animation-svg":o["default"]},l);function l(){return null!==s&&s.apply(this,arguments)||this}a["default"]=o},function(t,e,n){var i=n(2),o=[n(423)],a=n(136),r=n(137)["default"];t.exports=n(137),t.exports["default"]=i(r,a,o)},function(t,e){t.exports=' <svg class="{{$style[\'svg\']}}" style="--svg-padding: {{padding}}px" width="{{svgWidth}}" height="{{svgHeight}}" viewBox="0 0 {{svgWidth}} {{svgHeight}}" xmlns="http://www.w3.org/2000/svg"> <defs> <linearGradient s-if="incomeAnimationId" id="{{incomeAnimationId}}" x1="0%" y1="0%" x2="100%" y2="0%"> <template s-for="stopItem in linerColorConfig"> <stop offset="{{stopItem.offset}}" stop-color="{{stopItem.color}}" stop-opacity="{{stopItem.opacity}}"/> </template> <animateTransform attributeName="gradientTransform" type="rotate" dur="3.5s" repeatCount="1" values="0 0.5 0.5;360 0.5 0.5;540 0.5 0.5;900 0.5 0.5" keyTimes="0;0.2857;0.7143;1" calcMode="linear" fill="freeze"/> </linearGradient> <linearGradient id="{{hoverAnimationId}}" x1="0%" y1="0%" x2="100%" y2="0%" gradientTransform="rotate(0 .5 .5)"> <template s-for="stopItem in linerColorConfig"> <stop offset="{{stopItem.offset}}" stop-color="{{stopItem.color}}" stop-opacity="{{stopItem.opacity}}"/> </template> </linearGradient> </defs> <rect s-ref="animation-rect" x="{{padding}}" y="{{padding}}" width="{{width}}" height="{{height}}" fill="none" rx="{{borderRadius}}" ry="{{borderRadius}}" stroke="{{ \'url(#\' + hoverAnimationId + \')\' }}" stroke-width="{{strokeWidth}}"/> </svg> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{id:"",type:"hover",width:0,height:0,padding:5,borderRadius:0,strokeWidth:1,linerColorConfig:[]}},a.prototype.showIncomeAnimation=function(){var t,e,n,i=this,o=this.ref("animation-rect"),a=this.data.get("incomeAnimationId");o&&(n=null,/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&(t=document.querySelector("#"+a),e=0,n=setInterval(function(){e=(e+2)%360,t.setAttribute("gradientTransform","rotate("+e+" .5 .5)")},30)),o.setAttribute("stroke","url(#"+a+")"),o.style.opacity="1",setTimeout(function(){o.style.transition="opacity 1s ease-in",o.style.opacity="0"},2500),setTimeout(function(){o.style.opacity="",o.style.transition="",i.switchHoverAnimation(),n&&clearInterval(n)},3500))},a.prototype.switchHoverAnimation=function(){var t,e=this.ref("animation-rect");e&&(t=this.data.get("hoverAnimationId"),e.setAttribute("stroke","url(#"+t+")"),this.data.set("type","hover"))},a.prototype.showHover=function(){var t,e,n,i,o,a,r,s=this;"hover"===this.data.get("type")&&(t=this.ref("animation-rect"),e=this.data.get("hoverAnimationId"),n=document.querySelector("#"+e),t&&(t.style.transition="400ms ease-in opacity",t.style.opacity="1",i=.45,a=!(o=null),r=function(t){var e=t-(o=o||t);o=t,a&&(s.hoverAngle=(s.hoverAngle+i*e)%360,n.setAttribute("gradientTransform","rotate("+s.hoverAngle+" .5 .5)")),a&&requestAnimationFrame(r)},requestAnimationFrame(r),setTimeout(function(){i=.045},800),this.animationRunning=a,this.stopAnimation=function(){a=!1}))},a.prototype.hideHover=function(){var t;"hover"===this.data.get("type")&&((t=this.ref("animation-rect"))&&(t.style.transition="160ms ease-in opacity",t.style.opacity="0"),this.stopAnimation&&this.stopAnimation())},a.trimWhitespace="all",a.computed={svgWidth:function(){var t=this.data.get("padding"),e=this.data.get("width");return 2*Number(t)+Number(e)},svgHeight:function(){var t=this.data.get("padding"),e=this.data.get("height");return 2*Number(t)+Number(e)}},a);function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.hoverAngle=0,t}e["default"]=o},function(t,e,n){"use strict";function o(t){return'<span class="gradient-text">'+t+"</span>"}Object.defineProperty(e,"__esModule",{value:!0}),e.processTextWithGradient=void 0,e.processTextWithGradient=o;var i=(a.prototype.next=function(){var e,n,t,i,o,a=this;this.isAnimating||this.config.texts.length<=1||(this.isAnimating=!0,e=this.textElements[this.currentIndex],n=(this.currentIndex+1)%this.config.texts.length,t=this.textElements[n],i=function(t){t.target===e&&"transform"===t.propertyName&&(e.removeEventListener("transitionend",i),e.style.transition="none",e.style.transform="translateY("+a.config.itemHeight+"px)",e.style.opacity="0",e.offsetHeight,e.style.transition="transform "+a.config.animationTime+"ms ease, opacity "+a.config.animationTime+"ms ease",a.currentIndex=n,a.isAnimating=!1,a.callbacks.onItemChange&&a.callbacks.onItemChange(a.config.texts[a.currentIndex],a.currentIndex),a.config.autoPlay&&!a.isPaused&&a.executeCarousel())},e.addEventListener("transitionend",i),o=this.config.animationTime,e.style.transition="transform "+o+"ms ease-in-out, opacity "+o+"ms ease-in-out",t.style.transition="transform "+o+"ms ease-in-out, opacity "+o+"ms ease-in-out",e.style.transform="translateY(-"+this.config.itemHeight+"px)",e.style.opacity="0",t.style.transform="translateY(0)",t.style.opacity="1")},a.prototype.start=function(){this.config.texts.length<=1||(this.isPaused=!1,this.executeCarousel())},a.prototype.pause=function(){this.isPaused=!0,this.timer&&(clearTimeout(this.timer),this.timer=null)},a.prototype.resume=function(){this.config.autoPlay&&(this.isPaused=!1,this.executeCarousel())},a.prototype.stop=function(){this.pause(),this.config.autoPlay=!1},a.prototype.updateTexts=function(t){this.config.texts=t,this.currentIndex=0,this.setupContainer(),this.createTextElements(),this.config.autoPlay&&1<t.length&&this.start()},a.prototype.destroy=function(){this.stop(),this.config.pauseOnHover&&(this.container.removeEventListener("mouseenter",this.mouseEnterHandler),this.container.removeEventListener("mouseleave",this.mouseLeaveHandler)),this.container.innerHTML="",this.textElements=[]},a.prototype.init=function(){this.setupContainer(),this.createTextElements(),this.setupEvents(),this.config.autoPlay&&1<this.config.texts.length&&this.start(),this.callbacks.onItemChange&&this.callbacks.onItemChange(this.config.texts[0],0)},a.prototype.setupContainer=function(){this.container.style.position="relative",this.container.style.height=this.config.containerHeight+"px",this.container.innerHTML=""},a.prototype.createTextElements=function(){var i=this;this.textElements=[],this.config.texts.forEach(function(t,e){var n=document.createElement("div");n.className="carousel-text-item",n.innerHTML=o(t.text),n.style.cssText="\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: "+i.config.itemHeight+"px;\n                display: flex;\n                align-items: center;\n                opacity: "+(0===e?"1":"0")+";\n                transform: translateY("+(0===e?"0":i.config.itemHeight+"px")+");\n                transition: none;\n                white-space: nowrap;\n                cursor: pointer;\n            ",i.container.appendChild(n),i.textElements.push(n)})},a.prototype.setupEvents=function(){this.config.pauseOnHover&&(this.container.addEventListener("mouseenter",this.mouseEnterHandler),this.container.addEventListener("mouseleave",this.mouseLeaveHandler))},a.prototype.executeCarousel=function(){var t=this;this.isAnimating||this.isPaused||this.config.texts.length<=1||(this.timer=setTimeout(function(){t.next()},this.config.interval))},a);function a(t,e,n){var i=this;if(void 0===n&&(n={}),this.currentIndex=0,this.isAnimating=!1,this.timer=null,this.isPaused=!1,this.textElements=[],this.container="string"==typeof t?document.querySelector(t):t,!this.container)throw new Error("容器元素未找到");if(this.config={texts:e.texts||[],interval:e.interval||3e3,autoPlay:!1!==e.autoPlay,pauseOnHover:!1!==e.pauseOnHover,animationTime:e.animationTime||500,containerHeight:e.containerHeight||40,itemHeight:e.itemHeight||40},this.callbacks=n,this.mouseEnterHandler=function(){return i.pause()},this.mouseLeaveHandler=function(){return i.resume()},!this.config.texts||0===this.config.texts.length)throw new Error("文案列表不能为空");this.init()}e["default"]=i},function(t,e){t.exports=' <div class="{{$style[\'tooltip-wrapper\']}} {{getAnchorStyle}}"> <div on-mouseenter="showTooltip" on-mouseleave="hideTooltip"> <slot></slot> </div> <div s-if="{{(isHovering && content) || (initContent && isShowInit)}}" style="{{getTooltipStyle}}" class="{{$style[\'tooltip\']}} {{initContent ? $style[\'init-toast\'] : \'\'}}"> <span>{{ showContent }}</span> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),r="SUPERPAGE_VISITED_TIMES",o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{content:"",initContent:"",top:"",maxWidth:"",isShowInit:!1,isHovering:!1,anchor:"center",buttonTipsDays:[4,8]}},a.prototype.attached=function(){var t=this;if(this.data.get("initContent")){try{var e=Number(localStorage.getItem(r)),n=this.data.get("buttonTipsDays"),i=localStorage.getItem("INPUT_ANIME_LAST_SHOWN_DATE"),o=(new Date).toISOString().split("T")[0];e?i!==o?(e++,n.includes(String(e))&&this.data.set("isShowInit",!0),localStorage.setItem(r,e)):this.data.set("initContent",""):(this.data.set("isShowInit",!0),e=1,localStorage.setItem(r,e))}catch(a){console.log(a)}setTimeout(function(){t.data.set("initContent","")},3e3)}},a.prototype.showTooltip=function(){this.data.set("initContent",""),this.data.set("isHovering",!0),this.fire("hover",{})},a.prototype.hideTooltip=function(){this.data.set("isHovering",!1)},a.trimWhitespace="all",a.computed={getAnchorStyle:function(){return this.data.get("$style")["anchor-"+this.data.get("anchor")]},getTooltipStyle:function(){var t=this.data.get("top"),e=this.data.get("maxWidth"),n="";return t&&(n+="top: "+t+"px;"),e&&(n+="max-width: "+e+"px;"),n},showContent:function(){var t=this.data.get("isHovering"),e=this.data.get("content"),n=this.data.get("initContent");return t?e:n}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=" <div s-if=\"visible\" class=\"{{$style['toast-root']}} {{isView ? $style['toast-root-view'] : ''}}\"> <div class=\"{{$style['toast-content']}}\">{{ message }}</div> </div> "},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{visible:!1,isView:!1,message:"",duration:2e3,timer:null}},a.prototype.show=function(){var e=this;document.body.appendChild(this.el),this.data.set("visible",!0),this.nextTick(function(){e.data.set("isView",!0),clearTimeout(e.data.get("timer"));var t=setTimeout(function(){e.hide()},e.data.get("duration"));e.data.set("timer",t)})},a.prototype.hide=function(){var t=this;this.data.set("isView",!1);var e=setTimeout(function(){t.data.set("visible",!1)},300);clearTimeout(this.data.get("timer")),clearTimeout(e),this.data.set("timer",null)},a.trimWhitespace="all",a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div id="chat-input-anime-video" class="{{$style[\'animation-video\']}}" style="pointer-events: {{supportPropagation ? \'none\' : \'auto\'}}"> <canvas s-ref="canvas" class="{{$style[\'gif-canvas\']}}"> </canvas> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{afxUrl:"https://psstatic.cdn.bcebos.com/basics/chat/afx 2_1750155358000.mp4",bgWidth:"100%",bgHeight:"100%",imgType:"",supportPropagation:!1,inView:!0,autoplay:!0,loop:!1,alphaDirection:"left",resourceWidth:400,resourceHeight:400,hasPlay:!1}},a.prototype.attached=function(){var i=this;this.data.get("afxUrl")?this.nextTick(function(){i.createVideoElement();var e=i.video;i.videoEventListener(e,"play"),i.videoEventListener(e,"pause"),i.videoEventListener(e,"ended");var n=i.ref("canvas");i.canvas=n,i.bindInitAnimation=i.initCanPlayThrough.bind(i),i.bindHandleNotLoopEnded=i.handleNotLoopEnded.bind(i),i.video.addEventListener("canplaythrough",i.bindInitAnimation,{once:!0}),i.video.addEventListener("ended",i.bindHandleNotLoopEnded),i.watch("afxUrl",function(t){i.video.pause(),i.video.src=t,i.video.load(),i.data.get("autoplay")&&i.data.get("inView")&&(i.initAnimation(n,e),i.frameDrawHandler=i.frameDrawHandler||i.prepareFrameDraw(i.gl,i.posBuffer,i.videoTexture,e),i.playVideo(e))})}):console.error("[component animation-video]: afxUrl is required")},a.prototype.detached=function(){var t;null!==(t=this.video)&&void 0!==t&&t.removeEventListener("canplaythrough",this.bindInitAnimation),null!==(t=this.video)&&void 0!==t&&t.removeEventListener("ended",this.bindHandleNotLoopEnded),clearTimeout(this.timer),this.timer=null},a.prototype.initCanPlayThrough=function(){var e=this,n=this.video;this.initAnimation(this.canvas,n),this.frameDrawHandler=this.frameDrawHandler||this.prepareFrameDraw(this.gl,this.posBuffer,this.videoTexture,n),this.data.get("autoplay")&&this.data.get("inView")&&this.playVideo(n),this.watch("inView",function(t){t&&n&&e.playVideo(n)})},a.prototype.playVideo=function(t){!t||(t=t.play())&&t["catch"](function(t){console.error("animation video play error",t)})},a.prototype.createVideoElement=function(){var t,e=document.createElement("video");e.muted=!0,e.volume=0,e.setAttribute("crossorigin","anonymous"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("playsinline","true"),e.setAttribute("x-webkit-airplay","true"),e.setAttribute("t7-video-player-type","inline"),this.data.get("loop")&&e.setAttribute("loop",""),e.src=this.data.get("afxUrl"),e.load(),e.style.display="none",null!==(t=null===document||void 0===document?void 0:document.body)&&void 0!==t&&t.appendChild(e),this.video=e},a.prototype.handleNotLoopEnded=function(){},a.prototype.videoEventListener=function(t,e){var n=this;t&&t.addEventListener(e,function(){var t;"play"===e?null!==(t=n.frameDrawHandler)&&void 0!==t&&t.startFrameUpdate():"pause"!==e&&"ended"!==e||null!==(t=n.frameDrawHandler)&&void 0!==t&&t.stopFrameUpdate()},!1)},a.prototype.safeNumber=function(t){return isNaN(parseInt(t,10))?0:parseInt(t,10)},a.prototype.initAnimation=function(t,e){if(t&&e){var n=this.data.get("alphaDirection"),i=this.safeNumber(this.data.get("resourceWidth")),o=this.safeNumber(this.data.get("resourceHeight"));t.width=Math.ceil(i/2),t.height=o;e=t.getContext("webgl");if(!e)throw"WebGLRenderingContext Error";e.viewport(0,0,t.width,t.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);i=this.createVertexBuffer(e,[-1,-1,1,-1,-1,1,1,1]),o=this.createProgram(e,"\n    attribute vec2 position;\n    varying vec2 v_Texcoord;\n    void main() {\n        v_Texcoord = (position + 1.0) * 0.5;\n        gl_Position = vec4(position, 0.0, 1.0);\n    }\n","\n    precision highp float;\n    uniform sampler2D tex;\n    varying vec2 v_Texcoord;\n    uniform int alphaDirection; // alpha 通道的方向，为 0 时表示 alpha 通道在左边，为 1 时，表示 alpha 通道在右边\n    void main() {\n        // 取左边画面的像素\n        vec2 left = v_Texcoord * vec2(0.5, 1.0);\n\n        // 取右边画面的像素\n        vec2 right = v_Texcoord * vec2(0.5, 1.0) + vec2(0.5, 0.0);\n\n        if (alphaDirection == 1) {\n            vec3 rgb = texture2D(tex, left).rgb;\n            float a = texture2D(tex, right).r;\n            gl_FragColor = vec4(rgb, a);\n        }\n        else {\n            vec3 rgb = texture2D(tex, right).rgb;\n            float a = texture2D(tex, left).r;\n            gl_FragColor = vec4(rgb, a);\n        }\n    }\n");o&&i&&(t=e.getUniformLocation(o,"tex"),e.useProgram(o),this.setVertexBuffer(e,o,"position",i,2),e.uniform1i(t,0),o=e.getUniformLocation(o,"alphaDirection"),e.uniform1i(o,"right"===n?1:0),this.videoTexture=this.createImageTexture(e),this.gl=e,this.posBuffer=i)}},a.prototype.createVertexBuffer=function(t,e){var n=t.createBuffer();return e&&this.updateVertexBuffer(t,n,e),n},a.prototype.updateVertexBuffer=function(t,e,n){t.bindBuffer(t.ARRAY_BUFFER,e),n instanceof Array&&(n=new Float32Array(n)),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)},a.prototype.createProgram=function(e,t,n){var i=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER);if(!i||!o)return null;e.shaderSource(i,t),e.shaderSource(o,n),e.compileShader(i),e.compileShader(o),[i,o].forEach(function(t){e.getShaderParameter(t,e.COMPILE_STATUS)});n=e.createProgram();return n?(e.attachShader(n,i),e.attachShader(n,o),e.linkProgram(n),n):null},a.prototype.setVertexBuffer=function(t,e,n,i,o){t.bindBuffer(t.ARRAY_BUFFER,i);n=t.getAttribLocation(e,n);t.enableVertexAttribArray(n),t.vertexAttribPointer(n,o,t.FLOAT,!1,0,0)},a.prototype.createImageTexture=function(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),e},a.prototype.prepareFrameDraw=function(t,e,n,i){var o=t.UNSIGNED_BYTE,a=null,r=function(){a=(i.readyState<i.HAVE_CURRENT_DATA||(t.bindBuffer(t.ARRAY_BUFFER,e),t.bindTexture(t.TEXTURE_2D,n),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,o,i),t.drawArrays(t.TRIANGLE_STRIP,0,4)),requestAnimationFrame(r))};return{startFrameUpdate:function(){r()},stopFrameUpdate:function(){a&&cancelAnimationFrame(a)}}},a.trimWhitespace="all",a);function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.timer=null,t.gl=null,t.program=null,t.videoTexture=null,t.posBuffer=null,t.video=null,t.canvas=null,t}e["default"]=o},function(t,e){t.exports=' <div class="{{$style[\'numero-buttons-container\']}}"> <fragment s-for="button, index in numeroButtonData"> <div s-if="!button.notShow" id="{{\'numero-button-container-\' + button.optionType}}" class="{{$style[\'numero-button\']}} {{openType === button.optionType ? $style[\'numero-button-active\'] : \'\'}}" on-click="handleButtonClick(button, index)"> <div id="numero-btn-content" class="{{$style[\'numero-btn-content\']}}"> <span class="{{$style[\'numero-button-text\']}}"> {{buttonTextMap && buttonTextMap[button.optionType] ? buttonTextMap[button.optionType] : button.defaultText}} </span> <img class="{{$style[\'numero-icon\']}}" src="{{openType === button.optionType ? upImg : downImg}}"> </div> <div id="{{\'numero-panel-\' + button.optionType}}" s-is="{{panelComponents[button.optionType]}}" s-show="openType === button.optionType" class="{{$style[\'numero-panel\']}}" open="{{openType === button.optionType}}" panel-data="{{button.data}}" numero-btn-value="{{getNumeroBtnVal(button)}}" on-panel-action="handlePanelAction"></div> </div> </fragment> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),n=(0,o.__importDefault)(n(438)),r={constellation:"directive-panel",gender:"directive-panel"},n=(i=a.Component,(0,o.__extends)(s,i),s.prototype.initData=function(){return{numeroButtonData:[],openPanelType:"",openType:"",panelComponents:r,buttonTextMap:{constellation:"",gender:"",birthplace:null,birthday:""},abortController:null,downImg:"https://psstatic.cdn.bcebos.com/aife/image/12_12_1760441491000.png",upImg:"https://psstatic.cdn.bcebos.com/aife/image/upas_1760441610000.png"}},s.prototype.attached=function(){var i=this,t=this.data.get("numeroButtonData");this.nextTick(function(){t.forEach(function(t){var e,n=t.data[0];n.value&&((e=(0,o.__assign)({},i.data.get("buttonTextMap")))[t.optionType]=n.value,i.data.set("buttonTextMap",e))})})},s.prototype.detached=function(){var t;window.removeEventListener("resize",this.listener),null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=null},s.prototype.ubcClickLog=function(t){return JSON.stringify({value:"",ubcExt:{button_text:t}})},s.prototype.handleButtonClick=function(t,e){var n=t.optionType,i=this.data.get("openType");this.sendUbcLog("click","searchkuang_option",{function_type:this.data.get("openPanelType"),function_pos:e+1,option_type:n,button_text:t.defaultText}),i===n?this.closePanel(n):(i&&this.closePanel(i),this.openPanel(n))},s.prototype.getNumeroBtnVal=function(t){return(null==t?void 0:t.data[0]).value},s.prototype.getNumeroInfo=function(){var t=this.data.get("numeroButtonData")||[],i=this.data.get("buttonTextMap")||{};return t.map(function(t){var e=t.defaultText,n=t.optionType;return{optionType:n,type:e,text:i[n]||t.defaultText,value:i[n]}})},s.prototype.openPanel=function(i){var t,o=this;null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=new AbortController,this.data.get("openType")!==i&&((t=this.data.get("openType"))&&this.closePanel(t),this.data.set("openType",i),this.listener=function(t){var e=document.querySelector("#numero-panel-"+i),n=t.target.closest("#numero-button-container-"+i);!e||e.contains(t.target)||n||o.closePanel(i)},document.addEventListener("click",this.listener,{capture:!0,signal:this.abortController.signal}))},s.prototype.closePanel=function(t){this.data.get("openType")===t&&(this.data.set("openType",""),null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=null)},s.prototype.handlePanelAction=function(t){var e;this.data.get("openType")===t.type&&((e=(0,o.__assign)({},this.data.get("buttonTextMap")||{}))[t.type]=t.text,this.data.set("buttonTextMap",e))},s.prototype.sendUbcLog=function(e,n,i){void 0===i&&(i={}),window.require(["superman/components/ubc"],function(t){t=new t.Ubc(window.require,{ubcid:18463});"click"===e?null!=t&&t.sendClickLog(n,i):"show"===e?null!=t&&t.sendShowLog(n,i):null!=t&&t.sendLog(e,n,i)})},s.components={"directive-panel":n["default"]},s);function s(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=" <div class=\"{{$style['directive-panel']}}\"> <h3 class=\"{{$style['directive-title']}}\">{{title}}</h3> <div class=\"{{$style['button-container']}}\"> <button s-for=\"button in buttonList\" class=\"{{$style['directive-button']}} {{selectedButton === button ? $style['directive-button-selected'] : ''}}\" on-click=\"handleBtnClick(button)\"> {{button}} </button> </div> </div> "},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),a={"选择性别":"gender","选择星座":"constellation"},n=(i=n.Component,(0,o.__extends)(r,i),r.prototype.initData=function(){return{panelData:[],selectedDirectiveButtons:{}}},r.prototype.attached=function(){var t=this.data.get("numeroBtnValue");this.data.set("selectedButton",t)},r.prototype.handleBtnClick=function(t){var e=this.data.get("panelData")[0],n=a[e.text],e=(0,o.__assign)({},this.data.get("selectedDirectiveButtons")||{});e[n]=t,this.data.set("selectedDirectiveButtons",e),this.fire("panel-action",{text:t,type:n})},r.components={},r.computed={buttonList:function(){var t=this.data.get("panelData")[0];switch(t.text){case"选择星座":return t.constellationData;case"选择性别":return t.subMenu;default:return[]}},title:function(){return this.data.get("panelData")[0].text||""},selectedButton:function(){var t=this.data.get("panelData")[0],t=a[t.text];return this.data.get("selectedDirectiveButtons")[t]||""}},r);function r(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="{{$style[\'music-buttons-container\']}}"> <fragment s-for="button, index in musicButtonData"> <div s-if="!button.notShow" id="{{\'music-button-container-\' + button.optionType}}" class="{{$style[\'music-button\']}} {{openType === button.optionType ? $style[\'music-button-active\'] : \'\'}}" on-click="handleButtonClick(button, index)"> <div id="music-btn-content" class="{{$style[\'music-btn-content\']}}"> <span class="{{$style[\'music-button-text\']}}"> {{ musicButtonActiveValue[button.optionType].text | buttonText(button.defaultText) }} </span> <img class="{{$style[\'music-icon\']}}" src="{{openType === button.optionType ? upImg : downImg}}"> </div> <div s-is="{{musicButtonsComponents[button.optionType]}}" s-show="openType === button.optionType" id="{{\'music-panel-\' + button.optionType}}" class="{{$style[\'music-panel\']}}" open="{{openType === button.optionType}}" panel-data="{{button.data}}" music-btn-value="{{getMusicBtnVal(button)}}" title="{{musicButtonsTitles[button.optionType]}}" option-type="{{button.optionType}}" music-data="{{button}}" active-value="{{musicButtonActiveValue[button.optionType]}}" on-btn-click="handleMusicButtonClick"></div> </div> </fragment> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),n=(0,o.__importDefault)(n(444)),r={musicStyle:"cs-music-tooltip",timbre:"cs-music-tooltip",wordMethod:"cs-music-tooltip"},s={musicStyle:"选择曲风",timbre:"选择音色",wordMethod:"选择生成方式"},n=(i=a.Component,(0,o.__extends)(l,i),l.prototype.initData=function(){return{musicButtonData:[],openPanelType:"",musicButtonsComponents:r,musicButtonsTitles:s,musicButtonActiveValue:{musicStyle:{},timbre:{},wordMethod:{text:"AI写歌词"}},downImg:"https://psstatic.cdn.bcebos.com/aife/image/12_12_1760441491000.png",upImg:"https://psstatic.cdn.bcebos.com/aife/image/upas_1760441610000.png"}},l.prototype.attached=function(){var e=this;this.watch("musicButtonActiveValue",function(t){Array.isArray(t)&&(t=t.reduce(function(t,e){return e&&e.type&&(t[e.type]=e),t},{}),e.data.set("musicButtonActiveValue",(0,o.__assign)({},t)))})},l.prototype.detached=function(){var t;window.removeEventListener("resize",this.listener),null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=null,this.listener=null},l.prototype.getFirstOptionText=function(e){var t=this.data.get("musicButtonData").find(function(t){return t.optionType===e});return t&&Array.isArray(t.data)&&t.data[0]&&t.data[0].text||""},l.prototype.sendUbcLog=function(e,n,i){void 0===i&&(i={}),window.require(["superman/components/ubc"],function(t){t=new t.Ubc(window.require,{ubcid:18463});"click"===e?null!=t&&t.sendClickLog(n,i):"show"===e?null!=t&&t.sendShowLog(n,i):null!=t&&t.sendLog(e,n,i)})},l.prototype.openPanel=function(i){var t,o=this;null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=new AbortController,this.data.get("openType")!==i&&((t=this.data.get("openType"))&&this.closePanel(t),this.data.set("openType",i),this.listener=function(t){var e=document.querySelector("#music-panel-"+i),n=t.target.closest("#music-button-container-"+i);!e||e.contains(t.target)||n||o.closePanel(i)},document.addEventListener("click",this.listener,{capture:!0,signal:this.abortController.signal}))},l.prototype.closePanel=function(t){this.data.get("openType")===t&&(this.data.set("openType",""),null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=null)},l.prototype.handleButtonClick=function(t,e){var n=t.optionType,i=this.data.get("openType");this.sendUbcLog("click","searchkuang_option",{function_type:this.data.get("openPanelType"),function_pos:e+1,option_type:n,button_text:t.defaultText}),i===n?this.closePanel(n):(i&&this.closePanel(i),this.openPanel(n))},l.prototype.getMusicBtnVal=function(t){return(null==t?void 0:t.data[0]).value},l.prototype.handleMusicButtonClick=function(e){switch(e.optionType){case"musicStyle":this.data.apply("musicButtonActiveValue",function(t){return(0,o.__assign)((0,o.__assign)({},t),{musicStyle:e})});break;case"timbre":this.data.apply("musicButtonActiveValue",function(t){return(0,o.__assign)((0,o.__assign)({},t),{timbre:e})});break;case"wordMethod":this.data.apply("musicButtonActiveValue",function(t){return(0,o.__assign)((0,o.__assign)({},t),{wordMethod:e})}),this.data.set("musicPlaceHolder",e.inputPanelText)}},l.filters={buttonText:function(t,e){return[this.getFirstOptionText("musicStyle"),this.getFirstOptionText("timbre")].includes(t)||!t?e:t}},l.components={"cs-music-tooltip":n["default"]},l);function l(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=" <div class=\"{{$style['directive-panel']}}\"> <h3 class=\"{{$style['directive-title']}}\"> {{ title }} </h3> <div class=\"{{$style['button-container']}}\"> <fragment s-for=\"item in musicData.data\"> <div class=\"{{$style['directive-button']}} {{showActiveItemClass(activeValue, item) ? $style['directive-button-selected'] : ''}}\" on-click=\"handleBtnClick(item)\"> {{ item.text }} </div> </fragment> </div> </div> "},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),n=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{title:"",optionType:"",musicData:{},activeValue:{}}},a.prototype.showActiveItemClass=function(t,e){var n=this.data.get("musicData.defaultText"),i=this.data.get("musicData.data"),i=i&&i[0]&&i[0].text||"";return null!=t&&t.text?t.text===e.text:[i,n].includes(e.text)},a.prototype.handleBtnClick=function(t){this.fire("btn-click",(0,o.__assign)({optionType:this.data.get("optionType")},t))},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div> <cs-draw-button draw-buttons-data="{{drawButtonsData}}" draw-button-active-value="{{drawButtonActiveValue}}" on-btn-click="handleDrawButtonClick" tooltip-position="bottom"></cs-draw-button> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=n(0),n=(0,r.__importDefault)(n(448)),n=(i=o.Component,(0,r.__extends)(a,i),a.prototype.initData=function(){return{drawButtonsData:[],drawButtonActiveValue:{style:{},ratio:{},recommend:{}}}},a.prototype.handleDrawButtonClick=function(t){switch(t.optionType){case"recommend":this.fire("add-input-content",{word:t.text,noClear:!0});break;case"style":this.data.set("drawButtonActiveValue.style",t);break;case"ratio":this.data.set("drawButtonActiveValue.ratio",t)}},a.prototype.handleDrawButtonsSettings=function(t){var e,n;"init"===t.type?this.data.set("drawButtonsData",t.pictureOptions):"show"===t.type?(e=(n=t||{}).openPanelMode,n=void 0===(n=n.extData)?{}:n,this.fire("outside-panel-click",{needShowPlaceholder:!1,openPanelMode:void 0===e?"":e}),n=n.aiPictureCreate||{},this.handleInvalidDrawData(n)):"change"===t.type&&this.handleInvalidDrawData(t.drawStyle)},a.prototype.handleInvalidDrawData=function(i){var t=this.data.get("drawButtonActiveValue"),e=this.data.get("drawButtonsData"),o={};e.forEach(function(t){o[t.optionType]=t.data});var a={};Object.keys(i).forEach(function(t){var e,n=i[t];n&&(e=(o[t]||[]).find(function(t){return t.text===n}),a[t]=e?{optionType:t,text:e.text,icon:e.icon}:{optionType:t,text:"",icon:""})}),this.data.set("drawButtonActiveValue",(0,r.__assign)((0,r.__assign)({},t),a))},a.prototype.getDrawInfo=function(){return this.data.get("drawButtonActiveValue")},a.prototype.sendUbcLog=function(t){var e=t.type,n=t.value,t=t.ext,i=void 0===t?{}:t;window.require(["superman/components/ubc"],function(t){t=new t.Ubc(window.require,{ubcid:18463});"click"===e?null!=t&&t.sendClickLog(n,i):"show"===e?null!=t&&t.sendShowLog(n,i):null!=t&&t.sendLog(e,n,i)})},a.components={"cs-draw-button":n["default"]},a.messages={"ui:draw-button-click":function(t){this.handleDrawButtonClick(t.value)},"log:send-ubc-log":function(t){this.sendUbcLog(t.value)}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="{{$style[\'draw-buttons-wrapper\']}}" on-click="handleClick"> <fragment s-for="item, index in drawButtonsData"> <div class="{{$style[\'draw-button-area\']}}"> <div id="{{\'draw-button-container-\' + item.optionType}}" class="{{$style[\'draw-button-container\']}} {{open === item.optionType ? $style[\'draw-button-container-active\'] : \'\'}}" on-click="handleTooltipChange(item, index)"> <div class="{{$style[\'draw-buttons-text\']}}"> {{drawButtonActiveValue[item.optionType].text || item.defaultText}} </div> <img class="{{$style[\'draw-button-icon\']}}" src="{{open === item.optionType ? upImg : downImg}}"> </div> <div id="{{\'draw-tooltip-\' + item.optionType}}" s-is="{{drawButtonsComponents[item.optionType]}}" s-show="{{open === item.optionType}}" class="{{$style[\'draw-button-tooltip\']}} {{$style[\'draw-button-tooltip-\' + tooltipPosition]}} {{item.optionType === \'recommend\' ? $style[\'draw-button-tooltip-recommend\'] : \'\'}}" drawData="{{item}}" order="{{index + 1}}" active-value="{{drawButtonActiveValue[item.optionType]}}" on-btn-click="handleDrawBtnClick"></div> </div> </fragment> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=(0,o.__importDefault)(n(451)),s=(0,o.__importDefault)(n(454)),n=(0,o.__importDefault)(n(457)),l={style:"cs-input-style",ratio:"cs-input-ratio",recommend:"cs-input-recommend"},n=(i=a.Component,(0,o.__extends)(u,i),u.prototype.initData=function(){return{drawButtonsComponents:l,open:"",tooltipPosition:"top",downImg:"https://psstatic.cdn.bcebos.com/aife/image/12_12_1760441491000.png",upImg:"https://psstatic.cdn.bcebos.com/aife/image/upas_1760441610000.png"}},u.prototype.attached=function(){this.abortController=new AbortController},u.prototype.detached=function(){var t;document.removeEventListener("click",this.clickListener),null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=null},u.prototype.handleTooltipChange=function(t,e){var n=t.optionType,i=t.defaultText,t=this.data.get("drawButtonActiveValue")||{};this.dispatch("log:send-ubc-log",{type:"click",value:"searchkuang_option",ext:{button_text:(null===(t=t[n])||void 0===t?void 0:t.text)||i,function_type:n,option_type:i,function_pos:e+1}});e=this.data.get("open");e===n?this.closeTooltip(n):(e&&this.closeTooltip(e),this.openTooltip(n))},u.prototype.openTooltip=function(i){var t,o=this;null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=new AbortController,this.data.get("open")!==i&&((t=this.data.get("open"))&&this.closeTooltip(t),this.data.set("open",i),this.clickListener=function(t){var e=document.querySelector("#draw-tooltip-"+i),n=t.target.closest("#draw-button-container-"+i);!e||e.contains(t.target)||n||o.closeTooltip(i)},document.addEventListener("click",this.clickListener,{capture:!0,signal:this.abortController.signal}))},u.prototype.closeTooltip=function(t){this.data.get("open")===t&&(this.data.set("open",""),null!==(t=this.abortController)&&void 0!==t&&t.abort(),this.abortController=null)},u.prototype.handleDrawBtnClick=function(t){"recommend"!==t.optionType&&this.closeTooltip(t.optionType),this.dispatch("ui:draw-button-click",t)},u.prototype.handleClick=function(t){t.stopPropagation()},u.components={"cs-input-ratio":r["default"],"cs-input-recommend":s["default"],"cs-input-style":n["default"]},u);function u(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="{{$style[\'draw-ratio-wrapper\']}}"> <div class="{{$style[\'draw-ratio-title\']}}"> 选择比例 </div> <div class="{{$style[\'draw-ratio-content-wrapper\']}}"> <fragment s-for="item, index in drawData.data"> <div class="{{$style[\'draw-ratio-content-item\']}} {{activeValue.text === item.text ? $style[\'draw-ratio-content-item-active\'] : \'\'}}" on-click="handleBtnClick(item, index)"> <img src="{{item.icon}}" alt> <span>{{ item.text }}</span> </div> </fragment> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),n=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{drawData:{}}},a.prototype.attached=function(){this.dispatch("log:send-ubc-log",{type:"show",value:"searchkuang_option",ext:{function_type:this.data.get("drawData.optionType"),option_type:this.data.get("drawData.defaultText"),function_pos:this.data.get("order")}})},a.prototype.handleBtnClick=function(t,e){this.dispatch("log:send-ubc-log",{type:"click",value:"searchkuang_option_board",ext:{button_text:null==t?void 0:t.text,function_pos:e+1,function_type:this.data.get("drawData.optionType"),option_type:this.data.get("drawData.defaultText")}}),this.fire("btn-click",(0,o.__assign)({optionType:"ratio"},t))},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="{{$style[\'draw-recommend-wrapper\']}}"> <div class="{{$style[\'draw-recommend-title\']}}"> 推荐词 </div> <div class="{{$style[\'draw-recommend-content-container\']}}"> <fragment s-for="itemData in drawData.data"> <div class="{{$style[\'draw-recommend-content-wrapper\']}}"> <div>{{ itemData.text }}</div> <div class="{{$style[\'draw-recommend-content\']}}"> <fragment s-for="word, index in itemData.recommendData"> <span class="{{$style[\'draw-recommend-content-text\']}}" on-click="handleBtnClick(itemData.text, word, index)"> {{ word }} </span> </fragment> </div> </div> </fragment> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{drawData:{data:[]}}},a.prototype.attached=function(){this.dispatch("log:send-ubc-log",{type:"show",value:"searchkuang_option",ext:{function_type:this.data.get("drawData.optionType"),function_pos:this.data.get("order"),option_type:this.data.get("drawData.defaultText")}})},a.prototype.handleBtnClick=function(t,e,n){this.dispatch("log:send-ubc-log",{type:"click",value:"searchkuang_option_board",ext:{button_text:e,function_pos:n+1,function_type:this.data.get("drawData.optionType"),option_type:this.data.get("drawData.defaultText")}}),this.fire("btn-click",{optionType:"recommend",text:e})},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=" <div class=\"{{$style['draw-style-wrapper']}}\"> <div class=\"{{$style['draw-style-title']}}\"> 选择风格 </div> <div class=\"{{$style['draw-style-content-wrapper']}}\"> <div s-for=\"itemList in drawStyleData\" class=\"{{$style['draw-style-content-list']}}\"> <fragment s-for=\"item, index in itemList\"> <div class=\"{{$style['draw-style-content-item']}}\" on-click=\"handleBtnClick(item, index)\"> <div class=\"{{$style['draw-style-content-item-img']}} {{item.text === activeValue.text ? $style['draw-style-content-item-img-active']:''}}\"> <img src=\"{{item.icon}}\" alt> </div> <span class=\"{{$style['draw-style-content-item-text']}} {{item.text === activeValue.text ? $style['draw-style-content-item-text-active'] : ''}}\"> {{ item.text }} </span> </div> </fragment> </div> </div> </div> "},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),n=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{drawStyleData:[[]]}},a.prototype.attached=function(){this.dispatch("log:send-ubc-log",{type:"show",value:"searchkuang_option",ext:{function_type:this.data.get("drawData.optionType"),function_pos:this.data.get("order"),option_type:this.data.get("drawData.defaultText")}}),this.data.set("drawStyleData",this.splitArrayToN(this.data.get("drawData.data"),6))},a.prototype.splitArrayToN=function(t,e){for(var n=[],i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n},a.prototype.handleBtnClick=function(t,e){this.dispatch("log:send-ubc-log",{type:"click",value:"searchkuang_option_board",ext:{button_text:null==t?void 0:t.text,function_pos:e+1,function_type:this.data.get("drawData.optionType"),option_type:this.data.get("drawData.defaultText")}}),this.fire("btn-click",(0,o.__assign)({optionType:"style"},t))},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div s-ref="container" class="more-dropdown-container {{wrapperClass}}" on-mouseenter="fireShowLog"> <div class="more-dropdown-trigger {{btnClass}}"> <slot name="btn-text"> <img class="more-dropdown-trigger-icon" src="{{icon}}"> 更多 </slot> </div> <div class="more-dropdown-menu-wrapper {{menuWrapperClass}}"> <div class="more-dropdown-menu {{menuClass}}" s-ref="menu" on-click="handleMenuClick"> <slot></slot> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{icon:"https://psstatic.cdn.bcebos.com/aife/static/more-menu_1756807326000.svg"}},a.prototype.handleMenuClick=function(t){t.stopPropagation(),t.target!==t.currentTarget&&this.close()},a.prototype.fireShowLog=function(){this.fire("menu-show",{})},a.prototype.close=function(){var t=this.ref("menu");t&&(t.style.display="none",setTimeout(function(){t.style.display=""},100))},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(347)},function(t,e,n){var i=n(2),o=[n(348)],a=n(93),r=n(94)["default"];t.exports=n(94),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(349);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("285fce29",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-input-background_3edHa {\n  position: relative;\n}\n.weak-svg_2Rvl2 svg,\n.weak-svg_2Rvl2 img {\n  opacity: 0.85;\n}\n.weak-svg_2Rvl2:hover svg,\n.weak-svg_2Rvl2:hover img {\n  opacity: 1;\n}\n.aisearch-btn_1yI-K {\n  margin-left: -6px;\n  border-radius: 12px;\n  border: 0.5px solid #DBDCE0;\n  height: 38px;\n  display: flex;\n  align-items: center;\n  padding: 0 18px 0 15px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  box-sizing: border-box;\n  color: #333333;\n}\n.aisearch-btn_1yI-K.jump-btn_2QC9p {\n  color: #4E6EF2;\n  font-weight: 500;\n}\n.aisearch-btn-active_2XFWO {\n  background-color: rgba(78, 110, 242, 0.09);\n  color: #4e6ef2;\n  border-color: rgba(78, 110, 242, 0.12);\n  font-weight: 500;\n}\n.aisearch-btn-active_2XFWO .new-input-img_2U7f2 {\n  opacity: 1;\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-search-btn-svg_vi_CZ {\n  margin-left: -6px;\n}\n.left-tool_12WeH {\n  display: flex;\n}\n.left-tool_12WeH .overword-tip_3QK26 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-left: 15px;\n  color: #9195a3;\n  font-size: 14px;\n  -webkit-font-smoothing: antialiased;\n  /* 标准抗锯齿 */\n  -moz-osx-font-smoothing: grayscale;\n  /* 针对Mac的字体平滑 */\n}\n.left-tool_12WeH .overword-tip-pure_3yM61 {\n  margin-left: 0;\n}\n.left-tool_12WeH .overword-tip_3QK26 .overword-submit_29wEi {\n  margin-left: 9px;\n  color: #4e6ef2;\n  cursor: pointer;\n}\n.left-tool_12WeH .ds-btn_2pPkz {\n  display: flex;\n  align-items: center;\n  margin-left: 7px;\n}\n.left-tool_12WeH .ds-btn_2pPkz img {\n  height: 14px;\n}\n.right-tool_3we_U {\n  display: flex;\n}\n.right-tool_3we_U.right-tool-no-margin_1fwj_ {\n  margin-right: -15px;\n}\n.right-tool_3we_U > *:not(:last-child) {\n  margin-right: 15px;\n}\n.right-tool_3we_U #voice-input-wrapper_3xz4u {\n  margin-right: 15px !important;\n}\n.right-tool_3we_U .tool-item_1e6GD {\n  display: flex;\n  cursor: pointer;\n  color: #333;\n}\n.right-tool_3we_U .tool-item_1e6GD svg {\n  display: block;\n}\n.right-tool_3we_U .tool-item_1e6GD:hover {\n  color: #4e6ef2;\n}\n.right-tool_3we_U .upload-btn-disabled_1sius {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n.panel-list_8jHmm {\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  width: 100%;\n  bottom: -84px;\n}\n.panel-list_8jHmm > *:not(:last-child) {\n  margin-right: 9px;\n}\n.smart-input-mic_3blO0 {\n  display: none;\n}\n.drop-down-wrapper_2KOP3 .guide:before {\n  content: '';\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  width: 7px;\n  height: 7px;\n  background-color: #f73131;\n  border-radius: 50px;\n  box-shadow: 0px 1.56px 7.78px 0px #ff274b4d;\n}\n.drop-down-btn_2L7_a {\n  position: relative;\n  cursor: pointer;\n  border-radius: 12px;\n  height: 36px;\n  box-sizing: border-box;\n  flex-grow: 1;\n  flex-shrink: 0;\n  background: #f6f7fe;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 500;\n  color: #333333;\n}\n.drop-down-btn_2L7_a:hover {\n  color: #4e6ef2;\n  background: #eff2fe;\n}\n.drop-down-btn_2L7_a:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.drop-down-menu-wrapper_-I6Hm {\n  top: 100%;\n  left: 0;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl > * {\n  height: 32px;\n  padding-left: 9px;\n  background: #fff;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl > *:hover {\n  background: rgba(78, 110, 242, 0.06);\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl > *:not(:last-child) {\n  margin-bottom: 8px;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl * {\n  justify-content: flex-start;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl .panel-guide:before {\n  top: 4px;\n  left: 74px;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl .deep-research-panel:before {\n  left: 87px;\n}\nbody:not(.home-index-middle) #chat-textarea,\nbody:not(.home-index-middle) #chat-input-area {\n  min-height: 28px;\n}\nbody:not(.home-index-middle) #chat-input-main .chat-input-tool {\n  padding-top: 7px;\n}\nbody:not(.home-index-middle) #chat-input-main .ai-bdsug.ai-bdsug-new ul li .sug-content {\n  min-width: 110px;\n}\nbody:not(.home-index-middle) .smart-input-new-style #chat-input-main {\n  border-radius: 21px;\n}\nbody:not(.home-index-middle) .smart-input-new-style #chat-textarea,\nbody:not(.home-index-middle) .smart-input-new-style #chat-input-area {\n  min-height: 49px;\n}\nbody:not(.home-index-middle) .smart-input-new-style.smart_input_height_superman.smart_input_superman #head_wrapper.search-box-new-head-wrapper {\n  height: calc(35% + 120px);\n}\nbody:not(.home-index-middle) .smart-input-new-style .aisearch-btn_1yI-K {\n  padding: 0 12px 0 9px;\n  height: 36px;\n}\nbody:not(.home-index-middle) .smart-input-new-style .panel-list_8jHmm {\n  bottom: -60px;\n}\nbody:not(.home-index-middle) .smart-input-new-style .weak-svg_2Rvl2 svg,\nbody:not(.home-index-middle) .smart-input-new-style .weak-svg_2Rvl2 img {\n  opacity: 1;\n}\nbody:not(.home-index-middle) .smart-input-new-style .s-bottom-space {\n  margin-top: 13px;\n}\nbody:not(.home-index-middle) .smart-input-new-style #s_wrap.s-isindex-wrap {\n  margin-top: 13px;\n}\nbody:not(.home-index-middle) .smart-input-new-style .s-hotsearch-wrapper-no-login {\n  margin-top: 100px;\n}\n#right-tool *,\n#left-tool *,\n.panel-list_8jHmm * {\n  font-family: PingFang SC, Arial, sans-serif !important;\n}\n",""]),e.locals={"chat-input-background":"chat-input-background_3edHa",chatInputBackground:"chat-input-background_3edHa","weak-svg":"weak-svg_2Rvl2",weakSvg:"weak-svg_2Rvl2","aisearch-btn":"aisearch-btn_1yI-K",aisearchBtn:"aisearch-btn_1yI-K","jump-btn":"jump-btn_2QC9p",jumpBtn:"jump-btn_2QC9p","aisearch-btn-active":"aisearch-btn-active_2XFWO",aisearchBtnActive:"aisearch-btn-active_2XFWO","new-input-img":"new-input-img_2U7f2",newInputImg:"new-input-img_2U7f2","ai-search-btn-svg":"ai-search-btn-svg_vi_CZ",aiSearchBtnSvg:"ai-search-btn-svg_vi_CZ","left-tool":"left-tool_12WeH",leftTool:"left-tool_12WeH","overword-tip":"overword-tip_3QK26",overwordTip:"overword-tip_3QK26","overword-tip-pure":"overword-tip-pure_3yM61",overwordTipPure:"overword-tip-pure_3yM61","overword-submit":"overword-submit_29wEi",overwordSubmit:"overword-submit_29wEi","ds-btn":"ds-btn_2pPkz",dsBtn:"ds-btn_2pPkz","right-tool":"right-tool_3we_U",rightTool:"right-tool_3we_U","right-tool-no-margin":"right-tool-no-margin_1fwj_",rightToolNoMargin:"right-tool-no-margin_1fwj_","voice-input-wrapper":"voice-input-wrapper_3xz4u",voiceInputWrapper:"voice-input-wrapper_3xz4u","tool-item":"tool-item_1e6GD",toolItem:"tool-item_1e6GD","upload-btn-disabled":"upload-btn-disabled_1sius",uploadBtnDisabled:"upload-btn-disabled_1sius","panel-list":"panel-list_8jHmm",panelList:"panel-list_8jHmm","smart-input-mic":"smart-input-mic_3blO0",smartInputMic:"smart-input-mic_3blO0","drop-down-wrapper":"drop-down-wrapper_2KOP3",dropDownWrapper:"drop-down-wrapper_2KOP3","drop-down-btn":"drop-down-btn_2L7_a",dropDownBtn:"drop-down-btn_2L7_a","drop-down-menu-wrapper":"drop-down-menu-wrapper_-I6Hm",dropDownMenuWrapper:"drop-down-menu-wrapper_-I6Hm","drop-down-menu":"drop-down-menu_1hfyl",dropDownMenu:"drop-down-menu_1hfyl"},t.exports=e},function(t,e,n){var i=n(2),o=[n(351)],a=n(95),r=n(96)["default"];t.exports=n(96),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(352);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("9aa2c530",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-input-anchor {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  -webkit-font-smoothing: antialiased;\n  /* 标准抗锯齿 */\n  -moz-osx-font-smoothing: grayscale;\n  /* 针对Mac的字体平滑 */\n}\n#chat-input-main {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 99;\n  border-radius: 19px;\n}\n#chat-input-main * {\n  font-family: arial;\n}\n#chat-input-main.chat-input-main-focus:before {\n  opacity: 0.14;\n}\n#chat-input-main.chat-input-main-focus .chat-input-wrapper {\n  box-shadow: 0 13px 18px -15px rgba(77, 128, 255, 0.2);\n}\n#chat-input-main.chat-input-main-focus .chat-input-wrapper.chat-ai-wrapper #chat-input-panel {\n  display: block;\n}\n#chat-input-main.chat-input-main-focus .chat-input-wrapper-box-shadow {\n  box-shadow: 0 10px 40px -8px rgba(77, 128, 255, 0.1);\n}\n#chat-input-main.chat-input-main-focus .chat-input-textarea {\n  max-height: 70px;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n#chat-input-main.chat-input-main-focus .chat-input-ai .ai-input-editor {\n  max-height: 70px;\n  overflow-y: scroll;\n}\n#chat-input-main.openning-anime .chat-input-wrapper {\n  box-shadow: 0 0 0 rgba(0, 0, 0, 0);\n}\n#chat-input-main.openning-anime .chat-input-wrapper-box-shadow {\n  box-shadow: 0 0 0 rgba(0, 0, 0, 0);\n}\n#chat-input-main.openning-anime .chat-input-op-anime {\n  z-index: 2;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  border-radius: inherit;\n  overflow: hidden;\n  transition: opacity 1s ease;\n}\n#chat-input-main.openning-anime .chat-input-op-anime:before {\n  content: '';\n  width: 1000px;\n  height: 1000px;\n  top: 50%;\n  left: 50%;\n  transform-origin: center;\n  position: absolute;\n  background-size: 100% 100%;\n  animation: rotateAndFade 5s linear forwards;\n  background-image: url(https://gips0.baidu.com/it/u=14154217,3818936281&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f384_384);\n}\n@keyframes rotateAndFade {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, -50%) rotate(0deg);\n  }\n  20% {\n    opacity: 1;\n    transform: translate(-50%, -50%) rotate(120deg);\n    /* 1s 旋转 120° */\n  }\n  80% {\n    opacity: 1;\n    transform: translate(-50%, -50%) rotate(480deg);\n    /* 接着旋转两圈（2s + 1s） */\n  }\n  100% {\n    opacity: 0;\n    transform: translate(-50%, -50%) rotate(600deg);\n    /* 最后 1s 再转 120° */\n  }\n}\n#chat-input-main .chat-input-wrapper-border {\n  z-index: 1;\n  position: absolute;\n  border: 1.5px solid transparent;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  border-radius: inherit;\n  background: #4e6ef2;\n  background: linear-gradient(white, white) padding-box, linear-gradient(160deg, #3377fe, #4c6fff, #8370ff, #ba59ff) border-box;\n}\n#chat-input-main .chat-input-wrapper-border.chat-input-wrapper-border-ai-search {\n  z-index: 2;\n}\n#chat-input-main .chat-input-wrapper-box-shadow {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  border-radius: inherit;\n  transition: box-shadow 240ms ease;\n  box-shadow: 0 10px 40px -8px rgba(77, 128, 255, 0.05);\n}\n#chat-input-main .chat-input-wrapper {\n  position: relative;\n  z-index: 3;\n  border: 1.5px solid transparent;\n  border-radius: inherit;\n  background: linear-gradient(white, white) padding-box, transparent border-box;\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n  transition: box-shadow 240ms ease;\n  box-shadow: 0 13px 18px -15px rgba(77, 128, 255, 0.1);\n}\n#chat-input-main .chat-input-wrapper .chat-input-container {\n  padding: 9px 9px 9px 0px;\n}\n#chat-input-main .chat-input-wrapper .chat-input-container:hover {\n  cursor: text;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper #chat-input-panel {\n  display: none;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper #chat-input-panel.panel-expand {\n  opacity: 1;\n  transition: max-height 280ms ease, opacity 280ms ease;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper #chat-input-panel.panel-shrink {\n  opacity: 0;\n  max-height: 0;\n  transition: max-height 160ms ease, opacity 160ms ease;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper .chat-input-container {\n  padding-left: 12px;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper.chat-ai-file-wrapper .chat-input-container {\n  padding-left: 12px;\n}\n#chat-input-main .chat-input-wrapper.chat-normal-wrapper .chat-input-container {\n  padding-left: 18px;\n}\n#chat-input-main .chat-input-wrapper.chat-normal-wrapper #chat-input-panel.panel-expand {\n  opacity: 1;\n}\n#chat-input-main .chat-input-wrapper.chat-normal-wrapper #chat-input-panel.panel-shrink {\n  display: none;\n}\n#chat-input-main .chat-input-wrapper #chat-input-panel {\n  position: relative;\n  overflow: hidden;\n}\n#chat-input-main .chat-input-wrapper #chat-input-panel .chat-input-panel-divider {\n  margin-top: 1px;\n  border-top: 0.3px solid #dbdce0;\n  position: absolute;\n  left: 15px;\n  right: 9px;\n  top: 0;\n}\n#chat-input-main .chat-input-wrapper #chat-input-panel .chat-input-panel-container {\n  max-height: inherit;\n  overflow: hidden;\n  border-bottom-left-radius: 18px;\n  border-bottom-right-radius: 18px;\n}\n#chat-input-main .chat-input-scroll-style::-webkit-scrollbar {\n  display: block;\n  width: 4px;\n}\n#chat-input-main .chat-input-scroll-style:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(78, 110, 242, 0.1);\n  border-radius: 4px;\n}\n#chat-input-main .chat-input-scroll-style::-webkit-scrollbar-track {\n  box-shadow: none;\n  background-color: initial;\n}\n#chat-input-main .chat-input-textarea {\n  width: 100%;\n  box-sizing: border-box;\n  max-height: 26px;\n  cursor: auto;\n  padding: 0;\n  overflow: hidden;\n  resize: none;\n  font-size: 16px;\n  border: none;\n  outline: none;\n  line-height: 26px;\n  padding-right: 6px;\n  display: block;\n  caret-color: #335bff;\n}\n#chat-input-main .chat-input-textarea::placeholder {\n  padding-left: 1px;\n  color: #9195a3;\n}\n#chat-input-main .chat-input-ai {\n  position: relative;\n  padding-left: 6px;\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper {\n  z-index: 1;\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  user-select: none;\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper .ai-input-prefix-container {\n  height: 24px;\n  padding: 0 6px;\n  border-radius: 6px;\n  background: #F6F7FE;\n  display: flex;\n  align-items: center;\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper .close-icon {\n  margin-left: 3px;\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper .ai-input-prefix {\n  user-select: none;\n  font-size: 16px;\n  line-height: 16px;\n  font-weight: 500;\n  background: linear-gradient(90deg, #2867fa, #873cff);\n  -webkit-background-clip: text;\n  color: transparent;\n  -webkit-text-fill-color: transparent;\n  /* Safari 兼容 */\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper .ai-input-prefix-holder {\n  width: 6px;\n  height: 1em;\n  vertical-align: baseline;\n  background: transparent;\n}\n#chat-input-main .chat-input-ai .cs-pc-input-agent {\n  display: inline-block;\n  color: #2440B3;\n  padding-left: 3px;\n  padding-right: 3px;\n  font-weight: 500;\n}\n#chat-input-main .chat-input-ai .cs-pc-input-agent .agent-icon-ai {\n  font-size: 11px;\n  line-height: 11px;\n  position: relative;\n  top: -4px;\n  font-weight: 400;\n}\n#chat-input-main .chat-input-ai .ai-input-editor {\n  outline: none;\n  line-height: 28px;\n  font-size: 16px;\n  cursor: text;\n  max-height: 28px;\n  overflow-y: hidden;\n  overflow-x: hidden;\n  caret-color: #335bff;\n  -moz-user-select: text;\n  user-select: text;\n  padding-right: 9px;\n  margin-right: -9px;\n}\n#chat-input-main .chat-input-ai .ai-input-editor.ai-input-caret-hidden {\n  caret-color: transparent;\n}\n#chat-input-main .chat-input-ai .ai-input-editor.ai-input-placeholder:after {\n  color: #9195a3;\n  content: attr(placeholder);\n  padding-left: 1px;\n}\n#chat-input-main .chat-input-ai .ai-input-editor * {\n  text-indent: 0;\n}\n#chat-input-main .chat-input-ai .ai-input-editor .input-custom-item {\n  padding: 0 6px;\n  border-radius: 6px;\n  background-color: rgba(78, 110, 242, 0.09);\n  max-width: calc(100% - 27px);\n  font-weight: 500;\n  color: #4e6ef2;\n  display: inline-block;\n  line-height: 24px;\n}\n#chat-input-main .chat-input-ai .ai-input-editor .input-custom-item:focus {\n  outline: none;\n}\n#chat-input-main .chat-input-ai .ai-input-editor .input-custom-placeholder:after {\n  content: attr(placeholder);\n  color: rgba(78, 110, 242, 0.4);\n}\n#chat-input-main .chat-input-ai .ai-input-editor .input-custom-no-width {\n  user-select: none;\n  display: inline-block;\n  width: 3px;\n}\n#chat-input-main .chat-input-tool {\n  padding-top: 9px;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n}\n#chat-input-main .chat-input-tool * {\n  user-select: none;\n}\n#chat-input-main .chat-input-tool .tools-placeholder-wrapper {\n  flex: 1 1;\n  min-width: 12px;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper {\n  padding-left: 9px;\n  background: #fff;\n  border-radius: 12px;\n  align-items: center;\n  display: flex;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool {\n  display: flex;\n  align-items: center;\n  margin-right: 18px;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool > .tools-clear-icon:only-child {\n  margin-right: 0;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool .tools-clear-icon {\n  display: none;\n  cursor: pointer;\n  margin-right: 15px;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool .tools-clear-icon.show-clear-icon {\n  display: block;\n  opacity: 0.85;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool .tools-clear-icon svg {\n  display: block;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool #voice-input-wrapper:not(:last-child) {\n  margin-right: 18px;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool #voice-input-wrapper:empty {\n  margin-right: 0;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #chat-submit-button {\n  font-size: 17px;\n  font-weight: 500;\n  width: 108px;\n  height: 44px;\n  cursor: pointer;\n  color: #fff;\n  border-radius: 15px;\n  position: relative;\n  border: none;\n  background: linear-gradient(136deg, #286aff, #4e6ef2, #7274f9, #9f66ff);\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #chat-submit-button:hover {\n  background-image: linear-gradient(rgba(0, 0, 0, 0.09), rgba(0, 0, 0, 0.09)), linear-gradient(136deg, #286aff, #4e6ef2, #7274f9, #9f66ff);\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #chat-submit-button-ai {\n  cursor: pointer;\n  opacity: 0.3;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #chat-submit-button-ai.chat-submit-button-ai-active {\n  opacity: 1;\n}\n.chat-input-drag-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.75);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  pointer-events: none;\n  z-index: 99999;\n  color: #333333;\n}\n.chat-input-drag-mask-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  top: 40%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.chat-input-drag-mask-image {\n  height: 84px;\n  width: 175px;\n}\n.chat-input-drag-mask-title {\n  font-size: 21px;\n  font-weight: 500;\n  margin-top: -2px;\n}\n.chat-input-drag-mask-content {\n  margin-top: 9px;\n  font-size: 14px;\n}\n.chat-input-drag-mask-sub-content {\n  margin-top: 3px;\n  font-size: 14px;\n}\n.smart-input-new-style #chat-input-main .chat-input-wrapper-border {\n  border: 1px solid transparent;\n  background: linear-gradient(120.58deg, #7AA2FF 3.49%, #878FFF 99.21%);\n}\n.smart-input-new-style #chat-input-main .chat-input-wrapper-box-shadow {\n  box-shadow: 0px 8px 36px -18px rgba(77, 128, 255, 0.28);\n}\n.smart-input-new-style #chat-input-main.chat-input-main-focus .chat-input-wrapper-box-shadow {\n  box-shadow: 0px 8px 22px -15px rgba(77, 128, 255, 0.1);\n}\n#chat-input-main.one-line-input #chat-input-area {\n  width: 100%;\n}\n#chat-input-main.one-line-input .chat-input-wrapper .chat-input-container {\n  padding-bottom: 9px;\n}\n#chat-input-main.one-line-input .chat-input-tool {\n  position: absolute;\n  right: 2.5px;\n  top: 2.5px;\n  padding-top: 0;\n  width: auto;\n}\n#chat-input-main.one-line-input .chat-input-tool #left-tool {\n  display: none;\n}\n#chat-input-main.one-line-input .chat-input-tool #chat-submit-button {\n  height: 38px;\n}\n#chat-input-main.one-line-input .chat-input-tool #voice-input-wrapper .listening-pill {\n  height: 38px;\n}\n.chat-input-anchor-ai-search #chat-input-main {\n  border-radius: 21px;\n}\n.chat-input-anchor-ai-search #chat-input-main.chat-input-main-focus .chat-input-textarea {\n  max-height: 260px;\n}\n.chat-input-anchor-ai-search #chat-input-main.chat-input-main-focus .chat-input-ai .ai-input-editor {\n  max-height: 176px;\n}\n.chat-input-anchor-ai-search #chat-input-main.chat-input-main-focus .chat-ai-file-wrapper .ai-input-editor {\n  max-height: 147px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-tool {\n  padding-top: 9px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-textarea {\n  min-height: 45px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-wrapper.chat-normal-wrapper.chat-ai-file-wrapper .chat-input-container {\n  padding-left: 18px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-ai-file-wrapper .chat-input-container {\n  padding-top: 12px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-container {\n  padding: 9px 12px 11px 12px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-container .right-tools-wrapper .chat-voice-input .chat-voice-input-mic-icon svg {\n  color: #333;\n  opacity: 1;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-container .right-tools-wrapper .chat-voice-input .chat-voice-input-mic-icon svg:hover {\n  color: #4e6ef2;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-container .chat-input-ai {\n  min-height: 69px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-scroll-style {\n  scrollbar-width: auto;\n  scrollbar-color: auto;\n}\n@keyframes rotateForever {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.ai-input-file-delete {\n  width: 15px;\n  height: 15px;\n  position: fixed;\n  display: none;\n}\n.ai-input-file-delete .ai-input-file-delete-icon {\n  width: 100%;\n  height: 100%;\n}\n.ai-input-file {\n  position: relative;\n  height: 28px;\n  max-width: 243px;\n  display: inline-flex;\n  flex-direction: row;\n  cursor: pointer;\n  padding-right: 6px;\n  vertical-align: bottom;\n  align-items: center;\n}\n.ai-input-file:hover .ai-input-file-delete {\n  display: flex;\n}\n.ai-input-file:hover .ai-input-file-inner {\n  background: rgba(78, 110, 242, 0.06);\n}\n.ai-input-file .ai-input-file-inner {\n  position: relative;\n  height: 28px;\n  max-width: 243px;\n  display: inline-flex;\n  flex-direction: row;\n  border-radius: 6px;\n  background-color: #f5f6f9;\n  box-sizing: border-box;\n  cursor: pointer;\n  padding: 3px 9px 3px 3px;\n  vertical-align: bottom;\n  align-items: center;\n}\n.ai-input-file .ai-input-file-icon {\n  position: relative;\n}\n.ai-input-file .ai-input-file-icon .ai-input-file-icon-img {\n  width: 20px;\n  height: 20px;\n  border-radius: 6px;\n  display: block;\n}\n.ai-input-file .ai-input-file-name {\n  font-size: 16px;\n  line-height: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ai-input-file .ai-input-file-name-container {\n  font-size: 14px;\n  line-height: 14px;\n  margin-left: 3px;\n  overflow: hidden;\n}\n.ai-input-file .ai-input-file-name-container .ai-input-file-name {\n  display: inline-block;\n  max-width: 100px;\n  height: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n  font-size: 14px;\n  line-height: 14px;\n}\n.ai-input-file .ai-input-file-name-container .ai-input-file-num {\n  display: inline-block;\n  height: 100%;\n  font-size: 14px;\n  line-height: 14px;\n}\n.ai-input-file-uploading .ai-input-file-icon-loading {\n  position: absolute;\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  width: 10px;\n  height: 10px;\n  animation: rotateForever 1s linear infinite;\n}\n.ai-input-file-failed .ai-input-file-content {\n  color: #848691;\n}\n.ai-input-image {\n  position: relative;\n  vertical-align: bottom;\n  width: 28px;\n  height: 28px;\n  display: inline-flex;\n  flex-direction: row;\n  border-radius: 6px;\n  cursor: pointer;\n  margin-right: 6px;\n}\n.ai-input-image .ai-input-image-bg {\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n  border-radius: 6px;\n  min-width: 100%;\n}\n.ai-input-image .ai-input-image-num {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 2;\n  color: white;\n  font-size: 14px;\n  font-weight: bold;\n}\n.ai-input-image:hover .ai-input-file-delete {\n  display: flex;\n}\n.ai-input-image-uploading .ai-input-file-icon-loading {\n  position: absolute;\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  width: 10px;\n  height: 10px;\n  animation: rotateForever 1s linear infinite;\n}\n.multi-image-mask::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 6px;\n  background: rgba(0, 0, 0, 0.5);\n}\n.ai-bdsug.ai-bdsug-new {\n  font-size: 14px;\n  font-weight: 400;\n  color: #1e1f24;\n  padding-bottom: 14px;\n  margin-top: 10px;\n  -webkit-font-smoothing: auto;\n  -moz-osx-font-smoothing: auto;\n}\n.ai-bdsug.ai-bdsug-new ul {\n  /* 通用直达模板热标样式 */\n  /* 老数据热标样式 */\n  /* 通用直达模板 */\n  /* 文件样式 */\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-store span {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li {\n  position: relative;\n  padding-left: 0 !important;\n  padding-right: 9px;\n  min-height: 28px;\n  line-height: 28px;\n  cursor: pointer;\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li b {\n  font-weight: 400;\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li .bdsug-store-del {\n  right: 9px;\n  text-decoration: none;\n}\n.ai-bdsug.ai-bdsug-new ul li .bdsug-store-del:hover {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li:not([class*=\"bdsug-no-avoid\"])[data-no-ai-sug=\"1\"] .ask-ai-tail-wrapper {\n  display: none !important;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-wrapper {\n  display: flex;\n  flex: 1;\n  align-self: stretch;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-wrapper:hover {\n  font-weight: 500;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-wrapper:hover .ask-ai-tail-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/multimode/ai-icon-bold_1759053952000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-wrapper:hover .ask-ai-tail-text {\n  background: linear-gradient(90deg, #2867FA 0%, #873CFF 100%);\n  -webkit-background-clip: text;\n  background-clip: text;\n  -webkit-text-fill-color: transparent;\n  color: transparent;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-hover-upgrade .ask-ai-tail-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/black_search_1765518039000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-hover-upgrade .ask-ai-tail-text {\n  color: #333;\n  -webkit-text-fill-color: #333;\n  background: none;\n  -webkit-background-clip: none;\n  background-clip: none;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail {\n  display: flex;\n  align-items: center;\n  padding-right: 12px;\n  opacity: 0;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-icon {\n  margin-right: 6px;\n  width: 14px;\n  height: 14px;\n  background-image: url('https://psstatic.cdn.bcebos.com/multimode/ai-icon_1759047619000.svg');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 14px 14px;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-icon::before {\n  content: '';\n  background-image: url('https://psstatic.cdn.bcebos.com/multimode/ai-icon-bold_1759053952000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-line {\n  width: 0.5px;\n  height: 10px;\n  background-color: #000000;\n  margin-right: 21px;\n  opacity: 0.2;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-text {\n  font-size: 14px;\n  background: linear-gradient(90deg, #2867FA 0%, #873CFF 100%);\n  -webkit-background-clip: text;\n  background-clip: text;\n  -webkit-text-fill-color: transparent;\n  color: transparent;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-blank {\n  flex: 1;\n  height: 32px;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade {\n  color: #1e1f24;\n  min-height: 32px;\n  line-height: 32px;\n  display: flex;\n  align-items: center;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade b {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade .direct-sug-wrap {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade .direct-sug-wrap .name {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade .direct-sug-wrap .info {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade:first-child {\n  margin-top: -2px;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade:last-child {\n  margin-bottom: -3px;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-color-red {\n  color: #ee0333;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail {\n  display: flex;\n  padding-left: 16px;\n  align-items: center;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail .sug-content {\n  box-sizing: border-box;\n  min-width: 200px;\n  padding-left: 15px;\n  padding-right: 54px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #ee0333;\n  display: flex;\n  align-items: center;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail .sug-content b {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail .sug-content.sug-content-double {\n  width: 100%;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail .direct-sug-wrap {\n  display: flex;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s {\n  background-color: #335CFF0D;\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .ori-his {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .ori-his.ainew-his,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .bdsug-s-aifile {\n  background-image: linear-gradient(45deg, #4E6EF2, #873CFF);\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent!important;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s b {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .direct-sug-wrap .name {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .direct-sug-wrap .info {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .ask-ai-tail {\n  opacity: 1;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search-hover_1756192477000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon.ai_guide {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai-icon-hover_1756192461000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon.ai_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/multimode/ai-icon-bold_1759053952000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon.ai_new_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/static/star-hover_1765347114000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon.new_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/static/normal-hover_1765347379000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-color-red {\n  color: #ee0333;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .sug-content {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .sug-content span:not([class*=\"sug-tag-comm\"]),\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .sug-content b {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .search-sug-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search_1756192482000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .search-sug-icon.ai_guide {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai_1756192472000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade.bdsug-color-red .sug-content {\n  color: #ee0333;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade.bdsug-color-red .sug-content span:not([class*=\"sug-tag-comm\"]),\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade.bdsug-color-red .sug-content b {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .direct-sug-wrap .name {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .direct-sug-wrap .info {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover {\n  font-weight: 500;\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .search-sug-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search-hover_1756192477000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .search-sug-icon.ai_guide {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai-icon-hover_1756192461000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover b {\n  font-weight: 500;\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .direct-sug-wrap .name {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .direct-sug-wrap .info {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-tag-text {\n  position: sticky;\n  right: -4px;\n  margin-top: -2.5px;\n  display: inline-block;\n  box-sizing: border-box;\n  margin-left: 6px;\n  padding: 1px;\n  font-size: 12px;\n  line-height: 12px;\n  font-weight: 500;\n  text-align: center;\n  border-radius: 4px;\n  vertical-align: middle;\n  border-width: 1px;\n  border-style: solid;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-tag-img {\n  height: 18px;\n  max-width: 80px;\n  vertical-align: middle;\n  margin-left: 6px;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-new-tag {\n  text-align: center;\n  margin-left: 6px;\n  box-sizing: border-box;\n  font-size: 12px;\n  line-height: 14px;\n  padding: 1px 4px;\n  font-weight: 500;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-new-tag-grey {\n  color: #858585;\n  border: 1px solid rgba(133, 133, 133, 0.5);\n  border-radius: 4px;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-new-tag-blue {\n  color: #3366ff;\n  border: 1px solid rgba(51, 102, 255, 0.4);\n  border-radius: 4px;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-new-tag-orange {\n  color: #ff3333;\n  border: 1px solid rgba(255, 51, 51, 0.4);\n  border-radius: 4px;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-hot-orange,\n.ai-bdsug.ai-bdsug-new ul .sug-hot-grey,\n.ai-bdsug.ai-bdsug-new ul .sug-hot-blue {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  font-size: 12px;\n  line-height: 12px;\n  padding: 2px;\n  text-align: center;\n  font-weight: 500;\n  margin-left: 6px;\n  vertical-align: text-bottom;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap {\n  display: block;\n  width: 100%;\n  height: 40px;\n  padding: 9px 0;\n  color: #626675;\n  /* 顶部样式 */\n  /* 底部样式 */\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .left-img-wrap {\n  position: relative;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .left-img-wrap::before {\n  content: '';\n  width: 38px;\n  height: 38px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  border: 1px solid rgba(0, 0, 0, 0.06);\n  border-radius: 9px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .left-img {\n  box-sizing: border-box;\n  float: left;\n  width: 40px;\n  height: 40px;\n  border-radius: 9px;\n  margin-right: 6px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .content {\n  float: left;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .header {\n  margin-bottom: 9px;\n  line-height: 18px;\n  height: 18px;\n  vertical-align: middle;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .name {\n  float: left;\n  font-size: 16px;\n  font-weight: 500;\n  color: #626675;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .tag-img {\n  width: 18px;\n  margin-left: 4px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .more {\n  line-height: 14px;\n  width: 240px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .info {\n  font-size: 14px;\n  font-weight: 400;\n  color: #626675;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .brief {\n  margin-right: 6px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .right-btn {\n  float: right;\n  margin-top: 8px;\n  margin-right: 6px;\n  width: 60px;\n  height: 24px;\n  text-align: center;\n  font-size: 14px;\n  color: #3366ff;\n  line-height: 24px;\n  background-image: linear-gradient(111deg, #e8f7ff 0%, #edf0ff 100%);\n  border-radius: 12px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .right-btn:hover {\n  background: #315efb;\n  color: #fff;\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon {\n  margin-right: 6px;\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search_1756192482000.svg');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 14px 14px;\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon::before {\n  content: '度';\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search-hover_1756192477000.svg');\n  visibility: hidden;\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.ai_guide {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai_1756192472000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.ai_guide::before {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai-icon-hover_1756192461000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.ai_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai_1756192472000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.ai_new_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/static/clock-circle-star_1765279751000.png');\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.new_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/static/normal_1765347349000.png');\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-img-container {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 6px;\n  margin-right: 3px;\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-img-container img {\n  width: 14px;\n  height: 14px;\n  border-radius: 3px;\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-img-container.pc-aifile-single-img {\n  box-shadow: 0 0 0 0.5px rgba(220, 221, 224, 0.3) inset;\n  border-radius: 3px;\n}\n.ai-bdsug.ai-bdsug-new ul .img-more-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 14px;\n  height: 14px;\n  background-color: #00000033;\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: #FFFFFF;\n  line-height: 1;\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-info {\n  display: flex;\n  font-size: 14px;\n  color: #9195A3;\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-more {\n  margin-left: 3px;\n  color: #9195A3;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone {\n  margin-top: 10px;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone .setup_storeSug:hover {\n  color: #4e6ef2 !important;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone .del_all_storeSug:hover {\n  color: #4e6ef2 !important;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone .more_storeSug:hover {\n  color: #4e6ef2 !important;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone *:last-child {\n  margin-right: 0 !important;\n}\n.ai-bdsug.ai-bdsug-new .ai-bdsug-feedback-wrap {\n  background: none;\n  text-align: right;\n  margin-right: 15px;\n}\n.ai-bdsug.ai-bdsug-new .ai-bdsug-feedback-wrap .bdsug-feedback {\n  color: #9195a3;\n  font-size: 13px;\n  cursor: pointer;\n}\n.ai-bdsug.ai-bdsug-new .ai-bdsug-feedback-wrap .bdsug-feedback:hover {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new.bdsug-ai-upgrade .ai-bdsug-feedback-wrap {\n  margin-right: 16.5px;\n}\n.ai-bdsug.ai-bdsug-new.bdsug-ai-upgrade .bdsug-feedback-tool-zone {\n  text-align: right;\n  margin-right: 13.5px;\n}\n.ai-sug-panel-list {\n  -webkit-font-smoothing: auto;\n  -moz-osx-font-smoothing: auto;\n  display: flex;\n  justify-content: start;\n  margin-bottom: 10px;\n  margin-left: 17px;\n}\n.ai-sug-panel-list .ai-sug-panel-divider {\n  height: 14px;\n  margin: 0 7.5px;\n  align-self: center;\n  border-right: 0.5px solid #dbdce0;\n}\n.ai-sug-panel-list .ai-sug-panel-btn {\n  cursor: pointer;\n  padding: 0 7.5px;\n  border-radius: 9px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  line-height: 14px;\n}\n.ai-sug-panel-list .ai-sug-panel-btn img {\n  height: 14px;\n  width: 14px;\n  margin-right: 6px;\n}\n.ai-sug-panel-list .ai-sug-panel-btn:hover {\n  color: #315efb;\n}\n.ai-sug-panel-list .ai-sug-panel-btn:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-input-file-swiper-container {\n  width: 100%;\n  position: relative;\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-left-button,\n.ai-input-file-swiper-container .ai-input-file-swiper-right-button {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 59px;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  opacity: 1;\n  transition: opacity 0.3s;\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-left-button.ai-input-file-swiper-hidden,\n.ai-input-file-swiper-container .ai-input-file-swiper-right-button.ai-input-file-swiper-hidden {\n  opacity: 0;\n  pointer-events: none;\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-left-button {\n  left: 0;\n  background: linear-gradient(92.65deg, #ffffff 2.78%, rgba(255, 255, 255, 0) 98.37%);\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-right-button {\n  right: 0;\n  background: linear-gradient(92.65deg, rgba(255, 255, 255, 0) 2.78%, #ffffff 98.37%);\n}\n.ai-input-file-swiper-container .ai-input-file-left-icon-wrapper,\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper {\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 9px;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.7);\n  box-shadow: 0px 1.578px 9.467px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n}\n.ai-input-file-swiper-container .ai-input-file-left-icon-wrapper:hover,\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper:hover {\n  background-color: #ffffff;\n}\n.ai-input-file-swiper-container .ai-input-file-left-icon-wrapper:hover .cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper:hover .cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-left-icon-wrapper:hover .cs-icon-arrow-right,\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper:hover .cs-icon-arrow-right {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper {\n  margin-left: 20px;\n}\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-right {\n  width: 100%;\n  height: 100%;\n  color: var(--cos-color-text);\n  font-weight: 700;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left .ai-input-file-cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-right .ai-input-file-cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left .ai-input-file-cs-icon-arrow-right,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-right .ai-input-file-cs-icon-arrow-right {\n  height: 25px;\n  width: 25px;\n}\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left .ai-input-file-cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-right .ai-input-file-cs-icon-arrow-left {\n  transform: rotate(180deg);\n}\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left {\n  margin-right: 2px;\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-scroll-container {\n  position: relative;\n  width: 100%;\n  overflow-x: auto;\n  scrollbar-width: none;\n  /* Firefox */\n  -ms-overflow-style: none;\n  /* IE and Edge */\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-scroll-container::-webkit-scrollbar {\n  display: none;\n  /* Chrome, Safari and Opera */\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-wrapper {\n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n  column-gap: 9px;\n  width: max-content;\n  padding-right: 4px;\n}\n.ai-chat-input-file-container {\n  margin-top: 3px;\n  margin-bottom: 12px;\n}\n@keyframes rotateForever {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.ai-chat-input-file-container .ai-chat-input-file-delete {\n  width: 15px;\n  height: 15px;\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  display: none;\n}\n.ai-chat-input-file-container .ai-chat-input-file-delete .ai-chat-input-file-delete-icon {\n  width: 100%;\n  height: 100%;\n}\n.ai-chat-input-file-container .ai-chat-input-file {\n  position: relative;\n  width: 228px;\n  height: 60px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 12px;\n  background-color: #F5F6FA;\n  padding: 12px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-icon {\n  width: 36px;\n  height: 36px;\n  border-radius: 9px;\n  margin-right: 9px;\n  position: relative;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-icon .ai-chat-input-file-icon-img {\n  border-radius: 9px;\n  border: 0.5px solid #fff;\n  width: 100%;\n  height: 100%;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n  height: 100%;\n  overflow: hidden;\n  flex: 1;\n  padding: 1.5px 0;\n  box-sizing: border-box;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-name {\n  font-size: 12px;\n  font-weight: 500;\n  width: 100%;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-desc {\n  font-size: 12px;\n  font-weight: 400;\n  width: 100%;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-desc-success {\n  display: flex;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-desc-success-name {\n  margin-right: 6px;\n  flex: 0 1 auto;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-desc-success-size {\n  flex: 1;\n}\n.ai-chat-input-file-container .ai-chat-input-file:hover {\n  background: rgba(78, 110, 242, 0.06);\n}\n.ai-chat-input-file-container .ai-chat-input-file:hover .ai-chat-input-file-delete {\n  display: flex;\n}\n.ai-chat-input-file-container .ai-chat-input-file-uploading .ai-chat-input-file-icon-loading {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 16px;\n  height: 16px;\n  animation: rotateForever 1s linear infinite;\n}\n.ai-chat-input-file-container .ai-chat-input-file-failed .ai-chat-input-file-content {\n  color: #848691;\n}\n.ai-chat-input-file-container .ai-chat-input-image {\n  position: relative;\n  width: 54px;\n  height: 54px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 12px;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.ai-chat-input-file-container .ai-chat-input-image .ai-chat-input-image-bg {\n  object-fit: cover;\n  border-radius: 12px;\n  min-width: 100%;\n  border: 0.5px solid #DCDDE0;\n  box-sizing: border-box;\n}\n.ai-chat-input-file-container .ai-chat-input-image:hover .ai-chat-input-file-delete {\n  display: flex;\n}\n.ai-chat-input-file-container .ai-chat-input-image-uploading .ai-chat-input-file-icon-loading {\n  position: absolute;\n  top: 15px;\n  left: 15px;\n  width: 24px;\n  height: 24px;\n  animation: rotateForever 1s linear infinite;\n}\n.ai-chat-input-file-container .ai-chat-input-file-click-upload {\n  width: 60px;\n  height: 60px;\n  border-radius: 15px;\n  background-color: #f5f6f9;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n.ai-chat-input-file-container .ai-chat-input-file-click-upload:hover {\n  background: rgba(78, 110, 242, 0.06);\n}\n.ai-chat-input-file-container .ai-chat-input-file-click-upload:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-chat-input-file-container .ai-chat-input-file-click-upload .ai-chat-input-upload-img {\n  height: 25px;\n  width: 25px;\n}\n.ai-chat-input-file-container .image-click-upload {\n  width: 54px;\n  height: 54px;\n}\n.ai-input-file-guide-wrapper {\n  width: 100%;\n  height: 30px;\n  margin-bottom: 12px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #333;\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  height: 30px;\n  padding: 0 12px;\n  background-color: #f5f6f9;\n  border-radius: 9px;\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-item .ai-input-file-guide-icon {\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n  margin-right: 6px;\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-item:hover {\n  cursor: pointer;\n  background: rgba(78, 110, 242, 0.06);\n  color: #4E6EF2;\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-item:hover .ai-input-file-guide-icon {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-disabled {\n  opacity: 0.4;\n}\n.ai-input-file-guide-tooltip {\n  display: none;\n}\n.snap-text-panel {\n  max-height: inherit;\n  padding-top: 12px;\n  box-sizing: border-box;\n}\n.snap-text-panel .snap-text-panel-content {\n  box-sizing: border-box;\n  padding-left: 12px;\n  display: flex;\n  flex-wrap: wrap;\n  max-height: 346px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item {\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n  margin-right: 12px;\n  margin-bottom: 12px;\n  margin-top: 3px;\n  box-sizing: border-box;\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item .snap-text-item-img-container 