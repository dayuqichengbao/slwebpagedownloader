define("superman-san/app/chat-input/result_1b713f6",["san","tslib","@searchfe/inject-js"],function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__5__){return a=[function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(t,e,n){e=function(){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function a(t){return typeof t}:function a(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(0).defineComponent;function s(t){if(null===t||t===undefined)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!==i&&i!==undefined)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}t.exports=function(t,e,n){for(var i=function(t){var e=[t];"function"==typeof t&&(e.push(t.prototype),t.prototype.constructor&&e.push(t.prototype.constructor.prototype));return e}(t),o=0;o<i.length;o++)e&&("string"==typeof e?i[o].template=e:e instanceof Array?i[o].aPack=e:i[o].aNode=e),n.length&&function(t,e){for(var n={},i=0;i<e.length;i++)s(n,e[i]);var o=t.initData;t.initData=o?function(){return s({},o.call(this),{$style:n})}:function(){return{$style:n}}}(i[o],n);return"object"===a(t)?r(t):t}}.apply(e,[]);e===undefined||(t.exports=e)},function(t,e,n){e=function(){"use strict";t.exports=function(n){var l=[];return l.toString=function(){return this.map(function(t){var e=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){t=function(t){t=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),t="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(t," */")}(i),e=i.sources.map(function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")});return[n].concat(e).concat([t]).join("\n")}return[n].join("\n")}(t,n);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e}).join("")},l.i=function(t,e,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var r=0;r<t.length;r++){var s=[].concat(t[r]);n&&i[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),l.push(s))}},l}}.apply(e,[]);e===undefined||(t.exports=e)},function(t,e,n){"use strict";function l(t,e){for(var n=[],i={},o=0;o<e.length;o++){var a=e[o],r=a[0],a={id:t+":"+o,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(a):n.push(i[r]={id:r,parts:[a]})}return n}n.r(e),n.d(e,"default",function(){return o});n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u={},i=n&&(document.head||document.getElementsByTagName("head")[0]),a=null,r=0,c=!1,s=function(){},p=null,d="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function o(r,t,e,n){c=!!n.runAsProduction||e,p=n||{};var s=l(r,t);return f(s),function(t){for(var e=[],n=0;n<s.length;n++){var i=s[n];(o=u[i.id]).refs--,e.push(o)}t?f(s=l(r,t)):s=[];for(var o,n=0;n<e.length;n++)if(0===(o=e[n]).refs){for(var a=0;a<o.parts.length;a++)o.parts[a]();delete u[o.id]}}}function f(t){for(var e=0;e<t.length;e++){var n=t[e],i=u[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(m(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(m(n.parts[o]));u[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var t,e=document.createElement("style"),n=p.attributes||{};for(t in e.type="text/css",n)n.hasOwnProperty(t)&&e.setAttribute(t,n[t]);return i.appendChild(e),e}function m(e){var t,n,i,o=document.querySelector("style["+d+'~="'+e.id+'"]');if(o){if(c)return s;o.parentNode.removeChild(o)}return i=h?(t=r++,o=a=a||g(),n=w.bind(null,o,t,!1),w.bind(null,o,t,!0)):(o=g(),n=function(t,e){var n=e.css,i=e.media,o=e.sourceMap;i&&t.setAttribute("media",i);p.ssrId&&t.setAttribute(d,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,o),function(){o.parentNode.removeChild(o)}),n(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap||n(e=t):i()}}var v,b=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function w(t,e,n,i){n=n?"":i.css;t.styleSheet?t.styleSheet.cssText=b(e,n):(i=document.createTextNode(n),(n=t.childNodes)[e]&&t.removeChild(n[e]),n.length?t.insertBefore(i,n[e]):t.appendChild(i))}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__5__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.s_session=e.ls=e.bds=e.$=e.F=void 0,e.F=window.F,e.$=window.$,e.bds=window.bds,e.ls=window.localStorage,e.s_session=window.s_session},,function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"==typeof window&&(n=window)}t.exports=n},,,,,,,function(t,D,R){"use strict";!function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var s=R(16),a=R(17),r=R(18);function n(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=p.prototype:(t=null===t?new p(e):t).length=e,t}function p(t,e,n){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(t,e,n);if("number"!=typeof t)return i(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}function i(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=n===undefined&&i===undefined?new Uint8Array(e):i===undefined?new Uint8Array(e,n):new Uint8Array(e,n,i);p.TYPED_ARRAY_SUPPORT?(t=e).__proto__=p.prototype:t=c(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!p.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|h(e,n),n=(t=o(t,i)).write(e,n);n!==i&&(t=t.slice(0,n));return t}(t,e,n):function(t,e){if(p.isBuffer(e)){var n=0|d(e.length);return 0===(t=o(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?o(t,0):c(t,e);if("Buffer"===e.type&&r(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(l(e),t=o(t,e<0?0:0|d(e)),!p.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e){var n=e.length<0?0:0|d(e.length);t=o(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function h(t,e){if(p.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return A(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(t).length;default:if(i)return A(t).length;e=(""+e).toLowerCase(),i=!0}}function e(t,e,n){var i,o,a,r=!1;if((e=e===undefined||e<0?0:e)>this.length)return"";if((n=n===undefined||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,n){var i=t.length;(!e||e<0)&&(e=0);(!n||n<0||i<n)&&(n=i);for(var o="",a=e;a<n;++a)o+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[a]);return o}(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return function(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}(this,e,n);case"latin1":case"binary":return function(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}(this,e,n);case"base64":return i=this,a=n,0===(o=e)&&a===i.length?s.fromByteArray(i):s.fromByteArray(i.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var i=t.slice(e,n),o="",a=0;a<i.length;a+=2)o+=String.fromCharCode(i[a]+256*i[a+1]);return o}(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function f(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function g(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?o?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=p.from(e,i)),p.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,o);if("number"==typeof e)return e&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,n):m(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,o){var a=1,r=t.length,s=e.length;if(i!==undefined&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;r/=a=2,s/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o)for(var u=-1,c=n;c<r;c++)if(l(t,c)===l(e,-1===u?0:c-u)){if(c-(u=-1===u?c:u)+1===s)return u*a}else-1!==u&&(c-=c-u),u=-1;else for(c=n=r<n+s?r-s:n;0<=c;c--){for(var p=!0,d=0;d<s;d++)if(l(t,c+d)!==l(e,d)){p=!1;break}if(p)return c}return-1}function v(t,e,n,i){return P(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function b(t,e,n,i){return P(function(t,e){for(var n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,i=i%256,o.push(i),o.push(n);return o}(e,t.length-n),t,n,i)}function w(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var a,r,s,l,u=t[o],c=null,p=239<u?4:223<u?3:191<u?2:1;if(o+p<=n)switch(p){case 1:u<128&&(c=u);break;case 2:128==(192&(a=t[o+1]))&&127<(l=(31&u)<<6|63&a)&&(c=l);break;case 3:a=t[o+1],r=t[o+2],128==(192&a)&&128==(192&r)&&2047<(l=(15&u)<<12|(63&a)<<6|63&r)&&(l<55296||57343<l)&&(c=l);break;case 4:a=t[o+1],r=t[o+2],s=t[o+3],128==(192&a)&&128==(192&r)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&a)<<12|(63&r)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,p=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),o+=p}return function(t){var e=t.length;if(e<=y)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=y));return n}(i)}D.Buffer=p,D.SlowBuffer=function(t){+t!=t&&(t=0);return p.alloc(+t)},D.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT!==undefined?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),D.kMaxLength=n(),p.poolSize=8192,p._augment=function(t){return t.__proto__=p.prototype,t},p.from=function(t,e,n){return i(null,t,e,n)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(t,e,n){return i=null,e=e,n=n,l(t=t),!(t<=0)&&e!==undefined?"string"==typeof n?o(i,t).fill(e,n):o(i,t).fill(e):o(i,t);var i},p.allocUnsafe=function(t){return u(null,t)},p.allocUnsafeSlow=function(t){return u(null,t)},p.isBuffer=function(t){return!(null==t||!t._isBuffer)},p.compare=function(t,e){if(!p.isBuffer(t)||!p.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},p.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return p.alloc(0);if(e===undefined)for(o=e=0;o<t.length;++o)e+=t[o].length;for(var n=p.allocUnsafe(e),i=0,o=0;o<t.length;++o){var a=t[o];if(!p.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},p.byteLength=h,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},p.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},p.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},p.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?w(this,0,t):e.apply(this,arguments)},p.prototype.equals=function(t){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===p.compare(this,t)},p.prototype.inspect=function(){var t="",e=D.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},p.prototype.compare=function(t,e,n,i,o){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(e===undefined&&(e=0),n===undefined&&(n=t?t.length:0),i===undefined&&(i=0),o===undefined&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(o<=i&&n<=e)return 0;if(o<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var a=(o>>>=0)-(i>>>=0),r=(n>>>=0)-(e>>>=0),s=Math.min(a,r),l=this.slice(i,o),u=t.slice(e,n),c=0;c<s;++c)if(l[c]!==u[c]){a=l[c],r=u[c];break}return a<r?-1:r<a?1:0},p.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},p.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},p.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},p.prototype.write=function(t,e,n,i){if(e===undefined)i="utf8",n=this.length,e=0;else if(n===undefined&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,i===undefined&&(i="utf8")):(i=n,n=undefined)}var o=this.length-e;if((n===undefined||o<n)&&(n=o),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var a,r,s,l=!1;;)switch(i){case"hex":return function(t,e,n,i){n=Number(n)||0;var o=t.length-n;if((!i||o<(i=Number(i)))&&(i=o),(o=e.length)%2!=0)throw new TypeError("Invalid hex string");o/2<i&&(i=o/2);for(var a=0;a<i;++a){var r=parseInt(e.substr(2*a,2),16);if(isNaN(r))return a;t[n+a]=r}return a}(this,t,e,n);case"utf8":case"utf-8":return r=e,s=n,P(A(t,(a=this).length-r),a,r,s);case"ascii":return v(this,t,e,n);case"latin1":case"binary":return v(this,t,e,n);case"base64":return a=this,r=e,s=n,P(L(t),a,r,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var y=4096;function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function _(t,e,n,i,o,a){if(!p.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<a)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function S(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,a=Math.min(t.length-n,2);o<a;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function k(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,a=Math.min(t.length-n,4);o<a;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function C(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(t,e,n,i,o){return o||C(t,0,n,4),a.write(t,e,n,i,23,4),n+4}function E(t,e,n,i,o){return o||C(t,0,n,8),a.write(t,e,n,i,52,8),n+8}p.prototype.slice=function(t,e){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=e===undefined?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),p.TYPED_ARRAY_SUPPORT)(o=this.subarray(t,e)).__proto__=p.prototype;else for(var i=e-t,o=new p(i,undefined),a=0;a<i;++a)o[a]=this[a+t];return o},p.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i},p.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t+--e],o=1;0<e&&(o*=256);)i+=this[t+--e]*o;return i},p.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},p.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},p.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},p.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},p.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},p.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*e)),i},p.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=e,o=1,a=this[t+--i];0<i&&(o*=256);)a+=this[t+--i]*o;return(o*=128)<=a&&(a-=Math.pow(2,8*e)),a},p.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},p.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);t=this[t]|this[t+1]<<8;return 32768&t?4294901760|t:t},p.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);t=this[t+1]|this[t]<<8;return 32768&t?4294901760|t:t},p.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},p.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},p.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),a.read(this,t,!0,23,4)},p.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),a.read(this,t,!1,23,4)},p.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),a.read(this,t,!0,52,8)},p.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),a.read(this,t,!1,52,8)},p.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||_(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},p.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||_(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[e+o]=255&t;0<=--o&&(a*=256);)this[e+o]=t/a&255;return e+n},p.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,1,255,0),p.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},p.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},p.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},p.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):k(this,t,e,!0),e+4},p.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},p.prototype.writeIntLE=function(t,e,n,i){t=+t,e|=0,i||_(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=0,a=1,r=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===r&&0!==this[e+o-1]&&(r=1),this[e+o]=(t/a>>0)-r&255;return e+n},p.prototype.writeIntBE=function(t,e,n,i){t=+t,e|=0,i||_(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=n-1,a=1,r=0;for(this[e+o]=255&t;0<=--o&&(a*=256);)t<0&&0===r&&0!==this[e+o+1]&&(r=1),this[e+o]=(t/a>>0)-r&255;return e+n},p.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,1,127,-128),p.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},p.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},p.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},p.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):k(this,t,e,!0),e+4},p.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||_(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),p.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},p.prototype.writeFloatLE=function(t,e,n){return T(this,t,e,!0,n)},p.prototype.writeFloatBE=function(t,e,n){return T(this,t,e,!1,n)},p.prototype.writeDoubleLE=function(t,e,n){return E(this,t,e,!0,n)},p.prototype.writeDoubleBE=function(t,e,n){return E(this,t,e,!1,n)},p.prototype.copy=function(t,e,n,i){if(n=n||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var o,a=(i=t.length-e<i-n?t.length-e+n:i)-n;if(this===t&&n<e&&e<i)for(o=a-1;0<=o;--o)t[o+e]=this[o+n];else if(a<1e3||!p.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},p.prototype.fill=function(t,e,n,i){if("string"==typeof t){var o;if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1!==t.length||(o=t.charCodeAt(0))<256&&(t=o),i!==undefined&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!p.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=n===undefined?this.length:n>>>0,"number"==typeof(t=t||0))for(s=e;s<n;++s)this[s]=t;else for(var a=p.isBuffer(t)?t:A(new p(t,i).toString()),r=a.length,s=0;s<n-e;++s)this[s+e]=a[s%r];return this};var I=/[^+\/0-9A-Za-z-_]/g;function A(t,e){var n;e=e||Infinity;for(var i=t.length,o=null,a=[],r=0;r<i;++r){if(55295<(n=t.charCodeAt(r))&&n<57344){if(!o){if(56319<n){-1<(e-=3)&&a.push(239,191,189);continue}if(r+1===i){-1<(e-=3)&&a.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(e-=3)&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(e-=3)&&a.push(239,191,189);if(o=null,n<128){if(--e<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function L(t){return s.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function P(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}.call(this,R(8))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),t=e[0],e=e[1];return 3*(t+e)/4-e},e.toByteArray=function(t){var e,n,i=c(t),o=i[0],i=i[1],a=new u(function(t,e){return 3*(t+e)/4-e}(o,i)),r=0,s=0<i?o-4:o;for(n=0;n<s;n+=4)e=l[t.charCodeAt(n)]<<18|l[t.charCodeAt(n+1)]<<12|l[t.charCodeAt(n+2)]<<6|l[t.charCodeAt(n+3)],a[r++]=e>>16&255,a[r++]=e>>8&255,a[r++]=255&e;2===i&&(e=l[t.charCodeAt(n)]<<2|l[t.charCodeAt(n+1)]>>4,a[r++]=255&e);1===i&&(e=l[t.charCodeAt(n)]<<10|l[t.charCodeAt(n+1)]<<4|l[t.charCodeAt(n+2)]>>2,a[r++]=e>>8&255,a[r++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,r=n-i;a<r;a+=16383)o.push(function(t,e,n){for(var i,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(function(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}(i));return o.join("")}(t,a,r<a+16383?r:a+16383));1==i?(e=t[n-1],o.push(s[e>>2]+s[e<<4&63]+"==")):2==i&&(e=(t[n-2]<<8)+t[n-1],o.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return o.join("")};for(var s=[],l=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=i.length;o<a;++o)s[o]=i[o],l[i.charCodeAt(o)]=o;function c(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return[t=-1===t?e:t,t===e?0:4-t%4]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,o){var a,r,s=8*o-i-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?o-1:0,d=n?-1:1,n=t[e+p];for(p+=d,a=n&(1<<-c)-1,n>>=-c,c+=s;0<c;a=256*a+t[e+p],p+=d,c-=8);for(r=a&(1<<-c)-1,a>>=-c,c+=i;0<c;r=256*r+t[e+p],p+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return r?NaN:(n?-1:1)*Infinity;r+=Math.pow(2,i),a-=u}return(n?-1:1)*r*Math.pow(2,a-i)},e.write=function(t,e,n,i,o,a){var r,s,l=8*a-o-1,u=(1<<l)-1,c=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,h=i?1:-1,a=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(s=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),e*(i=Math.pow(2,-r))<1&&(r--,i*=2),2<=(e+=1<=r+c?p/i:p*Math.pow(2,1-c))*i&&(r++,i/=2),u<=r+c?(s=0,r=u):1<=r+c?(s=(e*i-1)*Math.pow(2,o),r+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,o),r=0));8<=o;t[n+d]=255&s,d+=h,s/=256,o-=8);for(r=r<<o|s,l+=o;0<l;t[n+d]=255&r,d+=h,r/=256,l-=8);t[n+d-h]|=128*a}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(0,n(1).__importDefault)(n(386));e["default"]=n["default"]},,,,,,,function(t,w,e){"use strict";!function(e){Object.defineProperty(w,"__esModule",{value:!0}),w.isValid=w.encodeURI=w.decode=w.encode=void 0;var n,s=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),r=(n={},s.forEach(function(t,e){return n[t]=e}),n),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,u=String.fromCharCode.bind(String),t="function"==typeof e,i="function"==typeof TextDecoder?new TextDecoder:undefined,a="function"==typeof TextEncoder?new TextEncoder:undefined,o="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},c=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},p="function"==typeof btoa?function(t){return btoa(t)}:t?function(t){return e.from(t,"binary").toString("base64")}:function(t){for(var e,n,i,o="",a=t.length%3,r=0;r<t.length;){if(255<(e=t.charCodeAt(r++))||255<(n=t.charCodeAt(r++))||255<(i=t.charCodeAt(r++)))throw new TypeError("invalid character found");o+=s[(e=e<<16|n<<8|i)>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}return a?o.slice(0,a-3)+"===".substring(a):o},d=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?u(192|e>>>6)+u(128|63&e):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return u(240|e>>>18&7)+u(128|e>>>12&63)+u(128|e>>>6&63)+u(128|63&e)},h=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=t?function(t){return e.from(t,"utf8").toString("base64")}:a?function(t){for(var e=a.encode(t),n=[],i=0,o=e.length;i<o;i+=4096)n.push(u.apply(null,Array.from(e.subarray(i,i+4096))));return p(n.join(""))}:function(t){return p(t.replace(h,d))},g="function"==typeof atob?function(t){return atob(c(t))}:t?function(t){return e.from(t,"base64").toString("binary")}:function(t){if(t=t.replace(/\s+/g,""),!l.test(t))throw new TypeError("malformed base64.");var e,n,i;t+="==".slice(2-(3&t.length));for(var o=[],a=0;a<t.length;)e=r[t.charAt(a++)]<<18|r[t.charAt(a++)]<<12|(n=r[t.charAt(a++)])<<6|(i=r[t.charAt(a++)]),64===n?o.push(u(e>>16&255)):64===i?o.push(u(e>>16&255,e>>8&255)):o.push(u(e>>16&255,e>>8&255,255&e));return o.join("")},m=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return u(55296+(e>>>10))+u(56320+(1023&e));case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},v=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,b=t?function(t){return e.from(t,"base64").toString("utf8")}:i?function(t){t=o(g(t).split("").map(function(t){return t.charCodeAt(0)}));return i.decode(t)}:function(t){return g(t).replace(v,m)};w.encode=function(t,e){return(e=void 0===e?!1:e)?f(t).replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"===t?"-":"_"}):f(t)};w.decode=function(t){return b(c(t.replace(/[-_]/g,function(t){return"-"===t?"+":"/"})))};w.encodeURI=function(t){return(0,w.encode)(t,!0)};w.isValid=function(t){if("string"!=typeof t)return!1;t=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},w["default"]={encode:w.encode,decode:w.decode,encodeURI:w.encodeURI,isValid:w.isValid}}.call(this,e(15).Buffer)},function(t,u,e){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.UploadFile=u.UPLOAD_ALL_TYPE=u.UPLOAD_IMAGE_TYPE=u.UPLOAD_FILE_TYPE=u.imageAccept=u.FILE_STATUS=u.FileRecommendWordsGroup=u.UploadStatus=u.getFileNameSuffix=u.getFileType=u.suffixToFileType=void 0;var C=e(1),n=e(97),a="/aichat/api/file/sts",s="/aichat/api/file/upload",T="/aichat/api/file/loop",l="/aichat/api/knowledge/file/delete",i=/\.(\w+)$/,o={pdf:"PDF",doc:"Word",docx:"Word",txt:"TXT",xls:"Excel",xlsx:"Excel",ppt:"PPT",pptx:"PPT",csv:"Excel",py:"Code",java:"Code",js:"Code",html:"Code",css:"Code",ts:"Code",c:"Code",cpp:"Code",cc:"Code",h:"Code",go:"Code"};u.suffixToFileType=function(t){if(!t)return"unknown";t=t.toLowerCase();return o[t]||"unknown"};u.getFileType=function(t){t=i.exec(t);return t?(0,u.suffixToFileType)(t[1]):"unknown"};var E;u.getFileNameSuffix=function(t){t=i.exec(t);return t?t[0]:""},(e=E=u.UploadStatus||(u.UploadStatus={}))[e.INIT=-1]="INIT",e[e.STSSUCCESS=0]="STSSUCCESS",e[e.UPLOADING=1]="UPLOADING",e[e.BOS_SUCCESS=2]="BOS_SUCCESS",e[e.NETWORK_ERROR=3]="NETWORK_ERROR",e[e.RISK_DENY=4]="RISK_DENY",e[e.FILE_NUM_EXCEED_LIMIT=5]="FILE_NUM_EXCEED_LIMIT",e[e.FILE_SIZE_EXCEED_LIMIT=6]="FILE_SIZE_EXCEED_LIMIT",e[e.KNOWLEDGE_SUCCESS=7]="KNOWLEDGE_SUCCESS",e[e.KNOWLEDGE_ERROR=8]="KNOWLEDGE_ERROR",e[e.SET_FILE_NUM=9]="SET_FILE_NUM",e[e.NOT_AVAILABLE=10]="NOT_AVAILABLE",e[e.FILE_REUPLOAD=11]="FILE_REUPLOAD",e[e.FILE_SIZE_BELOW_LIMIT=12]="FILE_SIZE_BELOW_LIMIT",e[e.IMAGE_INFO_SUCCESS=13]="IMAGE_INFO_SUCCESS",(e=u.FileRecommendWordsGroup||(u.FileRecommendWordsGroup={}))[e.defaultFileWords=0]="defaultFileWords",e[e.defaultImageWords=1]="defaultImageWords",e[e.AIPhotoEditing=2]="AIPhotoEditing",e[e.PDFToOthers=3]="PDFToOthers",e[e.WordToOthers=4]="WordToOthers",e[e.TXTToOthers=5]="TXTToOthers",(e=u.FILE_STATUS||(u.FILE_STATUS={}))[e.UNACTIVE=0]="UNACTIVE",e[e.ACTIVE=1]="ACTIVE",e[e.EXPIRED=2]="EXPIRED";var I="https://chat.baidu.com";u.imageAccept=".jpeg, .png, .jpg, .bmp";var c=".pdf, .doc, .docx, .txt, .xls, .xlsx, .csv, .ppt, .pptx",p=(0,n.hitSample)("PC_AI_SEARCH_OLD_CODE")?"":".py, .java, .js, .html, .css, .ts, .c, .cpp, .cc, .h, .go",d=u.imageAccept+", "+c;u.UPLOAD_FILE_TYPE=c+", "+p,u.UPLOAD_IMAGE_TYPE=u.imageAccept,u.UPLOAD_ALL_TYPE=u.UPLOAD_FILE_TYPE+", "+u.UPLOAD_IMAGE_TYPE;r.create=function(n){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return(e=null,n.isChatSearch)?(e=n.sdk,[3,3]):[3,1];case 1:return[4,function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(t){return[2,new Promise(function(e,n){window.require(["@baiducloud/sdk/dist/baidubce-sdk.bundle.min"],function(t){e(t)},function(t){n(t)})})]})})}()];case 2:e=t.sent(),t.label=3;case 3:return[2,new r(n,e)]}})})},r.prototype.getFile=function(l){return(0,C.__awaiter)(this,void 0,Promise,function(){var s=this;return(0,C.__generator)(this,function(t){return[2,new Promise(function(e,n){try{var t=document.createElement("input"),i=s.options,o=i.type,a=i.maxNum;t.type="file",t.accept="all"===o?d:"image"===o?u.imageAccept:c+", "+p,t.multiple=1<a,t.onchange=function(t){return s.handleFileChange(t,e,n,l)},t.click()}catch(r){n(r)}})]})})},r.prototype.getCouldUploadFiles=function(t){var e=t.filter(function(t){t=t.name.split(".")||[],t=null===t?void 0:t[t.length-1];return t&&(d+", "+p).includes(t.toLocaleLowerCase())});return e.length!==t.length&&this.options.callback({status:E.NOT_AVAILABLE}),e},r.prototype.checkFileValid=function(t){return t.size>1024*this.options.maxSize*1024?(this.options.callback({status:E.FILE_SIZE_EXCEED_LIMIT}),!1):0!==t.size||(this.options.callback({status:E.FILE_SIZE_BELOW_LIMIT}),!1)},r.prototype.filterInvalidFile=function(t,e){var n=this.getCouldUploadFiles(t);if(!e||e(n)){n.length>this.options.maxNum&&(this.options.callback({status:E.FILE_NUM_EXCEED_LIMIT}),n.splice(this.options.maxNum)),this.options.callback({status:E.SET_FILE_NUM,num:n.length});for(var i=n.length-1;0<=i;i--)this.checkFileValid(n[i])||n.splice(i,1);return n}},r.prototype.handleFileChange=function(i,o,a,r){return(0,C.__awaiter)(this,void 0,Promise,function(){var e,n=this;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=null==i?void 0:i.target,e=Array.from(e.files||[]),e=this.filterInvalidFile(e,r),[4,Promise.all(e.map(function(t,e){return n.uploadFile(t,e)}))];case 1:return t.sent(),o(),[3,3];case 2:return e=t.sent(),a(e),[3,3];case 3:return[2]}})})},r.prototype.uploadFiles=function(t){var n=this;return Promise.all(this.filterInvalidFile(t).map(function(t,e){return n.uploadFile(t,e)}))},r.prototype.uploadFile=function(h,f){return void 0===f&&(f=0),(0,C.__awaiter)(this,void 0,Promise,function(){var d,e=this;return(0,C.__generator)(this,function(t){return d=Date.now()+f+function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_",e="",n=new Uint8Array(6);crypto.getRandomValues(n);for(var i=0;i<6;i++)e+=t[n[i]%t.length];return e}(),this.options.callback({status:E.INIT,progress:0,fileInfo:{fileName:h.name,fileType:h.type,fileSize:h.size,fileIndex:f,fileToken:d}}),[2,new Promise(function(c,p){return(0,C.__awaiter)(e,void 0,void 0,function(){var e,n,i,o,a,r,s,l,u=this;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return(t.trys.push([0,5,,6]),h)?(this.files||(this.files=[]),this.files.push({file:h,fileToken:d}),this.sdk||navigator.onLine||this.options.callback({status:E.NETWORK_ERROR,fileInfo:{fileIndex:f,fileToken:d}}),[4,this.getSts()]):[2];case 1:return a=t.sent(),e=a.ak,n=a.sk,i=a.token,o=a.preFixPath,a=a.recommendWord,this.options.callback({status:E.STSSUCCESS,progress:0,fileInfo:{fileName:h.name,fileType:h.type,fileSize:h.size,fileIndex:f,fileToken:d},recommendWord:a}),h instanceof File&&h.type.startsWith("image/")?[4,this.getImageInfo(h)]:[3,3];case 2:r=t.sent(),this.options.callback({status:E.IMAGE_INFO_SUCCESS,progress:0,fileInfo:{imageWidth:r.width,imageHeight:r.height}}),t.label=3;case 3:return r=this.sdk.BosClient,s=new r({endpoint:"https://aisearch.bj.bcebos.com",credentials:{ak:e,sk:n},sessionToken:i}),r=null===(l=h.name)||void 0===l?void 0:l.split(".").pop(),l=this.sdk.MimeType.guess(r),r=d+"."+r,l.startsWith("text/")&&(l+="; charset=UTF-8"),[4,s.putSuperObject({bucketName:"aisearch",objectName:o+r,chunkSize:1048576,ContentLength:h.size,ContentType:l,data:h,onProgress:function(t){t=t.progress;u.options.callback({status:E.UPLOADING,progress:t,fileInfo:{fileIndex:f,fileToken:d}})},onStateChange:function(r,s){return(0,C.__awaiter)(u,void 0,void 0,function(){var e,n,i,o,a;return(0,C.__generator)(this,function(t){switch(t.label){case 0:if("completed"!==r)return[3,7];t.label=1;case 1:return t.trys.push([1,5,,6]),this.options.callback({status:E.UPLOADING,progress:1,fileInfo:{fileIndex:f,fileToken:d}}),e=s.data.key,n=btoa(e.split("/").pop()),[4,this.upLoadConfirm({path:e,size:h.size,name:h.name,id:n,type:"all"===this.options.type?h.type.startsWith("image/")?"image":"file":this.options.type},f)];case 2:return i=t.sent().file_url,this.options.callback({status:E.BOS_SUCCESS,progress:1,fileInfo:{fileIndex:f,fileId:n,fileUrl:i,filePath:e,fileToken:d}}),!this.options.knowledgeId||this.preventUploadSet.has(d)?[3,4]:[4,this.getUploadKnowledgeStatus(n)];case 3:t.sent(),this.options.callback({status:E.KNOWLEDGE_SUCCESS,fileInfo:{fileToken:d,fileUrl:i}}),t.label=4;case 4:return c(),[3,6];case 5:return a=t.sent(),a=(null==(o=a)?void 0:o.status)||E.NETWORK_ERROR,this.options.callback({status:a,fileInfo:{fileIndex:f,fileToken:d}}),p(o),[3,6];case 6:return[3,8];case 7:"failed"===r&&(this.options.callback({status:E.NETWORK_ERROR,fileInfo:{fileIndex:f,fileToken:d}}),p(new Error("Network disconnected"))),t.label=8;case 8:return[2]}})})}}).start()];case 4:return t.sent(),[3,6];case 5:return l=t.sent(),l=(null==(s=l)?void 0:s.status)||E.NETWORK_ERROR,this.options.callback({status:l,fileInfo:{fileIndex:f,fileToken:d}}),p(s),[3,6];case 6:return[2]}})})})]})})},r.prototype.reTryUpload=function(n){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return(e=this.files||[],e=e.find(function(t){return t.fileToken===n}))?(this.options.callback({status:E.FILE_REUPLOAD,fileInfo:{fileToken:n}}),[4,this.uploadFile(e.file,0)]):[3,2];case 1:return[2,t.sent()];case 2:return[2,Promise.resolve()]}})})},r.prototype.getSts=function(){return(0,C.__awaiter)(this,void 0,Promise,function(){var e=this;return(0,C.__generator)(this,function(t){return[2,new Promise(function(i,o){return(0,C.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e=(this.options.sseHost||I)+a+("?tk="+this.options.token)+(this.options.knowledgeId?"&knowledgeId="+this.options.knowledgeId:""),[4,fetch(e,{mode:"cors",credentials:"include"})];case 1:return(n=t.sent()).ok||o({status:E.NETWORK_ERROR}),[4,n.json()];case 2:return 0===(n=t.sent()).status?i(n.data):o({status:E.NETWORK_ERROR}),[3,4];case 3:return t.sent(),o({status:E.NETWORK_ERROR}),[3,4];case 4:return[2]}})})})]})})},r.prototype.getUploadData=function(n,i,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return e=(this.options.sseHost||I)+s+"?tk="+i,[4,fetch(e,{method:"POST",credentials:"include",signal:o?o.signal:null,headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({},this.options.uploadBody,this.options.knowledgeId?{knowledgeId:this.options.knowledgeId}:{},this.options.dirId?{dirId:this.options.dirId}:{},this.options.scene?{scene:this.options.scene}:{},n))})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}})})},r.prototype.upLoadConfirm=function(a,r){return(0,C.__awaiter)(this,void 0,Promise,function(){var e=this;return(0,C.__generator)(this,function(t){return[2,new Promise(function(i,o){return(0,C.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),n=(this.options.sseHost||I)+s+("?tk="+this.options.token),[4,fetch(n,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({},a,this.options.uploadBody,this.options.knowledgeId?{knowledgeId:this.options.knowledgeId,sort:r}:{}))})];case 1:return[4,t.sent().json()];case 2:if(e=t.sent(),e=(n=e||{}).status,n=n.data,0===e)i(n);else if(-5===e)o({status:E.RISK_DENY});else{if(-1===e)throw{status:E.NETWORK_ERROR};o({status:E.NETWORK_ERROR})}return[3,4];case 3:return t.sent(),o({status:E.NETWORK_ERROR}),[3,4];case 4:return[2]}})})})]})})},r.prototype.loop=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var i,o,a,r,s,l,u,c,p,d,h,f,g,m,v,b,w,y,x,_,S,k=this;return(0,C.__generator)(this,function(t){switch(t.label){case 0:if(!this.uploadMap.size)return[2];i=1e3,o=Date.now();try{for(a=(0,C.__values)(Array.from(this.uploadMap.keys())),r=a.next();!r.done;r=a.next())m=r.value,(v=this.uploadMap.get(m))&&(s=(0,C.__read)(v,3),l=s[0],w=s[2],1e4+i<o-l&&(w({status:E.KNOWLEDGE_ERROR}),this.uploadMap["delete"](m)))}catch(e){y={error:e}}finally{try{r&&!r.done&&(x=a["return"])&&x.call(a)}finally{if(y)throw y.error}}u=Array.from(this.uploadMap.keys()),t.label=1;case 1:return t.trys.push([1,4,5,6]),c=""+(this.options.sseHost||I)+T+"?knowledgeId="+this.options.knowledgeId+"&fids="+u.join(",")+"&tk="+this.options.token,[4,fetch(c)];case 2:return[4,t.sent().json()];case 3:for(m in c=t.sent(),p=c.data.data)(v=this.uploadMap.get(m))&&(d=(0,C.__read)(v,3),h=d[1],w=d[2],1===p[m]?h():w({status:E.KNOWLEDGE_ERROR}),this.uploadMap["delete"](m));return[3,6];case 4:t.sent();try{for(f=(0,C.__values)(u),g=f.next();!g.done;g=f.next())m=g.value,(v=this.uploadMap.get(m))&&(b=(0,C.__read)(v,3),(w=b[2])({status:E.KNOWLEDGE_ERROR}),this.uploadMap["delete"](m))}catch(n){_={error:n}}finally{try{g&&!g.done&&(S=f["return"])&&S.call(f)}finally{if(_)throw _.error}}return[3,6];case 5:return this.uploadMap.size?setTimeout(function(){return k.loop()},i):this.inLoop=!1,[7];case 6:return[2]}})})},r.prototype.getUploadKnowledgeStatus=function(o){return(0,C.__awaiter)(this,void 0,void 0,function(){var i=this;return(0,C.__generator)(this,function(t){return[2,new Promise(function(e,n){return(0,C.__awaiter)(i,void 0,void 0,function(){return(0,C.__generator)(this,function(t){return this.uploadMap.set(o,[Date.now(),e,n]),this.inLoop||(this.inLoop=!0,this.loop()),[2]})})})]})})},r.deleteFile=function(a,r,s){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,n,i,o;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e=r.sseHost,o=r.knowledgeId,n=r.fileId,i=r.fileToken,o=""+(e||I)+l+"?knowledgeId="+o+"&fileId="+n+"&tk="+r.token,a&&(a.uploadMap["delete"](n),i&&a.preventUploadSet.add(i)),n?[4,fetch(o)]:[3,2];case 1:t.sent(),s&&s(),t.label=2;case 2:return[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})})},r.prototype.getImageInfo=function(o){return(0,C.__awaiter)(this,void 0,Promise,function(){return(0,C.__generator)(this,function(t){return[2,new Promise(function(t,e){var n=new FileReader,i=new Image;n.onload=function(t){i.src=t.target.result},i.onload=function(){t({width:i.width,height:i.height})},i.onerror=function(){e(new Error("图片加载失败"))},n.onerror=function(){e(new Error("文件读取失败"))},n.readAsDataURL(o)})]})})},n=r;function r(t,e){this.files=[],this.inLoop=!1,this.preventUploadSet=new Set,this.uploadMap=new Map,this.options=t,this.sdk=e}u.UploadFile=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=' <div class="{{$style[\'chat-input-background\']}}"> <div id="input-root" style="height: {{rootHeight}}px"> <chat-input initial-row="{{2}}" ai-placeholder="{{guideWord}}" initial-focus> <div slot="top-band"> <file-container s-if="{{(!isPCSingleFileSample || isPCSingleFileSample && isHome)\n                        && activeFile && fileList && fileList.length}}" file-list="{{fileList}}" upload-file-max-num="{{uploadFileMaxNum}}" cur-upload-type="{{curUploadType}}" on-show-delete="handleFileContainerLog" on-add-file-log="handleAddFileLog"></file-container> <file-guide s-if="{{!isPCSingleFileSample && activeFile && showFileGuide}}" file-guide-words="{{fileGuideWords}}" file-list="{{fileList}}" cur-upload-type="{{curUploadType}}" on-send-file-query="handleFileQuery" on-add-file-log="handleAddFileLog"></file-guide> </div> <div s-if="{{isRenderLeftTool}}" slot="left-tool" class="{{$style[\'left-tool\']}}"> <cs-numero-button s-if="numeroButtonData.length" s-ref="numeroButton" numero-button-data="{{numeroButtonData}}" open-panel-type="{{openPanelType}}"></cs-numero-button> <cs-music-button s-if="musicButtonData.length" s-ref="musicButton" music-button-data="{{musicButtonData}}" music-button-active-value="{=musicButtonActiveValue=}" music-place-holder="{=musicPlaceHolder=}" open-panel-type="{{openPanelType}}"></cs-music-button> <cs-draw-button s-if="drawButtonsData.length" s-ref="drawButton" draw-buttons-data="{{drawButtonsData}}" on-add-input-content="handleAddInputContent" open-panel-type="{{openPanelType}}"></cs-draw-button> <d-tooltip s-if="{{!numeroButtonData.length && !drawButtonsData.length && !musicButtonData.length}}" content="{{isAiSearch ? \'\' : hoverText.deepSearch}}" init-content="{{hoverText.askAiGuide}}" button-tips-days="{{buttonTipsDays}}" on-hover="handleDeepsearchHover" top="48" max-width="350" anchor="left"> <div s-ref="ai-search-btn" class="{{$style[\'aisearch-btn\']}} {{isAiSearch && !jumpDsBtnSample ? $style[\'aisearch-btn-active\']: $style[\'aisearch-btn-deactive\']}} {{jumpDsBtnSample ? $style[\'jump-btn\'] : $style[\'weak-svg\']}}" data-spy-count="jump-btn-click" on-click="handleClickAiSearch($event)" on-mouseenter="showAiBtnHover" on-mouseleave="hideAiBtnHover"> <img s-if="{{jumpDsBtnSample && buttonText.usePreImage && buttonText.preImageType === \'search\'}}" src="https://psstatic.cdn.bcebos.com/multimode/search_1760511039000.svg"> <svg s-else-if="{{buttonText.usePreImage && buttonText.preImageType === \'wenai\'}}" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="currentColor"> <path d="M9.35022 1C9.95062 1 10.5348 1.07134 11.0953 1.20215L10.9371 1.60449L9.23206 2.27734C5.76587 2.34054 2.97522 5.16693 2.97522 8.64746C2.97522 9.5194 3.15036 10.2454 3.32581 10.7539C3.41335 11.0077 3.50003 11.2063 3.56409 11.3398C3.59601 11.4064 3.62299 11.4569 3.64124 11.4912C3.64941 11.5066 3.65598 11.5187 3.66174 11.5293L3.6637 11.5332L3.67542 11.5537C3.67724 11.5572 3.68135 11.5653 3.68616 11.5752C3.68758 11.5781 3.68933 11.583 3.69202 11.5889L3.6969 11.5977C3.69841 11.6005 3.70003 11.6041 3.70178 11.6074C3.70452 11.6126 3.70834 11.6189 3.71155 11.625C3.73338 11.6668 3.76369 11.7275 3.79749 11.8018C3.86422 11.9484 3.94725 12.1575 4.00061 12.4014C4.00765 12.4336 4.0146 12.4647 4.02112 12.4941C4.09124 12.811 4.13046 12.9902 4.13049 13.4395C4.13049 13.7122 4.06465 14.1884 3.93323 14.6572C3.90089 14.7726 3.86175 14.8977 3.81506 15.0254L9.35022 15.0234C12.8319 15.0234 15.6593 12.2325 15.7213 8.76562L16.3932 7.06055L16.7965 6.90137C16.9278 7.46297 16.9996 8.04779 16.9996 8.64941C16.9996 12.874 13.5748 16.2988 9.35022 16.2988L2.76624 16.2998C2.42272 16.2997 2.19847 16.0579 2.12756 15.8271C2.06032 15.6082 2.10261 15.33 2.31213 15.1348C2.44224 15.0134 2.59138 14.7212 2.70569 14.3135C2.8144 13.9257 2.85608 13.5677 2.85608 13.4395C2.85606 13.1291 2.83844 13.0529 2.77698 12.7754C2.77009 12.7443 2.76257 12.7106 2.75452 12.6738C2.72644 12.5455 2.68054 12.425 2.63733 12.3301C2.61619 12.2836 2.59618 12.2445 2.58069 12.2148L2.55823 12.1719C2.55498 12.1657 2.54938 12.1545 2.54358 12.1426C2.54264 12.1407 2.54099 12.1385 2.53967 12.1357C2.53768 12.1321 2.53538 12.1278 2.53284 12.123C2.52796 12.114 2.5227 12.103 2.51624 12.0908C2.49119 12.0438 2.45577 11.9763 2.41467 11.8906C2.33266 11.7196 2.22635 11.476 2.12073 11.1699C1.90961 10.5579 1.69983 9.68977 1.69983 8.64746C1.69983 4.4226 5.12616 1.00023 9.35022 1ZM13.3932 1.35254C13.4911 1.10469 13.8422 1.10463 13.9401 1.35254L14.6588 3.17578C14.6887 3.2514 14.7492 3.31098 14.8248 3.34082L16.6471 4.05957C16.8952 4.15741 16.8951 4.50854 16.6471 4.60645L14.8248 5.3252C14.7491 5.35507 14.6887 5.41546 14.6588 5.49121L13.9401 7.31348C13.8422 7.56158 13.491 7.56158 13.3932 7.31348L12.6744 5.49121C12.6446 5.41546 12.5842 5.35507 12.5084 5.3252L10.6862 4.60645C10.4381 4.5086 10.4381 4.15742 10.6862 4.05957L12.5084 3.34082C12.5841 3.31097 12.6445 3.25144 12.6744 3.17578L13.3932 1.35254Z"/> </svg> <img s-else-if="newInputStyle" class="{{$style[\'new-input-img\']}}" src="https://psstatic.cdn.bcebos.com/aife/superman/ai_1758798670000.svg"> <span class="{{$style[\'ds-btn\']}}"> <span s-if="buttonText.text === \'AI搜索\'" style="margin-left: 3px">搜索</span> <fragment s-if="buttonText.text === \'问AI\'"> <img s-if="jumpDsBtnSample" src="https://psstatic.cdn.bcebos.com/aife/static/wenAI_1761814195000.png"> <fragment s-else> <svg s-show="{{!isAiSearch}}" xmlns="http://www.w3.org/2000/svg" width="25" height="14" viewBox="0 0 25 14" fill="currentColor"> <path d="M6.6394 1.91357C7.11595 1.91371 7.54284 2.20937 7.70972 2.65576L11.3914 12.5044C11.4378 12.6293 11.345 12.7622 11.2117 12.7622H9.4021C9.17216 12.7622 8.96654 12.6187 8.88745 12.4028L6.10913 4.79932C6.05829 4.66017 5.86481 4.65275 5.80347 4.7876L3.31714 10.2515C3.23177 10.4396 3.36935 10.6535 3.57593 10.6538H5.74097C5.99293 10.6538 6.17077 10.9 6.09155 11.1392L5.66479 12.4272C5.59853 12.6271 5.41147 12.7622 5.20093 12.7622H0.786865C0.216078 12.7622 -0.164088 12.1729 0.0710449 11.6528L4.16968 2.58545C4.35454 2.17654 4.76196 1.91371 5.21069 1.91357H6.6394ZM13.2546 5.65967C13.4725 5.65967 13.633 5.65944 13.7595 5.67041C13.8855 5.68134 13.9738 5.7023 14.0476 5.74268C14.1623 5.80541 14.2564 5.90042 14.3191 6.01514C14.3594 6.08895 14.3814 6.17728 14.3923 6.30322C14.4033 6.42977 14.4031 6.59027 14.4031 6.80811V11.6138C14.4031 11.8316 14.4033 11.9921 14.3923 12.1187C14.3814 12.2447 14.3595 12.3329 14.3191 12.4067C14.2564 12.5213 14.1622 12.6155 14.0476 12.6782C13.9738 12.7186 13.8855 12.7405 13.7595 12.7515C13.633 12.7624 13.4725 12.7622 13.2546 12.7622C13.0365 12.7622 12.8754 12.7624 12.7488 12.7515C12.6228 12.7405 12.5345 12.7186 12.4607 12.6782C12.3461 12.6155 12.2519 12.5213 12.1892 12.4067C12.1488 12.3329 12.1269 12.2447 12.116 12.1187C12.105 11.9921 12.1052 11.8316 12.1052 11.6138V6.80811C12.1052 6.59028 12.105 6.42977 12.116 6.30322C12.1269 6.17728 12.1489 6.08895 12.1892 6.01514C12.2519 5.90042 12.346 5.80541 12.4607 5.74268C12.5345 5.7023 12.6228 5.68134 12.7488 5.67041C12.8754 5.65943 13.0365 5.65967 13.2546 5.65967ZM20.7683 3.35498C20.8429 3.35772 20.8959 3.39383 20.9197 3.4126C20.9475 3.43453 20.9698 3.46038 20.9871 3.48193C21.0221 3.52557 21.0575 3.58062 21.0906 3.63916C21.1579 3.75824 21.2355 3.92064 21.3162 4.10107C21.4779 4.46259 21.6619 4.92096 21.8191 5.31104L21.8201 5.31299C21.9454 5.62394 22.0502 5.88442 22.115 6.02783C22.2458 6.08741 22.4735 6.18078 22.7488 6.29443L22.7517 6.29541C23.1448 6.45766 23.6218 6.65547 24.0007 6.83057C24.1898 6.91795 24.3609 7.00248 24.4861 7.07666C24.5477 7.11318 24.6066 7.1516 24.6521 7.19092C24.6746 7.21033 24.7005 7.23597 24.7224 7.26709C24.7423 7.29534 24.7756 7.35176 24.7732 7.42725C24.7708 7.50157 24.7345 7.55437 24.7156 7.57861C24.6938 7.60655 24.6687 7.62957 24.6472 7.64697C24.6036 7.68228 24.5475 7.7173 24.489 7.75049C24.3702 7.81787 24.2088 7.89547 24.0291 7.97607C23.6687 8.13764 23.2122 8.32235 22.824 8.479L22.821 8.47998C22.514 8.60389 22.2573 8.70762 22.115 8.77197C22.0546 8.90435 21.9589 9.13552 21.8435 9.41455L21.8425 9.4165C21.6798 9.80993 21.4827 10.2866 21.3083 10.6646C21.2214 10.853 21.1374 11.0233 21.0642 11.1479C21.0283 11.2091 20.9901 11.2668 20.9519 11.312C20.9329 11.3344 20.9079 11.3613 20.8777 11.3833C20.8508 11.4029 20.795 11.437 20.7195 11.436C20.6451 11.4351 20.5917 11.3997 20.5662 11.3804C20.5372 11.3585 20.5127 11.3337 20.4949 11.312C20.4587 11.2681 20.4239 11.2116 20.3904 11.1528C20.3222 11.0334 20.2438 10.8707 20.1628 10.6899C20.0006 10.3275 19.8163 9.86782 19.6599 9.47803L19.6589 9.4751C19.536 9.16878 19.4328 8.91376 19.3689 8.77197C19.2188 8.70466 18.9416 8.59463 18.6121 8.46436L18.6101 8.46338C18.2226 8.3102 17.7745 8.13318 17.4226 7.979C17.2471 7.90209 17.0901 7.82807 16.9744 7.76416C16.9174 7.73269 16.8628 7.69995 16.8201 7.6665C16.799 7.65002 16.7745 7.62779 16.7527 7.60107C16.7343 7.57849 16.6965 7.52737 16.6921 7.45361C16.6877 7.37742 16.7198 7.31937 16.74 7.28955C16.762 7.25716 16.7884 7.23064 16.8113 7.21045C16.8576 7.16964 16.9173 7.12908 16.9802 7.09131C17.1082 7.01451 17.2838 6.92748 17.4773 6.8374C17.865 6.65694 18.3525 6.45429 18.7498 6.28955L18.7527 6.28857C19.0207 6.17744 19.241 6.08611 19.3689 6.02783C19.4292 5.89507 19.5248 5.66164 19.6404 5.37939L19.6414 5.37646C19.803 4.98151 19.9989 4.50411 20.1726 4.12549C20.2592 3.93666 20.3431 3.76602 20.4167 3.64111C20.453 3.57963 20.4917 3.52062 20.531 3.4751C20.5504 3.45267 20.576 3.42669 20.6072 3.40479C20.6357 3.3848 20.6927 3.35229 20.7683 3.35498ZM13.1843 1.29053C14.0121 1.29066 14.6831 1.96179 14.6833 2.78955C14.6833 3.61748 14.0122 4.28942 13.1843 4.28955C12.3563 4.28955 11.6853 3.61757 11.6853 2.78955C11.6855 1.96171 12.3564 1.29053 13.1843 1.29053Z" fill="currentColor"/> </svg> <img s-show="{{isAiSearch}}" src="https://gips2.baidu.com/it/u=203573231,3751676420&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f75_42"> </fragment> </fragment> </span> <border-animation-svg s-ref="border-animation" class="{{$style[\'ai-search-btn-svg\']}}" hoverAnimationId="left_ds_btn_border_svg_hover" width="{{aiSearchWidth}}" height="{{aiSearchHeight}}" border-radius="12" padding="2" stroke-width="{{isAiSearch ? 0 : 1}}" liner-color-config="{{linerColorConfig}}"></border-animation-svg> </div> </d-tooltip> <div s-show="{{isShowOverWordTip}}" class="{{$style[\'overword-tip\']}}"> 👈 复杂问题文心助手回答更优 </div> </div> <div slot="right-tool" class="{{$style[\'right-tool\']}} {{!isShowFileUpload && !isShowMic ? $style[\'right-tool-no-margin\'] : \'\'}}"> <d-tooltip s-if="{{isShowFileUpload}}" content="{{(!isPCSingleFileSample && curUploadType && curUploadType !== \'file\')\n                            ? hoverText.mergeText : (!isPCSingleFileSample && fileList.length >= uploadFileMaxNum\n                            ? hoverText.fullFile : hoverText.defaultFile)}}" maxWidth="320"> <div on-click="handleClickUploadFile(\'file\', null, \'\', $event)" class="{{$style[\'tool-item\']}} {{!isPCSingleFileSample && ((curUploadType && curUploadType !== \'file\') || fileList.length >= uploadFileMaxNum) ? $style[\'upload-btn-disabled\'] : \'\'}}"> <img s-if="newInputStyle" src="https://psstatic.cdn.bcebos.com/aife/superman/file_1758798674000.svg"> <svg s-else="" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M11.4405 5.94065L7.25022 10.1309C6.52703 10.8541 6.52703 12.0266 7.25022 12.7498C7.97342 13.473 9.14595 13.473 9.86914 12.7498L11.3095 11.3094L14.0594 8.55957L14.7141 7.90484C16.1605 6.45845 16.1605 4.1134 14.7141 2.66701C13.2677 1.22062 10.9227 1.22062 9.4763 2.66701L3.97658 8.16673C1.807 10.3363 1.807 13.8539 3.97658 16.0235C6.14616 18.1931 9.66374 18.193 11.8333 16.0235L16.6783 11.1785" stroke="currentColor" stroke-width="1.6"/> </svg> </div> </d-tooltip> <d-tooltip s-if="{{isShowFileUpload}}" content="{{(!isPCSingleFileSample && curUploadType && curUploadType !== \'image\')\n                            ? hoverText.mergeText : (!isPCSingleFileSample && fileList.length >= uploadFileMaxNum\n                            ? hoverText.fullPic : hoverText.defaultPic)}}"> <div on-click="handleClickUploadFile(\'image\', null, \'\', $event)" class="{{$style[\'tool-item\']}} {{!isPCSingleFileSample && ((curUploadType && curUploadType !== \'image\') || fileList.length >= uploadFileMaxNum) ? $style[\'upload-btn-disabled\'] : \'\'}}"> <img s-if="newInputStyle" src="https://psstatic.cdn.bcebos.com/aife/superman/image_1758798679000.svg"> <svg s-else="" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M1.85278 4.81463C1.85278 3.58733 2.84771 2.59241 4.07501 2.59241H15.9269C17.1542 2.59241 18.1491 3.58733 18.1491 4.81463V15.185C18.1491 16.4123 17.1542 17.4072 15.9269 17.4072H4.075C2.8477 17.4072 1.85278 16.4123 1.85278 15.185V4.81463Z" stroke="currentColor" stroke-width="1.6"/> <circle cx="13.7136" cy="7.14282" r="2.1" fill="currentColor" stroke="white" stroke-width="0.8"/> <path d="M1.85278 14.2326L5.08504 9.72923C5.81909 8.70649 7.25533 8.49716 8.25077 9.26783L17.5001 16.4286" stroke="currentColor" stroke-width="1.6"/> </svg> </div> </d-tooltip> <d-tooltip s-if="{{isShowFileUpload && linkOptions.function}}" content="{{linkOptions.desc}}"> <div class="{{$style[\'tool-item\']}} {{$style[\'weak-svg\']}}" on-click="handleLinkClick"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"> <g clip-path="url(#clip0_1865_9665)"> <path d="M12.6643 3.18171C13.792 2.05399 15.6406 2.05576 16.7933 3.20843C17.9459 4.3611 17.9477 6.20967 16.82 7.33738L14.558 9.59933L15.6056 10.6469L17.8676 8.38495C19.584 6.66851 19.5618 3.88187 17.8408 2.16086C16.1198 0.439864 13.3332 0.417703 11.6168 2.13414L8.36132 5.38958C6.64488 7.10602 6.66704 9.89266 8.38804 11.6137L8.91182 12.1374L9.95938 11.0899L9.4356 10.5661C8.28293 9.41343 8.28117 7.56486 9.40888 6.43714L12.6643 3.18171Z" fill="currentColor"/> <path d="M11.6146 8.19855L11.0909 7.67477L10.0433 8.72234L10.5671 9.24612C11.7197 10.3988 11.7215 12.2474 10.5938 13.3751L7.33836 16.6305C6.21064 17.7582 4.36208 17.7565 3.20941 16.6038C2.05674 15.4511 2.05497 13.6025 3.18269 12.4748L5.44463 10.2129L4.39707 9.16532L2.13512 11.4273C0.41868 13.1437 0.44084 15.9304 2.16184 17.6514C3.88284 19.3724 6.66948 19.3945 8.38592 17.6781L11.6414 14.4226C13.3578 12.7062 13.3356 9.91955 11.6146 8.19855Z" fill="currentColor"/> <path d="M12.6643 3.18171C13.792 2.05399 15.6406 2.05576 16.7933 3.20843C17.9459 4.3611 17.9477 6.20967 16.82 7.33738L14.558 9.59933L15.6056 10.6469L17.8676 8.38495C19.584 6.66851 19.5618 3.88187 17.8408 2.16086C16.1198 0.439864 13.3332 0.417703 11.6168 2.13414L8.36132 5.38958C6.64488 7.10602 6.66704 9.89266 8.38804 11.6137L8.91182 12.1374L9.95938 11.0899L9.4356 10.5661C8.28293 9.41343 8.28117 7.56486 9.40888 6.43714L12.6643 3.18171Z" stroke="currentColor" stroke-width="0.15" stroke-linecap="square"/> <path d="M11.6146 8.19855L11.0909 7.67477L10.0433 8.72234L10.5671 9.24612C11.7197 10.3988 11.7215 12.2474 10.5938 13.3751L7.33836 16.6305C6.21064 17.7582 4.36208 17.7565 3.20941 16.6038C2.05674 15.4511 2.05497 13.6025 3.18269 12.4748L5.44463 10.2129L4.39707 9.16532L2.13512 11.4273C0.41868 13.1437 0.44084 15.9304 2.16184 17.6514C3.88284 19.3724 6.66948 19.3945 8.38592 17.6781L11.6414 14.4226C13.3578 12.7062 13.3356 9.91955 11.6146 8.19855Z" stroke="currentColor" stroke-width="0.15" stroke-linecap="square"/> </g> <defs> <clipPath id="clip0_1865_9665"> <rect width="20" height="20" fill="white"/> </clipPath> </defs> </svg> </div> </d-tooltip> </div> <div slot="chat-input-extension"> <div class="{{$style[\'panel-list\']}}"> <panel-btn s-for="panel, pindex in visibleButtons" panel="{{panel}}" pos="{{pindex + 1}}" area="base" func-recommend-sample="{{funcRecommendSample}}" query-recommend-sample="{{queryRecommendSample}}" btn-text-sample="{{btnTextSample}}" btn-img-sample="{{btnImgSample}}" btn-try-sample="{{btnTrySample}}" on-click="handleClickPanelBtn" on-show-log="handlePanelBtnShow"></panel-btn> <drop-down-btn s-if="hiddenButtons.length" wrapper-class="{{$style[\'drop-down-wrapper\']}}" on-mouseover="native:handleDropdownMouseEnter" on-menu-show="handleMoreMenuShow" btn-class="{{$style[\'drop-down-btn\']}} {{showGuideClass}}" menu-wrapper-class="{{$style[\'drop-down-menu-wrapper\']}}" menu-class="{{$style[\'drop-down-menu\']}}"> <panel-btn s-for="panel, pindex in hiddenButtons" s-ref="more-btn-{{panel.type}}" panel="{{panel}}" pos="{{visibleButtons.length + pindex + 1}}" area="capsule_bub_more" func-recommend-sample="{{funcRecommendSample}}" query-recommend-sample="{{queryRecommendSample}}" btn-text-sample="{{btnTextSample}}" btn-img-sample="{{btnImgSample}}" btn-try-sample="{{btnTrySample}}" on-click="handleClickPanelBtn" on-show-log="handlePanelBtnShow"></panel-btn> </drop-down-btn> </div> </div> </chat-input> </div> <d-toast s-ref="toast" message="{{toastMsg}}" duration="{{toastDuration}}"></d-toast> <animation-video s-if="{{isShowOpenningAnime}}"></animation-video> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,C=n(1),o=n(0),a=(0,C.__importDefault)(n(350)),f=(0,C.__importDefault)(n(353)),r=n(405),s=(0,C.__importDefault)(n(406)),l=(0,C.__importDefault)(n(411)),u=(0,C.__importStar)(n(420)),c=(0,C.__importDefault)(n(426)),p=(0,C.__importDefault)(n(429)),d=(0,C.__importDefault)(n(432)),h=(0,C.__importDefault)(n(435)),g=(0,C.__importDefault)(n(441)),m=(0,C.__importDefault)(n(447)),v=(0,C.__importDefault)(n(460)),b=(0,C.__importDefault)(n(135)),T=n(42),E=(0,C.__importDefault)(n(41)),w=n(6),y=[],I="https://chat.baidu.com",x={office_create:7,photo_editing:8,ai_ppt:9,ai_read:10,ai_code:11,deep_research:12,ai_music_create:13,ai_numerology:16},n=n(5),n=(i=o.Component,(0,C.__extends)(_,i),_.prototype.initData=function(){return{rootHeight:100,isHome:!0,initialRow:2,isAiSearch:!1,isShowMic:!1,isShowFileUpload:!0,isAiPanelSearch:!1,isShowOpenningAnime:!1,fileItem:null,panelMaxHeight:358,inputPanel:[],guideWordPrefix:"",guideWord:"",isFileUploading:!1,token:"",fileList:[],fileGuideWords:[],toastMsg:"",toastDuration:2e3,hoverText:{},hasShowOverWordToast:!1,ro:null,isOverWord:!1,visibleButtons:[],hiddenButtons:[],showMoreGuide:!1,prefixContent:"",activeFile:!0,uploadFileMaxNum:10,isPCSingleFileSample:1,deepSearchBtnText:"问",isShowAiSearch:!0,numeroButtonData:[],musicButtonData:[],musicButtonActiveValue:[],musicPlaceHolder:"",drawButtonsData:[],numeroTipContent:"测测事业、爱情、财富运势",newInputStyle:!1,funcRecommendSample:!1,queryRecommendSample:!1,btnTextSample:!1,btnImgSample:!1,btnTrySample:!1,buttonTipsDays:[],jumpDsBtnSample:!0,voiceInputComplete:!1,hasUsedVoiceInput:!1,isVoiceRecording:!1,linkOptions:{},linerColorConfig:[{offset:"0%",color:"#fff",opacity:"0.2"},{offset:"60%",color:"#6547FF",opacity:"0.6"},{offset:"95%",color:"#4769FF",opacity:"1"},{offset:"100%",color:"#0090FE",opacity:"1"}],numeroButtonActiveValue:null}},_.prototype.inited=function(){var t=this.data.get("inputPanel").map(function(t){return(0,C.__assign)((0,C.__assign)({},t),"ai_search"===t.type?{minWidth:270}:{})}),e=(0,r.calculateAdaptiveButtonBar)(t,{containerWidth:800,defaultMinWidth:90,buttonGap:9,moreButtonWidth:86}),t=e.visibleButtons,e=e.hiddenButtons;this.data.set("visibleButtons",t),this.data.set("hiddenButtons",e),this.data.get("newInputStyle")&&this.data.set("rootHeight",120)},_.prototype.attached=function(){var d=this;this.checkAnime(),this.handlePopStateCallback=this.handlePopState.bind(this),window.addEventListener("popstate",this.handlePopStateCallback);var h=this.data.get("isPCSingleFileSample");h&&this.data.set("uploadFileMaxNum",1),this.nextTick(function(){d.initSpyCountLogListener();var l,u,t,e,n,i,o,a,r,s,c,p=document.querySelector("#input-root");d.chatInputInstance=new f["default"]({rootDom:p,initialRow:d.data.get("initialRow"),isSsr:!0,initialFocus:!0,hasOpenAnime:!0,panelMaxHeight:d.data.get("panelMaxHeight"),aiPlaceholder:d.data.get("guideWord"),isSingle:!!h,useBuiltInVoice:!0}),d.chatInputInstance.on("panel-close",function(){d.resetStatus(),d.data.get("fileList").length&&d.chatInputInstance.fileUpLoadInput()}),d.chatInputInstance.on("change",function(t){var e=(0,w.$)("#main-wrapper");"normal"===t&&e.length&&e.trigger("smartInputRerender")}),d.chatInputInstance.on("panel-scroll",function(){d.sendUbcLog("slide","function_panel",{})}),d.chatInputInstance.on("prefix-click",function(){d.data.assign({numeroButtonData:[],musicButtonData:[],drawButtonsData:[],numeroButtonActiveValue:null}),d.sendUbcLog("click","search_kuang",{pos:"title_hover"})}),d.chatInputInstance.on("focus",function(){var t=d.data.get("isPCSingleFileSample"),e=d.data.get("isHome");t||e||(d.data.set("activeFile",!0),t||d.chatInputInstance.setPrefixNodeStatus(!1))}),d.chatInputInstance.on("blur",function(){d.chatInputInstance.stopVoiceRecording();var t=d.data.get("isPCSingleFileSample"),e=d.data.get("isHome");t||e||(d.data.set("activeFile",!1),t||d.chatInputInstance.setPrefixNodeStatus(!0))}),d.chatInputInstance.on("ai-tool-change",function(t){t=null==t?void 0:t.panelType;t||d.data.assign({numeroButtonData:[],musicButtonData:[],drawButtonsData:[],numeroButtonActiveValue:null}),d.data.set("openPanelType",t)}),d.chatInputInstance.on("toast",function(t){d.showToast({message:t})}),d.chatInputInstance.on("drag-show",function(){d.sendUbcLog("show","drag_status",{file_status:d.getInputStats(),is_log:window.s_session.isLogin?"1":"0"})}),d.chatInputInstance.on("drag-done",function(t){t=t.fileSuffix;d.sendUbcLog("show","drag_finish_status",{file_type:t,is_log:window.s_session.isLogin?"1":"0"})}),d.chatInputInstance.on("paste-file",function(t){t=t.fileSuffix;d.sendUbcLog("click","copy_finish_status",{file_type:t,is_log:window.bds.comm.isUserLogin?"1":"0"})}),d.chatInputInstance.on("threshold",function(t){d.showToast({message:"最多发送"+t+"字符内容"})}),d.chatInputInstance.on("panel-render",function(t){d.sendPerfSpyLog(d.__startClickPanelTime,"panelRenderTime");var e=d.data.get("isPCSingleFileSample");d.data.set("prefixContent",t.type),d.data.set("isAiPanelSearch",!0),d.resetMic(!1),"ai_chat"!==t.type&&"ai_read"!==t.type&&(d.data.set("isShowFileUpload",!1),e&&d.data.set("fileList",[]))}),d.chatInputInstance.on("input",function(t){"ai"!==d.chatInputInstance.getMode()&&((0,w.$)("#kw").val(t),d.calculateStrIsOverWord(t)?d.data.set("isOverWord",!0):d.data.set("isOverWord",!1),d.nextTick(function(){t&&d.checkSupportIs()}),t||(d.data.assign({voiceInputComplete:!1,hasUsedVoiceInput:!1}),window.bds.comm.isVoice=!1))}),d.chatInputInstance.on("panel-item-click",function(k){return(0,C.__awaiter)(d,void 0,void 0,function(){var n,i,o,a,r,s,l,u,c,p,d,h,f,g,m,v,b,w,y,x,_,S=this;return(0,C.__generator)(this,function(t){switch(t.label){case 0:if(s=k.functionTab,n=void 0===s?"all":s,i=k.functionName,o=k.buttonProperty,a=k.text,m=k.fileInfo,x=k.functionData,r=k.clickType,s=this.chatInputInstance.getCurrentPanelName(),"link"===(null==x?void 0:x.type))return window.location.href=null===(x=null===(x=x.data)||void 0===x?void 0:x.link)||void 0===x?void 0:x.url,[2];if(this.sendUbcLog("click","function_panel",{function_tab:n,function_name:i}),"ai_read"===s&&this.data.set("fileList",[]),o&&this.data.set("musicButtonActiveValue",o),this.chatInputInstance.addAiInputContent(k),"photo_editing"===s&&"pic-tool"===r&&this.ref("drawButton").handleDrawButtonsSettings({type:"change",drawStyle:{style:a}}),"ai_read"!==s||null==m||!m.file_path)return[3,3];l=function(t){var e=(S.data.get("fileList")||[])[0];return(null==e?void 0:e.filePath)===(null==t?void 0:t.filePath)?e:{}},clearTimeout(this.mockReadProgressTimer),u={};try{for(c=(0,C.__values)(Object.entries(m)),p=c.next();!p.done;p=c.next())d=(0,C.__read)(p.value,2),h=d[0],f=d[1],g=h.replace(/_([a-z])/g,function(t,e){return e.toUpperCase()}),u[g]=f}catch(e){w={error:e}}finally{try{p&&!p.done&&(y=c["return"])&&y.call(c)}finally{if(w)throw w.error}}return m=[(0,C.__assign)((0,C.__assign)({},u),{fileSize:Number(u.fileSize),status:1,fileType:(0,T.getFileType)(u.fileName),uploadType:u.fileType,progress:0})],this.data.set("fileList",m),this.mockReadProgressTimer=setTimeout(function(){var t=l(u);1===t.status&&(S.data.set("fileList",[(0,C.__assign)((0,C.__assign)({},t),{progress:+(.3*Math.random()+.2).toFixed(2)})]),S.mockReadProgressTimer=null)},100),[4,T.UploadFile.create({type:u.fileType,maxSize:50,token:this.getToken(),sseHost:I})];case 1:return b=t.sent(),v={id:E["default"].encode((null===(_=u.filePath)||void 0===_?void 0:_.split("/").pop())||""),name:u.fileName,path:u.filePath,size:Number(u.fileSize),type:u.fileType,rw:"1"},[4,b.getUploadData(v,this.getToken())];case 2:_=t.sent().data,v=_.id,b=_.file_url,_=_.recommend_word,b=[(0,C.__assign)((0,C.__assign)({},u),{fileId:v,status:2,url:b,uploadType:u.fileType,fileSize:Number(u.fileSize),fileType:(0,T.getFileType)(u.fileName)})],1===l(u).status&&(_&&this.data.set("fileGuideWords",this.handleFileGuideWords(u.fileType,_)),this.data.set("fileList",b)),t.label=3;case 3:return[2]}})})}),d.chatInputInstance.on("panel-item-upload",d.handleClickUploadFile.bind(d)),d.chatInputInstance.on("prefix-file-click-delete",function(){d.handleFileContainerLog({type:"click",value:"file_clear"}),d.handleFileRemove()}),d.chatInputInstance.on("prefix-file-back-delete",function(){d.data.set("fileList",[])}),d.chatInputInstance.on("prefix-back-delete",function(){d.data.set("numeroButtonData",[]),d.data.set("musicButtonData",[]),d.data.set("drawButtonsData",[])}),d.chatInputInstance.on("clear",function(){d.data.set("isOverWord",!1),d.sendUbcLog("click","content_clear"),d.data.assign({voiceInputComplete:!1,hasUsedVoiceInput:!1}),window.bds.comm.isVoice=!1}),d.chatInputInstance.on("click",function(t){t=(null==t?void 0:t.value)||"";d.sendUbcLog("click","search_kuang",{query:t,is_query_over:d.calculateStrIsOverWord(t)?"1":"0",pos:"searchbox"})}),d.chatInputInstance.on("submit",d.handleSubmit.bind(d)),d.chatInputInstance.on("submit",function(){d.sendCountSpyLog({submit_click:1})}),d.chatInputInstance.on("voice-input-start",function(){window.bds.comm.isVoice=!0;var t=d.chatInputInstance.getValue();d.sendUbcLog("click","search_kuang",{pos:"voice",query:t,is_query_over:d.calculateStrIsOverWord(t)?"1":"0",voice_time:0,voice_content:"",button_goal_status:"open",file_status:d.getInputStats(),aisou_btn:d.data.get("isAiSearch")?"1":"0"}),d.data.assign({voiceInputComplete:!1,isVoiceRecording:!0,hasUsedVoiceInput:!0})}),d.chatInputInstance.on("voice-input-recognized",function(){window.bds.comm.isVoice=!0}),d.chatInputInstance.on("voice-input-complete",function(t){var e=t.content,n=t.duration,t=d.chatInputInstance.getValue();d.sendUbcLog("click","search_kuang",{pos:"voice",query:t,is_query_over:d.calculateStrIsOverWord(t)?"1":"0",voice_time:n,voice_content:e,button_goal_status:"close",file_status:d.getInputStats(),aisou_btn:d.data.get("isAiSearch")?"1":"0"}),d.data.assign({voiceInputComplete:!0,isVoiceRecording:!1})}),p&&(l=p.querySelector(".tools-clear-icon"),u=l.classList.contains("show-clear-icon"),l&&new MutationObserver(function(t){var e,n;try{for(var i=(0,C.__values)(t),o=i.next();!o.done;o=i.next()){var a,r=o.value;"attributes"!==r.type||"class"!==r.attributeName||(a=l.classList.contains("show-clear-icon"))!==u&&(u=a)&&d.sendUbcLog("show","content_clear")}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(e)throw e.error}}}).observe(l,{attributes:!0,attributeFilter:["class"]}),d.watch("isAiSearch",function(t){var e,n,i=p.querySelector("#chat-textarea");i&&!d.data.get("jumpDsBtnSample")&&(i=t?null!==(e=i.dataset.aiPlaceholder)&&void 0!==e?e:"":null!==(n=i.dataset.normalPlaceholder)&&void 0!==n?n:"",n=d.data.get("guideWordPrefix"),d.chatInputInstance.setPlaceHolder(t&&n?n+i:i),d.resetMic(!t))}),d.watch("prefixContent",function(t,e){var n=e.oldValue,e=e.newValue.trim(),n=n.trim();"ai_read"===e?d.data.set("activeFile",!0):e?d.data.set("activeFile",!1):n&&d.data.set("activeFile",!0)}),d.watch("curUploadType",function(t){var e=d.data.get("isPCSingleFileSample");d.updatePanelExternalProps({curUploadType:e?"":t})}),d.watch("fileList",function(t,e){var n=e.oldValue,i=e.newValue;d.data.get("isPCSingleFileSample")||n.length===i.length||(e=d.data.get("fileReady"),i.length&&d.chatInputInstance.renderAiInputFilePrefix(i[0],i.length,2!==e),n.length&&!i.length&&(d.chatInputInstance.deletePrefixFile(),d.chatInputInstance.getCurrentPanelName()||(i=d.chatInputInstance.getValue(),d.calculateStrIsOverWord(i)&&d.data.set("isOverWord",!0))))}),(a=(0,w.$)("#chat-input-main")).length&&a.on("homepredict",function(){d.chatInputInstance.setInitalRow(1),d.data.set("isHome",!1),d.data.set("initialRow",1)}),t=(0,w.$)('[tpl="ai-tools-panel"]'),e=(0,w.$)('[tpl="dashboard"]'),n=t.length||e.length?72:0,i=p.querySelector(".chat-input-container"),o=document.querySelector("#head_wrapper"),a=document.querySelector(".smart_input_height_superman"),r=!0,s=t.length||e.length?"24%":a?"35%":"39%",i&&"undefined"!=typeof ResizeObserver&&o&&(null!=(c=new ResizeObserver(function(){var t;null!==(t=null===(t=window.bds)||void 0===t?void 0:t.comm)&&void 0!==t&&t.ishome&&!r&&(t=i.clientHeight+(d.data.get("newInputStyle")?2:3),d.data.set("rootHeight",t),o.style.height="calc("+s+" + "+(t+n)+"px)",o.style.setProperty("--input-height",t+"px")),r=!1}))&&c.observe(i),d.data.set("ro",c)),"normal"!==d.chatInputInstance.getMode()||(c=(0,w.$)("#main-wrapper")).length&&c.trigger("smartInputRerender"),d.watch("isShowOverWordTip",function(t){t&&d.sendUbcLog("show","long_query_toast",{query:d.chatInputInstance.getValue()},!0)}),d.getShowMoreGuide(),d.sendUbcLog("show","deepsearch_btn",{aisou_text:d.data.get("buttonText.text")}),d.watch("musicPlaceHolder",function(t){var e;0===d.chatInputInstance.getValue().length&&null!==(e=d.chatInputInstance)&&void 0!==e&&e.setPlaceHolder(t)}))}),this.setBorderAnimationInfo(),this.calcTimeToFirstInteraction()},_.prototype.calcTimeToFirstInteraction=function(){var t=(null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation")[0])||null,e=t?t.type:"unknown",t=t?t.startTime:0;this.sendPerfSpyLog(t,"ttfi",{navEntrySource:e},.05)},_.prototype.error=function(t){this.sendExceptSpyLog(t)},_.prototype.spySend=function(t){var e,t="https://sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a/mwb2.gif?"+["pid=19_103","lid="+((null===(e=window.s_session)||void 0===e?void 0:e.qid)||""),"ts="+Date.now(),"type="+t.type,"group="+t.group,"info="+encodeURIComponent(JSON.stringify(t.info)),"dim="+encodeURIComponent(JSON.stringify(t.dim||{})),"extra="+encodeURIComponent(JSON.stringify(t.extra))].join("&");navigator.sendBeacon&&navigator.sendBeacon(t)||((new Image).src=t)},_.prototype.sendPerfSpyLog=function(t,e,n,i){var o,a;void 0===n&&(n={}),void 0===i&&(i=.1);try{var r=performance.now();if(Math.random()>=i&&!t)return;this.spySend({type:"perf",group:"chatinput_perf",info:((o={})[e]=(r-t).toFixed(2),o),dim:(0,C.__assign)({type:null===(a=this.chatInputInstance)||void 0===a?void 0:a.getCurrentPanelName(),from:"home"},n)})}catch(s){console.warn(s)}},_.prototype.sendCountSpyLog=function(t,e){void 0===e&&(e={});try{if(.0625<=Math.random())return;this.spySend({type:"count",group:"chatinput_count",info:t,extra:e})}catch(n){console.warn(n)}},_.prototype.sendExceptSpyLog=function(t){try{this.spySend({type:"except",group:"chat_input_js_error",info:{msg:"string"==typeof t?t:t.message,stack:(t.stack||"").split("\n").slice(0,5).join("\n"),pageUrl:location.href}})}catch(e){console.warn(e)}},_.prototype.setBorderAnimationInfo=function(){var t=this.ref("ai-search-btn");t&&(this.data.set("aiSearchWidth",t.offsetWidth),this.data.set("aiSearchHeight",t.offsetHeight))},_.prototype.getShowMoreGuide=function(){var t=this.data.get("hiddenButtons");this.data.set("showGuideClass",t.some(function(t){if(t.guide)try{var e=localStorage.getItem(u.INPUT_PANEL_BTN_CLICKED_GUIDE),n=e&&JSON.parse(e)||{};return!e||!n[t.type]}catch(err){return console.warn(err),!1}return!1})?"guide":"")},_.prototype.getToken=function(){var t=+new Date,e=(null===(n=window.s_session)||void 0===n?void 0:n.qid)||"",n=this.data.get("token");return btoa(n+"||"+t+"|"+e)+"-"+e},_.prototype.handlePopState=function(){var t;try{var e=new URL(location.href).searchParams,n=e.get("wd")||e.get("word");this.chatInputInstance.getValue()||(null!==(t=this.chatInputInstance)&&void 0!==t&&t.closeSugUpdate(),this.chatInputInstance.setValue(n))}catch(err){console.warn(err)}},_.prototype.disposed=function(){var t;this.tipTimer=null,window.removeEventListener("popstate",this.handlePopStateCallback);var e=this.data.get("ro");null!==(t=null==e?void 0:e.disconnect)&&void 0!==t&&t.call(e)},_.prototype.getInputStats=function(){var t=this.data.get("fileList"),e=Array.isArray(t)&&0<t.length,n=e&&"image"===t[0].uploadType,t=this.chatInputInstance.getValue();return e&&t?n?"text_pic":"text_file":e?n?"pic":"file":t?"text":"blank"},_.prototype.checkSupportIs=function(){var t,e;null!==(t=null===(e=window.bds)||void 0===e?void 0:e.comm)&&void 0!==t&&t.supportis&&!(0,w.$)("#wrapper").hasClass("smart_input_superman")&&(this.data.set("isShowOpenningAnime",!1),this.data.set("rootHeight",0),null!==(t=null==(e=this.data.get("ro"))?void 0:e.disconnect)&&void 0!==t&&t.call(e),this.data.set("ro",null))},_.prototype.calculateStrIsOverWord=function(t){for(var e=t.length,n=0,i=0;i<e;i++)if(30<=(n=null!==t.charAt(i).match(/[^\x00-\xff]/gi)?n+2:n+1))return!0;return!1},_.prototype.handleAddInputContent=function(t){var e=this.chatInputInstance.getValue();this.chatInputInstance.addAiInputContent({word:(e?"，":"")+t.word,noClear:!0})},_.prototype.gotoChat=function(t){var i=this,e=t.query,n=t.sseQuery,o=t.hasImage,a=t.hasFile,r=t.isEdit,s=t.guideSa,l=void 0===s?"":s,u="aiinput_longq",c="aiinput_longq",p=this.chatInputInstance.getFunctionInfo(),t=p.functionType,s=p.functionName,p=void 0===s?"":s,s={ai_chat:"aidialog",ai_ppt:"ppt",office_create:"office",photo_editing:"pic",ai_read:"read",ai_code:"aicode",deep_research:"deepresearch",ai_numerology:"yunshi",ai_music_create:"music"}[t];s?c=(u="functab_"+s)+((d=p.replace(/_([a-zA-Z])/g,function(t,e){return e.toUpperCase()}))?"_"+d:"")+"_edit":this.data.get("isAiSearch")?(u="aiinput_askai",c=this.data.get("jumpDsBtnSample")?r?"aiinput_aiaskedit":"aiinput_aiaskdefaultq":"aiinput_askai"):o?(u="aiinput_duomo_pic",c=l?"aiinput_duomo_pic_"+l:"aiinput_duomo_pic"):a&&(c=u="aiinput_duomo_file");s=this.data.get("hasUsedVoiceInput");s&&(u="aiinput_voice",c="bvoice_home_aiinput");p={};this.data.get("isAiSearch")&&(p={modelName:"smartMode",modelFunction:{deepSearch:"1"}});var d={},r=this.data.get("numeroButtonActiveValue");this.isEmptyObject(r)||(d=r.reduce(function(t,e){var n;return"birthday"===e.optionType?t[e.optionType]=i.extractDateFromDateTime(e.value):"birthplace"===e.optionType?(n=null===(n=i.data.get("numeroButtonData").find(function(t){return"birthplace"===t.optionType}))||void 0===n?void 0:n.data[0],t[e.optionType]=n.selectedCities):t[e.optionType]=e.value,t},{}));var h=(null===(r=this.ref("drawButton"))||void 0===r?void 0:r.getDrawInfo())||{},f=Object.keys(h).reduce(function(t,e){return t[e]=h[e].text,t},{});e+=Object.keys(f).filter(function(t){return f[t]}).map(function(t){return"style"===t?"，图片风格为"+f[t]:"，比例"+f[t]}).join("");try{var g=JSON.parse(localStorage.getItem("HIS_AI_LIST")||"[]");e.length<40&&!o&&!a&&(g.push({kw:e,time:Math.round((new Date).getTime()/1e3),aiflag:1}),localStorage.setItem("HIS_AI_LIST",JSON.stringify(g))),(o||a)&&this.data.get("aiHisSample")&&""===e&&n.push({data:{text:{query:o?"解读图片":"总结文档"}},type:"TEXT"})}catch(m){console.error(m)}c=(0,C.__assign)({enter_type:"home_"+u},e||n.length?{sa:s?c:"home_"+c}:{});"guideq_similarpic"===l&&(c.searchInfo={interactive_type:19}),location.href=I+"/search?word="+encodeURIComponent(e)+(e||0!==n.length?"":"&isShowHello=1")+"&extParamsJson="+encodeURIComponent(JSON.stringify(c))+(p?"&usedModel="+encodeURIComponent(JSON.stringify(p)):"")+(0!==n.length?"&fileInfo="+encodeURIComponent(JSON.stringify(n)):"")+(x[t]?"&openInputMode="+x[t]:"")+(d?"&numeroData="+encodeURIComponent(JSON.stringify(d)):"")},_.prototype.isEmptyObject=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},_.prototype.extractDateFromDateTime=function(t){if(!t||"string"!=typeof t)return"";var e=t.split("-");return 3<=e.length?e[0]+"-"+e[1]+"-"+e[2]:t},_.prototype.checkAnime=function(){try{var t="INPUT_ANIME_LAST_SHOWN_DATE",e=(new Date).toISOString().split("T")[0];localStorage.getItem(t)!==e&&(this.data.set("isShowOpenningAnime",!0),localStorage.setItem(t,e))}catch(err){console.warn(err)}},_.prototype.resetMic=function(t){window.__supportvoice&&(this.data.set("isShowMic",t),(0,w.$)("#smart-input-mic").css("display",t?"block":"none"))},_.prototype.resetStatus=function(){this.data.set("prefixContent",""),this.data.set("isAiSearch",!1),this.resetMic(!0),this.data.set("isAiPanelSearch",!1),this.data.set("isShowFileUpload",!0),this.data.set("isOverWord",!1),this.data.set("linkOptions",{})},_.prototype.handleClickAiSearch=function(t){null!=t&&t.stopPropagation();var e,n=this.chatInputInstance.getValue(),t=!this.data.get("isAiSearch");this.sendUbcLog("click","deepsearch_btn",{aisou_btn:t?"1":"0",aisou_text:this.data.get("buttonText.text"),searchkuang_content_type:n?"input_q":"default_q"}),this.data.set("isAiSearch",t),this.data.get("jumpDsBtnSample")?(e=(null==(e=document.querySelector("#chat-textarea"))?void 0:e.dataset.normalPlaceholder)||"",e=n&&n.slice(0,1e3)||e,this.handleSubmit(e,"",!1,{},!1)):(null!==(e=this.chatInputInstance)&&void 0!==e&&e.setFocus(),this.resetMic(!t))},_.prototype.handleDeepsearchHover=function(){this.sendUbcLog("show","aisou_hover",{aisou_text:this.data.get("buttonText.text")})},_.prototype.handleFileContainerLog=function(t){var e=this.chatInputInstance.getCurrentPanelName();this.sendUbcLog(t.type,t.value,{area:e||"blank",aisou_btn:!e&&this.data.get("isAiSearch")?"1":"0"})},_.prototype.handleFileRemove=function(t){var e,n=this;t?this.data.remove("fileList",t):this.data.set("fileList",[]),this.data.get("fileList").length||(this.chatInputInstance.getCurrentPanelName()?this.chatInputInstance.resetPanelStatus():(e=this.chatInputInstance.getValue(),this.chatInputInstance.reset(),this.chatInputInstance.resetPanelStatus(),this.chatInputInstance.setValue(e),setTimeout(function(){n.calculateStrIsOverWord(e)&&n.data.set("isOverWord",!0)})))},_.prototype.handleFileLog=function(){var t=this.chatInputInstance.getValue(),e=this.data.get("curUploadType"),n=this.data.get("fileList");return t?0===n.length?"text":"image"===e?"text_pic":"text_file":0===n.length?"blank":"image"===e?"pic":"file"},_.prototype.handleClickUploadFile=function(p,o,a,d){var h;return void 0===a&&(a=""),(0,C.__awaiter)(this,void 0,void 0,function(){var r,s,l,u,e,n,i,c=this;return(0,C.__generator)(this,function(t){switch(t.label){case 0:return(null!==(h=null==d?void 0:d.stopPropagation)&&void 0!==h&&h.call(d),this.chatInputInstance.stopVoiceRecording(),(i=(0,w.$)('.result-molecule[tpl="app/chat-input"]')).length&&i.trigger("duomo-btn-click",{uploadType:p,uploadFile:o}),this.sendUbcLog("click","search_kuang",{pos:"file"===p?p:"pic",query:this.chatInputInstance.getValue(),is_query_over:this.calculateStrIsOverWord(this.chatInputInstance.getValue())?"1":"0",file_status:this.handleFileLog()}),e=this.data.get("fileList")||[],n=this.data.get("curUploadType"),r=this.data.get("uploadFileMaxNum"),s=this.data.get("isPCSingleFileSample"),i=!1,"readUpload"===a?i=!(n&&n!==p):"dragOrPasteUpload"===a&&(i=!0),!s&&n&&n!==p)?(i&&this.showToast({message:"暂不支持文件、图片混合上传"}),[2]):!s&&e.length>=r?(i&&this.showToast({message:"file"===n?"上传文件最多支持"+r+"个":"上传图片最多支持"+r+"个"}),[2]):(l=+new Date,e=((u=null)===(h=this.data.get("fileList"))||void 0===h?void 0:h.length)||0,i=function(t){var e,n=t.status,i=t.fileInfo,o=t.progress,t=t.recommendWord,a=c.data.get("fileList");n===T.UploadStatus.INIT?(s&&r<=y.length&&(y.shift(),c.data.shift("fileList"),a.shift()),e=!1,y.forEach(function(t){t.timeStamp===l&&(e=!0)}),e||(y.push({uploadFileIns:u,timeStamp:l}),c.chatInputInstance.fileUpLoadInput(),c.resetMic(!1)),i&&a.push({status:T.UploadStatus.UPLOADING,fileToken:i.fileToken,timeStamp:l,fileName:i.fileName,uploadType:p,fileType:(0,T.getFileType)(i.fileName),fileSize:i.fileSize,progress:o,fileId:i.fileId})):n===T.UploadStatus.STSSUCCESS?(a.forEach(function(t,e){t.fileToken===(null==i?void 0:i.fileToken)&&(a[e].status=n,a[e].progress=o)}),t&&c.data.set("fileGuideWords",c.handleFileGuideWords(p,t))):n===T.UploadStatus.UPLOADING?(c.__startUploadTime=null===performance||void 0===performance?void 0:performance.now(),a.forEach(function(t,e){t.fileToken===(null==i?void 0:i.fileToken)&&(a[e].status=n,a[e].progress=o)})):n===T.UploadStatus.NOT_AVAILABLE?c.showToast({message:"暂不支持此格式，换个文件试试"}):n===T.UploadStatus.BOS_SUCCESS?(a.forEach(function(t,e){t.fileToken===(null==i?void 0:i.fileToken)&&(a[e].progress=o,a[e].status=n,a[e].url=null==i?void 0:i.fileUrl,a[e].fileId=null==i?void 0:i.fileId,a[e].filePath=null==i?void 0:i.filePath)}),c.sendPerfSpyLog(c.__startUploadTime,"uploadTime"),c.handleFileContainerLog({type:"show",value:"file_icon"})):n===T.UploadStatus.NETWORK_ERROR?(a.forEach(function(t,e){t.fileToken===(null==i?void 0:i.fileToken)&&(a[e].status=n)}),c.showToast({message:"网络错误，请重试"})):n===T.UploadStatus.RISK_DENY?(c.showToast({message:"当前文件暂不支持，换个文件试试吧"}),s?(y.pop(),c.data.shift("fileList")):c.splitItemFromFileList(a,null==i?void 0:i.fileToken)):n===T.UploadStatus.FILE_SIZE_EXCEED_LIMIT?(c.showToast({message:"file"===p?"文件超过50M，请重新选择后上传":"图片超过10M，请重新选择后上传"}),s&&(y.pop(),c.data.shift("fileList"))):n===T.UploadStatus.FILE_SIZE_BELOW_LIMIT?(c.showToast({message:"当前文件暂不支持，换个文件试试吧"}),s&&(y.pop(),c.data.shift("fileList"))):n===T.UploadStatus.FILE_NUM_EXCEED_LIMIT?s||c.showToast({message:"file"===p?"上传文件最多支持"+r+"个":"上传图片最多支持"+r+"个"}):n===T.UploadStatus.FILE_REUPLOAD?s&&(y.pop(),c.data.shift("fileList")):c.data.set("isFileUploading",!1);t=JSON.parse(JSON.stringify(a));c.data.set("fileList",t),c.data.get("isHome")||(n===T.UploadStatus.INIT?c.chatInputInstance.renderAiInputFilePrefix(c.data.get("fileList")[0],c.data.get("fileList").length,!1):n!==T.UploadStatus.BOS_SUCCESS&&n!==T.UploadStatus.NETWORK_ERROR||2!==c.data.get("fileReady")&&c.chatInputInstance.renderAiInputFilePrefix(c.data.get("fileList")[0],c.data.get("fileList").length,!0))},n=(null===(h=window.s_session)||void 0===h?void 0:h.qid)||"",i={type:p,maxSize:50,maxNum:s?1:r-e,token:btoa(this.data.get("token")+"||"+l+"|"+n)+"-"+n,callback:i,sseHost:I},"image"===p&&(i.maxSize=10),[4,T.UploadFile.create(i)]);case 1:return u=t.sent(),(o?u.uploadFiles(o):u.getFile())["catch"](function(){}),[2]}})})},_.prototype.handleLinkClick=function(){var t=this,e=this.data.get("linkOptions")||{};this.chatInputInstance.addAiInputContent({inputCustom:(null===(e=null===(e=e["function"])||void 0===e?void 0:e.input)||void 0===e?void 0:e.input_custom)||[]}),this.nextTick(function(){t.data.set("fileList",[])})},_.prototype.showToast=function(t){var e=t.message,t=t.duration,t=void 0===t?2e3:t;this.data.set("toastMsg",e),this.data.set("toastDuration",t),this.ref("toast").show()},_.prototype.handlePanelBtnShow=function(t){var e=t.value,t=t.ext;this.sendUbcLog("show",e,t)},_.prototype.handleMoreMenuShow=function(){var e=this;this.data.get("hiddenButtons").forEach(function(t){e.ref("more-btn-"+t.type)&&e.ref("more-btn-"+t.type).sendShowLog()})},_.prototype.updatePanelExternalProps=function(t){this.chatInputInstance&&this.chatInputInstance.getCurrentPanelName()&&this.chatInputInstance.updatePanelData(t)},_.prototype.handleFileClick=function(n){var t=this.data.get("isPCSingleFileSample");n.status===T.UploadStatus.NETWORK_ERROR&&(t?this.data.set("fileList",[]):this.data.remove("fileList",n),y.forEach(function(t){var e;t.timeStamp===n.timeStamp&&null!==(e=t.uploadFileIns)&&void 0!==e&&e.reTryUpload(n.fileToken)}))},_.prototype.handleFileGuideWords=function(t,e){var n="file"===t?0:1,t=e.find(function(t){return t.type===n}),e=t.limit,t=t.textsInfo;return t&&e&&t.slice(0,e)},_.prototype.handleClickOverwordSubmit=function(){var t=this;this.nextTick(function(){t.chatInputInstance.getInputEl().blur()}),this.sendUbcLog("click","long_query_toast",{query:this.chatInputInstance.getValue()},!0);var e=this.chatInputInstance.getValue();this.handleSubmit(e,"",!1)},_.prototype.appendAiMusicQuery=function(t){var e=this.data.get("musicButtonActiveValue")||{},n="请帮我生成音乐：",i=null===(o=e.musicStyle)||void 0===o?void 0:o.text,o=null===(a=e.timbre)||void 0===a?void 0:a.text,a=[];i&&a.push("曲风为“"+i+"”"),o&&a.push("音色为“"+o+"”");a=a.join("，");return"自定义歌词"===(null===(e=null===e?void 0:e.wordMethod)||void 0===e?void 0:e.text)?a?n+a+"。\n歌词：\n"+t:n+"\n歌词：\n"+t:a?n+t+"。"+a+"。":n+t+"。"},_.prototype.handleSubmit=function(t,e,n,i,o,a){var r=this;void 0===n&&(n=!0),void 0===i&&(i={}),void 0===o&&(o=!0),void 0===a&&(a="");var s=(null===(l=this.ref("numeroButton"))||void 0===l?void 0:l.getNumeroInfo())||{};if(this.data.set("numeroButtonActiveValue",s),s&&0<Object.keys(s).length&&(t||(t+="测测我的今日运势"),t+=s.filter(function(t){return t.type!==t.text}).map(function(t){var e=null==t?void 0:t.text;return"出生日"===t.type&&(e=r.extractDateFromDateTime(t.text)),"，"+t.type+"为"+e}).join("")),"ai_music_create"===this.chatInputInstance.getCurrentPanelName()){if(t.length<5)return void this.showToast({message:"最少输入5个字"});t=this.appendAiMusicQuery(t)}var l=!1;if("ai"===this.chatInputInstance.getMode()){var u=(u=this.data.get("fileList")).filter(function(t){return 2===t.status}),s=this.data.get("fileReady"),c="";if(2===s?c="文件上传中":t||3!==s||u.length||(c="请输入你的问题"),c)return void this.showToast({message:c});var p=t.slice(0,1e3),c=this.data.get("sendFileStatus"),d=!1,h=!1,f=[];c&&0<u.length&&(f=u.map(function(t){var e,n,i=t.uploadType;return"image"===i?d=!0:"file"===i&&(h=!0),{type:null==i?void 0:i.toUpperCase(),data:((e={})[i]=(0,C.__assign)(((n={})[i+"_url"]=t.url,n[i+"_id"]=t.fileId,n),"file"===i?{file_name:t.fileName,file_type:t.fileType,file_size:t.fileSize}:{}),e)}})),p&&0!==(null==f?void 0:f.length)&&f.unshift({data:{text:{query:p}},type:"TEXT"}),"sug"===e&&this.chatInputInstance.hideSug(!0),setTimeout(function(){r.gotoChat({query:p,sseQuery:f,hasImage:d,hasFile:h,isEdit:0!==f.length,guideSa:a})},50)}else{var c=document.querySelector("#chat-textarea"),u=(null==c?void 0:c.dataset.normalPlaceholder)||"";if(this.data.get("isAiSearch")||!n&&this.calculateStrIsOverWord(t)){n=t&&t.slice(0,1e3)||u;return"sug"===e&&this.chatInputInstance.hideSug(!0),void this.gotoChat({query:n,sseQuery:[],hasImage:!1,hasFile:!1,isEdit:n!==(null==c?void 0:c.dataset.normalPlaceholder)})}!t&&u&&(l=!0),t=(t=t||u).slice(0,100),(0,w.$)("#kw").val(t),t===u&&(null!==(u=this.chatInputInstance)&&void 0!==u&&u.closeSugUpdate(),this.chatInputInstance.setValue(t)),window.bds.comm.isVoice=this.data.get("hasUsedVoiceInput"),(0,w.$)("#form").trigger("submit"),this.checkSupportIs(),this.data.set("hasUsedVoiceInput",!1)}o&&this.sendUbcLog("click","search_kuang",(0,C.__assign)({query:t,is_query_over:this.calculateStrIsOverWord(t)?"1":"0",pos:e,is_default_q:"enter"!==e&&"se_btn"!==e||!l?"0":"1"},i))},_.prototype.handleClickPanelBtn=function(t){var i=this;this.__startClickPanelTime=null===performance||void 0===performance?void 0:performance.now();var o,a=t.panel,e=t.pos,n=t.content,t=t.area;this.nextTick(function(){i.getShowMoreGuide()}),this.sendUbcLog("click","ai_search"===a.type?"home_operate":"capsule_bub",{function_type:a.type,function_pos:e,pos:e,content:n,area:t}),a.url||("photo_editing"!==a.type&&this.data.set("drawButtonsData",[]),"ai_numerology"!==a.type&&(this.data.set("numeroButtonData",[]),this.data.set("numeroButtonActiveValue",null)),"ai_music_create"!==a.type&&(this.data.set("musicButtonData",[]),this.data.set("musicButtonActiveValue",null)),o={curUploadType:this.data.get("isPCSingleFileSample")?"":this.data.get("curUploadType")},"ai_chat"!==a.type?w.$.ajax({url:I+"/aichat/api/getChatTools?type="+a.type,type:"GET",data:"",headers:{"Content-Type":"application/json"},traditional:!0,xhrFields:{withCredentials:!0},success:function(t){var e,n;i.sendPerfSpyLog(i.__startClickPanelTime,"panelFetchTime"),t&&0===t.status&&(e=(null==t?void 0:t.data)||{},n=(null===(t=null===(t=e.jump_panel)||void 0===t?void 0:t.data)||void 0===t?void 0:t[e.type])||{},i.nextTick(function(){i.data.set("numeroButtonData",e.numerologyOptions||[]),i.data.set("musicButtonData",e.musicOptions||[]),i.data.set("drawButtonsData",e.pictureOptions||[]),i.data.set("linkOptions",n.bottom_bar||{})}),Object.assign(n,{"function":e["function"]}),i.chatInputInstance.openAiPanel((0,C.__assign)((0,C.__assign)({},a),{type:e.type}),n,o))}}):this.chatInputInstance.openAiPanel(a))},_.prototype.handleFileQuery=function(t){var e=t.query,n=t.index,i=t.sa,t=this.data.get("curUploadType");this.handleSubmit(e,"file"===t?"file_guide_word":"pic_guide_word",!0,{order:n+1,title:e},!0,i)},_.prototype.splitItemFromFileList=function(t,e){for(var n=t.length-1;0<=n;n--)t[n].fileToken===e&&t.splice(n,1)},_.prototype.handleAddFileLog=function(t){var e=t.type,n=t.value,t=t.ext;this.sendUbcLog(e,n,void 0===t?{}:t)},_.prototype.sendUbcLog=function(t,e,n,i){var o;void 0===n&&(n={}),void 0===i&&(i=!1);var a=((null===(a=this.chatInputInstance)||void 0===a?void 0:a.getStatusInfo())||{}).panelName,a=(0,C.__assign)((0,C.__assign)({},i?{}:{function_type:a}),n);"click"===t?null!==(n=w.F.ubc)&&void 0!==n&&n.sendClickLog(e,a):"show"===t?null!==(o=w.F.ubc)&&void 0!==o&&o.sendShowLog(e,a):null!==(o=w.F.ubc)&&void 0!==o&&o.sendLog(t,e,a)},_.prototype.showAiBtnHover=function(){var t=this.ref("border-animation");t&&t.showHover()},_.prototype.hideAiBtnHover=function(){var t=this.ref("border-animation");t&&t.hideHover()},_.prototype.initSpyCountLogListener=function(){var t,i=this;this.__spyHandler=function(t){var e,n;null!=t&&t.isTrusted&&(e=null,!(e=(t=t.target)instanceof Element?(null===(n=t.closest)||void 0===n?void 0:n.call(t,"[data-spy-count]"))||null:e)||(n=e.getAttribute("data-spy-count"))&&i.sendCountSpyLog(((e={})[n]=1,e)))},null!==(t=this.el)&&void 0!==t&&t.addEventListener("click",this.__spyHandler,{capture:!0})},_.prototype.detached=function(){var t;null!==(t=this.el)&&void 0!==t&&t.removeEventListener("click",this.__spyHandler,{capture:!0}),this.__spyHandler=null},_.trimWhitespace="all",_.components={"chat-input":a["default"],"panel-btn":u["default"],"file-container":s["default"],"file-guide":l["default"],"d-tooltip":c["default"],"d-toast":p["default"],"animation-video":d["default"],"drop-down-btn":v["default"],"border-animation-svg":b["default"],"cs-numero-button":h["default"],"cs-music-button":g["default"],"cs-draw-button":m["default"]},_.messages={"ui:input-delete-file":function(t){this.handleFileRemove(t.value)},"ui:input-file-click":function(t){this.handleFileClick(t.value)},"ui:input-upload":function(t){var e=this.data.get("curUploadType");this.sendUbcLog("click","file"===e?"file_add":"photo_add",{}),this.handleClickUploadFile(t.value)}},_.computed={isShowOverWordTip:function(){var t=this.data.get("fileList"),e=this.data.get("isOverWord"),n=this.data.get("isAiSearch"),i=this.data.get("isVoiceRecording");return!n&&e&&0===t.length&&!i},fileReady:function(){var t,e,n=this.data.get("fileList")||[],i=Number(!!n.length);try{for(var o=(0,C.__values)(n),a=o.next();!a.done;a=o.next()){var r=a.value;if(3===r.status)i=3;else if(-1===r.status||0===r.status||1===r.status){i=2;break}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(e=o["return"])&&e.call(o)}finally{if(t)throw t.error}}return i},showFileGuide:function(){var t=this.data.get("fileGuideWords")||[],e=this.data.get("fileList");return t.length&&e&&e.length},sendFileStatus:function(){var t=this.data.get("prefixContent");return!t||"ai_read"===t.trim()},curUploadType:function(){var t=this.data.get("fileList")||[];return t.length?t[0].uploadType:""},isRenderLeftTool:function(){var t=this.data.get("isAiPanelSearch"),e=this.data.get("numeroButtonData")||[],n=this.data.get("drawButtonsData")||[],i=this.data.get("musicButtonData")||[];return!t||e.length||n.length||i.length}},(0,C.__decorate)([n.injectable],_));function _(t){t=i.call(this,t)||this;return t.chatInputInstance=null,t.mockReadProgressTimer=null,t.__spyHandler=null,t.tipTimer=null,t.__startClickPanelTime=0,t.__startUploadTime=0,t}e["default"]=n},function(t,e){t.exports=' <div class="chat-input-anchor {{isChatSearch ? \'chat-input-anchor-ai-search\' : \'\'}}"> <div id="chat-input-main" class="{{initialRow === 2 ? \'two-line-input\': \'one-line-input\'}} {{initialFocus ? \'chat-input-main-focus\': \'\'}}"> <div class="chat-input-op-anime"></div> <div class="chat-input-wrapper-border {{isChatSearch ? \'chat-input-wrapper-border-ai-search\' : \'\'}}"></div> <div class="chat-input-wrapper-box-shadow"></div> <div class="chat-input-wrapper chat-normal-wrapper"> <slot name="optimizer-loading-mask"></slot> <div class="chat-input-container"> <div id="chat-input-top-band"> <slot name="top-band"></slot> </div> <div id="chat-input-area"> <textarea id="chat-textarea" class="chat-input-textarea chat-input-scroll-style" data-ai-placeholder="{{aiPlaceholder}}" data-normal-placeholder="{{normalPlaceholder}}" rows="1" value="{{query}}" onkeydown="if (event.keyCode === 13) event.preventDefault();"></textarea> </div> <div class="chat-input-tool"> <div id="left-tool" class="left-tools-wrapper"> <slot name="left-tool"></slot> </div> <div class="tools-placeholder-wrapper"></div> <div class="right-tools-wrapper"> <div id="right-tool"> <div class="tools-clear-icon {{query ? \'show-clear-icon\' : \'\'}}"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none"> <g opacity="0.5" clip-path="url(#clip0_789_21003)"> <path d="M9.00033 17.3334C13.6027 17.3334 17.3337 13.6024 17.3337 9.00008C17.3337 4.39772 13.6027 0.666748 9.00033 0.666748C4.39796 0.666748 0.666992 4.39772 0.666992 9.00008C0.666992 13.6024 4.39796 17.3334 9.00033 17.3334ZM12.1384 6.80482L9.94309 9.00008L12.1384 11.1953L11.1955 12.1381L9.00026 9.94288L6.80503 12.1381L5.86219 11.1953L8.05746 9.00008L5.86219 6.80482L6.80503 5.86202L9.00026 8.05728L11.1955 5.86202L12.1384 6.80482Z" fill="#9195A3"/> </g> <defs> <clipPath id="clip0_789_21003"> <rect width="18" height="18" fill="white"/> </clipPath> </defs> </svg> </div> <div id="voice-input-wrapper"></div> <slot name="right-tool"></slot> </div> <img s-if="{{isChatSearch}}" id="chat-submit-button-ai" class="{{isSubmitButtonActive ? \'chat-submit-button-ai-active\' : \'\'}}" src="https://psstatic.cdn.bcebos.com/basics/chat/send-icon_1750678058000.svg" alt on-click="handleSubmit"> <button s-else id="chat-submit-button" on-click="handleSubmit"> 百度一下 </button> </div> </div> </div> <div id="chat-input-panel"> </div> <slot s-if="{{isChatSearch}}" name="chat-search-sug"></slot> <slot s-if="{{isChatSearch}}" name="chat-input-prompt-optimizer"></slot> <slot s-if="{{isChatSearch}}" name="chat-input-upload-panel"></slot> </div> </div> <div s-if="{{initialRow !== 1}}" id="chat-input-extension"> <slot name="chat-input-extension"></slot> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{initialFocus:!1,initialRow:2,query:"",aiPlaceholder:"",normalPlaceholder:"",isChatSearch:!1,isSubmitButtonActive:!1,useBuiltInVoice:!1}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.appendChildToAiInputWithBr=e.createAiInputEditorContent=e.getDragFileType=e.hitSample=e.getDataFromDom=e.isCursorAtEnd=e.hasSelection=e.insertAtTextareaRange=e.insertAtRange=e.handleCustomInputData=e.isCaretAtEnd=e.createSugPanelDom=e.handleInputFieldBackspace=e.handleInputFieldChange=e.existCustomNode=e.focusNeedInput=e.focusInputLast=e.getCustomInputNode=e.getInputNode=e.getTextNode=e.getCursorPosition=e.setCursorToNode=e.deleteWaitNode=e.cancelWaitDeleteNode=e.setWaitDeleteNode=e.isWaitDeleteNode=e.isInputFieldNode=e.isNoWidthNode=e.isInputNode=e.getNoWidthNode=e.clearCustomNode=void 0;var c=n(1),i=n(98),u=n(42),p="input-custom-item",o="input-custom-placeholder",a="input-custom-no-width",r="deletion",s="input-custom-need-clear-text";function l(){var t=document.createElement("div");return t.innerHTML='<span contentEditable="'+((0,i.isFirefox)()||(0,i.isQQBrowser)()?"true":"false")+'" \n        class="'+a+'">&nbsp;</span>',t.childNodes[0]}function d(t){return!(null===(t=null==t?void 0:t.className)||void 0===t||!t.includes(p))}function h(t){return!(null===(t=null==t?void 0:t.className)||void 0===t||!t.includes(a))}function f(t){return null==t?void 0:t.classList.contains("ai-input-editor-content")}function g(t){null!=t&&t.setAttribute&&t.setAttribute(r,"0")}function m(t){var e,n;d(t)&&(e=null==t?void 0:t.nextSibling,n=null==t?void 0:t.previousSibling,e instanceof HTMLElement&&h(e)&&e.remove(),n instanceof HTMLElement&&h(n)&&n.remove(),t.remove())}function v(t){var e,n,i;!t||(n=t.parentNode)&&n instanceof HTMLElement&&n.isContentEditable&&(e=document.createRange(),t.nodeType===Node.TEXT_NODE?e.setStart(i=t,i.length):t instanceof HTMLElement&&0<t.childNodes.length?(null==(n=t.lastChild)?void 0:n.nodeType)===Node.TEXT_NODE?e.setStart(i=n,i.length):e.setStart(t,t.childNodes.length):e.setStart(t,0),e.collapse(!0),null!=(t=window.getSelection())&&t.removeAllRanges(),null!=t&&t.addRange(e))}function b(){var t=window.getSelection(),t=null==t?void 0:t.getRangeAt(0);if(t)return{startContainer:t.startContainer,startOffset:t.startOffset,endOffset:t.endOffset}}function w(t){return document.createTextNode(t.content||t.value||"")}function y(t,e){var n=document.createElement("span");n.id="cs-custom-input-"+e,n.contentEditable="true",n.innerText=t.value||t["default"]||"",n.setAttribute("placeholder",t.placeHolder||"填写内容"),t.value||t["default"]||n.setAttribute(r,"1");e=[p];return t.value||t["default"]?e.push(s):e.push(o),n.className=e.join(" "),n.addEventListener("click",function(t){(0,i.isFirefox)()&&t.target&&!t.target.innerText&&v(t.target),t.target&&t.target.classList.contains(s)&&(t.target.innerText="",t.target.classList.remove(s),v(t.target),t.stopPropagation())}),n}function x(n){n&&requestAnimationFrame(function(){requestAnimationFrame(function(){var t=window.getSelection(),e=document.createRange();e.selectNodeContents(n),e.collapse(!1),null!=t&&t.removeAllRanges(),null!=t&&t.addRange(e),n.focus()})})}function _(t){var e=null;if("undefined"!=typeof window&&"undefined"!=typeof document){t=document.querySelectorAll(t);try{t.forEach(function(t){t.innerHTML&&(e=Object.assign({},e,JSON.parse(t.innerHTML)))})}catch(n){console.error("解析数据失败",n)}return e}}e.clearCustomNode=function(t){var n;null!=t&&t.childNodes&&(n=[],Array.from(t.childNodes).forEach(function(t){var e;t instanceof HTMLElement&&(null!==(e=null==t?void 0:t.className)&&void 0!==e&&e.includes(a)||null!==(e=null==t?void 0:t.className)&&void 0!==e&&e.includes(p))&&n.push(t)}),n.forEach(function(t){t.remove()}))},e.getNoWidthNode=l,e.isInputNode=d,e.isNoWidthNode=h,e.isInputFieldNode=f,e.isWaitDeleteNode=function(t){return!(null==t||!t.getAttribute||"1"!==(null==t?void 0:t.getAttribute(r)))},e.setWaitDeleteNode=function(t){null!=t&&t.setAttribute&&t.setAttribute(r,"1")},e.cancelWaitDeleteNode=g,e.deleteWaitNode=m,e.setCursorToNode=v,e.getCursorPosition=b,e.getTextNode=w,e.getInputNode=y,e.getCustomInputNode=function(t){var n=[];return t.forEach(function(t,e){"text"===t.type?n.push(w(t)):"input"===t.type&&(n.push(l()),n.push(y(t,e)),n.push(l()))}),n},e.focusInputLast=x,e.focusNeedInput=function(t){var e,n,i,o=Array.from((null==t?void 0:t.childNodes)||[]),a=-1;try{for(var r=(0,c.__values)(o),s=r.next();!s.done;s=r.next()){var l=s.value;if(l instanceof HTMLElement&&null!==(i=null==l?void 0:l.className)&&void 0!==i&&i.includes(p)&&(null==l||!l.innerText)){a=Array.prototype.indexOf.call(o,l);break}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=r["return"])&&n.call(r)}finally{if(e)throw e.error}}null!=o&&o.length&&-1!==a?v(o[a]):x(t)},e.existCustomNode=function(t){var e,n,i;if(null==t||!t.childNodes)return!1;try{for(var o=(0,c.__values)(Array.from(t.childNodes)),a=o.next();!a.done;a=o.next()){var r=a.value;if(r instanceof HTMLElement&&null!==(i=null==r?void 0:r.className)&&void 0!==i&&i.includes(p))return!0}}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(e)throw e.error}}return!1},e.handleInputFieldChange=function(t){var e;null!==(e=null==t?void 0:t.childNodes)&&void 0!==e&&e.length&&Array.prototype.forEach.call(t.childNodes,function(t){var e;t instanceof HTMLElement&&(d(t)&&(t.innerText&&"\n"!==t.innerText?(null!==(e=t.classList)&&void 0!==e&&e.remove(o),g(t)):(t.innerText="",null!==(e=t.classList)&&void 0!==e&&e.add(o))),h(t)&&(d(t.previousSibling)||d(t.nextSibling)||t.remove()))})},e.handleInputFieldBackspace=function(t){var e,n=(r=b()).startContainer,i=r.startOffset,o=r.endOffset,a=null,r=null,r=n.nodeType===Node.TEXT_NODE?(a=n.parentElement,0===i?n.previousSibling:n):null==(a=n)?void 0:a.childNodes[i-1];f(a)&&r&&h(r)&&(t.preventDefault&&t.preventDefault(),d(e=null==r?void 0:r.previousSibling)&&(null!=e&&e.innerText?(e.innerText=null===(r=null==e?void 0:e.innerText)||void 0===r?void 0:r.slice(0,-1),v(e)):m(e))),d(a)&&(1===(null===(e=null==a?void 0:a.innerText)||void 0===e?void 0:e.length)||0===i&&(null===(e=null==a?void 0:a.innerText)||void 0===e?void 0:e.length)===o&&i!==o?(t.preventDefault&&t.preventDefault(),a&&(a.innerText=""),setTimeout(function(){v(a)},0)):0===i&&0===o&&(t.preventDefault&&t.preventDefault(),(null==(t=null===(o=null==a?void 0:a.previousSibling)||void 0===o?void 0:o.previousSibling)?void 0:t.nodeType)===Node.TEXT_NODE&&t.textContent?(t.textContent=null===(o=null==t?void 0:t.textContent)||void 0===o?void 0:o.slice(0,-1),v(t)):h(t)&&v(t)))},e.createSugPanelDom=function(t){var o=document.createElement("div");return o.className="ai-sug-panel-list",t.forEach(function(t,e){var n=document.createElement("div");n.className="ai-sug-panel-btn";var i=document.createElement("img");i.src=t.icon,i.alt="",n.appendChild(i);i=document.createElement("span");i.textContent=t.text,n.appendChild(i),o.appendChild(n),0===e&&((e=document.createElement("div")).className="ai-sug-panel-divider",o.appendChild(e))}),o},e.isCaretAtEnd=function(t){var e=window.getSelection();if(!e||!e.rangeCount)return!1;var n=e.getRangeAt(0).cloneRange();return(e=document.createRange()).selectNodeContents(t),e.collapse(!1),0===n.compareBoundaryPoints(Range.END_TO_END,e)},e.handleCustomInputData=function(t){return t.map(function(t){return(0,c.__assign)((0,c.__assign)({},t),{realValue:t.value||t["default"]})})},e.insertAtRange=function(t){var e,n=document.getSelection();null!=n&&n.rangeCount&&((e=n.getRangeAt(0)).deleteContents(),e.insertNode(t),e.setStartAfter(t),e.setEndAfter(t),n.removeAllRanges(),n.addRange(e))},e.insertAtTextareaRange=function(t,e){var n=t.selectionStart,i=t.selectionEnd,o=t.value;t.value=o.slice(0,n)+e+o.slice(i),n+=e.length,t.selectionStart=t.selectionEnd=n,e&&t.dispatchEvent(new Event("input",{bubbles:!0}))},e.hasSelection=function(){var t=null===(t=window.getSelection)||void 0===t?void 0:t.call(window);return!(!t||0===t.rangeCount)&&0<t.toString().trim().length},e.isCursorAtEnd=function(t){if(t instanceof HTMLTextAreaElement&&"selectionStart"in t&&"selectionEnd"in t)return t.selectionStart===t.selectionEnd&&t.selectionEnd===t.value.length;var e=window.getSelection();if(!e||!t)return!1;var n=e.getRangeAt(0);return(e=n.cloneRange()).selectNodeContents(t),e.setStart(n.endContainer,n.endOffset),0===e.toString().length},e.getDataFromDom=_;e.hitSample=function(t){var e="undefined"!=typeof window?window.bds:null;if(e){var n=e.comm||{};return 0<=(Array.isArray(n.sampleval)&&0<n.sampleval.length?n.sampleval:n.nodeSample||[]).indexOf(t)}n=_('script[name="aiTabFrameBaseData"]')||{},n=null===n?void 0:n.sample;return(null==n?void 0:n.variables)&&n.variables[t]},e.getDragFileType=function(t){var e,n,t=Array.from(t.items)||[],i="";try{for(var o=(0,c.__values)(t),a=o.next();!a.done;a=o.next()){var r,s=a.value;"file"===s.kind&&(r=s.getAsFile(),i+=(0,u.getFileNameSuffix)(r.name))}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(e)throw e.error}}return i.toLowerCase().replace(/\./g,"")},e.createAiInputEditorContent=function(t){var e=document.createElement("span");e.className="ai-input-editor-content",t.append(e)},e.appendChildToAiInputWithBr=function(n,t){var i=t.split("\n");i.forEach(function(t,e){t=document.createTextNode(t);n.appendChild(t),e!==i.length-1&&n.appendChild(document.createElement("br"))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSafari=e.isQQBrowser=e.isFirefox=e.isWindows=e.getPlatform=e.getUserAgentInfo=void 0;e.getUserAgentInfo=function(){var t="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",e=t.includes("iphone")||t.includes("ipod")||t.includes("ipad"),n=t.includes("android"),i=t.includes("baiduboxapp"),o=t.includes("searchcraft"),a=t.includes("theme/dark"),r=t.includes("bdhonorbrowser"),s=t.includes("huawei"),l=t.includes("qqbrowser"),u=t.includes("safari")&&!t.includes("chrome"),c=t.includes("firefox"),p=t.includes("arkweb")&&t.includes("tablet"),d=t.includes("ipad")||p,h=t.includes("arkweb")&&!d;return{isIOS:e,isAndroid:n,isBaiduBox:i,isSearchCraft:o,isDarkMode:a,isQQBrowser:l,isSafari:u,platform:!d&&/Mobi|Android|iPhone|ArkWeb/i.test(t||"")?"wise":"pc",isWindows:t.includes("windows"),isFirefox:c,scene:"RECALL_SCENE",isBdhonor:r,isHarmony:h,isHarmonyPad:p,isHuawei:s}};var i=(0,e.getUserAgentInfo)();e.getPlatform=function(){return i.platform};e.isWindows=function(){return i.isWindows};e.isFirefox=function(){return i.isFirefox};e.isQQBrowser=function(){return i.isQQBrowser};e.isSafari=function(){return i.isSafari}},function(t,e){t.exports=' <div class="input-panel-create"> <div class="input-panel-create-tab"> <div s-for="item in tabList" class="input-panel-create-tab-item {{selectedTab === item.tab_id ? \'input-panel-create-tab-item-selected\' : \'\'}}" on-click="handleTabClick(item.tab_id)"> {{item.tab_name}} </div> </div> <div class="input-panel-create-content"> <div s-for="itemList, index in showContentList" class="input-panel-create-content-list"> <create-item s-for="item, itemIndex in itemList" data="{{item}}" order="{{index * 4 + itemIndex}}" selected="{{selectedBtn === item.button_id}}" on-click="native:handleItemClick(item, index * 4 + itemIndex + 1)"></create-item> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=n(0),a=(0,r.__importDefault)(n(362)),s=n(103),a=(i=o.Component,(0,r.__extends)(l,i),l.prototype.initData=function(){return{list:[],place_holdaer:"",tab_list:[],title:"",selectedTab:"all",type:""}},l.prototype.handleTabClick=function(t){this.data.get("selectedTab")!==t&&this.data.set("selectedTab",t)},l.prototype.handleItemClick=function(t,e){this.data.set("selectedBtn",t.button_id);var n,i=this.data.get("selectedTab"),o=t.button_id,a=(null==t?void 0:t["function"])||{};"input"===a.type&&(t=null===(n=a.data.input||{})?void 0:n.interactionType,this.fire("click",(0,r.__assign)((0,r.__assign)({agentInfo:n.agentInfo,inputCustom:null===n?void 0:n.input_custom},t?{interactionType:t}:{}),{functionTab:i,functionName:o,functionData:a,index:e})))},l.components={"create-item":a["default"]},l.computed={tabList:function(){var t=(this.data.get("tab_list")||[]).slice();return t.unshift({tab_id:"all",tab_name:"全部"}),t},showContentList:function(){var e=this.data.get("selectedTab"),t=this.data.get("list")||[];if("all"===e)return(0,s.splitArrayTo4)(t);t=t.filter(function(t){return(null==t?void 0:t.tab_id)===e});return(0,s.splitArrayTo4)(t)}},l);function l(){return null!==i&&i.apply(this,arguments)||this}e["default"]=a},function(t,e){t.exports=' <div s-ref="creatItem" class="input-panel-create-item {{selected ? \'input-panel-create-item-selected\' : \'\'}}"> <img class="input-panel-create-item-img" src="{{data.icon}}"> <div class="input-panel-create-item-text"> <div class="input-panel-create-item-title"> {{data.text}} </div> <div class="input-panel-create-item-desc"> <img s-if="data.desc_icon" class="input-panel-create-item-logo" src="{{data.desc_icon}}"> {{data.desc}} </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.attached=function(){},a.prototype.detached=function(){},a.prototype.initData=function(){return{data:{},selected:!1,order:-1}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shuffleArray=e.getDayDiff=e.getMillisecondFromSecond=e.isArray=e.splitArrayTo4=void 0;var a=n(1);e.splitArrayTo4=function(t){for(var e=[],n=0;n<t.length;n+=4)e.push(t.slice(n,n+4));return e};function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t<1e10?1e3*t:t}e.isArray=r,e.getMillisecondFromSecond=i,e.getDayDiff=function(t){var e=i(e=t||(new Date).getTime()),t=new Date(e),e=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime(),t=new Date,t=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return Math.floor((t-e)/864e5)},e.shuffleArray=function(t){if(!r(t))return[];for(var e=t.slice(),n=e.length-1;0<n;n--){var i=Math.floor(Math.random()*(n+1)),o=(0,a.__read)([e[i],e[n]],2);e[n]=o[0],e[i]=o[1]}return e}},function(t,e){t.exports=' <div class="input-panel-draw"> <div class="input-panel-draw-tools"> <div s-for="item, index in tools.list" class="input-panel-draw-tools-list-item" on-click="native:handleToolsBtnClick(item, index)"> <img class="input-panel-draw-tools-list-item-icon" src="{{item.icon}}"> {{item.text}} </div> </div> <div class="input-panel-draw-content"> <div s-for="itemList, index in showContentList" class="input-panel-draw-content-list-item"> <fragment s-for="item, itemIndex in itemList"> <draw-item class="input-panel-draw-content-list-item-btn" data="{{item}}" order="{{index * 4 + itemIndex}}" on-btn-click="handleDrawBtnClick(item, index * 4 + itemIndex + 1)"></draw-item> </fragment> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=n(103),n=(0,o.__importDefault)(n(369)),s="SUPERPAGE_SEARCH_DRAW_ITEM_SHUFFLE",l="SUPERPAGE_SEARCH_DRAW_ITEM_SHUFFLE_TIME",n=(i=a.Component,(0,o.__extends)(u,i),u.prototype.initData=function(){return{tools:{},sameStyle:{},place_holdaer:"",default_content:""}},u.prototype.attached=function(){this.data.set("showContentList",this.getRandomContentList())},u.prototype.getRandomContentList=function(){var t=[],e=0;try{t=JSON.parse(localStorage.getItem(s)||"[]"),e=Number(localStorage.getItem(l)||0)}catch(a){t=[],e=0}var n=this.data.get("same_style.list")||[],i=(0,r.splitArrayTo4)(n);(!e||t.length!==i.length||0<(0,r.getDayDiff)(e))&&(t=(0,r.shuffleArray)(Array.from({length:i.length},function(t,e){return e})),localStorage.setItem(s,JSON.stringify(t)),localStorage.setItem(l,String(+new Date)));var o=[];return t.forEach(function(t,e){o[t]=i[e]}),o},u.prototype.detached=function(){this.data.set("showContentList",this.getRandomContentList())},u.prototype.handleToolsBtnClick=function(t){var e=(null==t?void 0:t["function"])||{},t=t.button_id;this.fire("click",{functionData:e,functionName:t,clickType:"pic-tool"})},u.prototype.handleDrawBtnClick=function(t,e){var n=t.button_id,i=(null==t?void 0:t["function"])||{},o=null==t?void 0:t.order,a=null==t?void 0:t.text,r=null==t?void 0:t.agentInfo;"input"===i.type&&(t=i.data.input||{},this.fire("click",{inputCustom:null===t?void 0:t.input_custom,functionName:n,functionData:i,text:a,index:e,order:o,agentInfo:r}))},u.components={"draw-item":n["default"]},u);function u(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="input-panel-draw-item" on-click="handleBtnClick"> <img class="input-panel-draw-item-img" src="{{data.icon}}"> <div class="input-panel-draw-item-text">{{desc}}</div> <div class="input-panel-draw-item-btn"> 做同款 </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{data:{},order:-1}},a.prototype.handleBtnClick=function(){this.fire("btn-click",this.data.get("data"))},a.computed={desc:function(){var t=this.data.get("data.text"),e=this.data.get("data.agentInfo");return null!=e&&e.agentName?"@"+e.agentName:t}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div class="input-panel-music"> <div class="input-panel-music-content"> <div class="input-panel-music-content-list"> <div s-for="itemList, index in showContentList" class="input-panel-music-content-list-item"> <fragment s-for="item, itemIndex in itemList"> <music-item class="input-panel-music-content-list-item-btn" style="{{cssVars}}" data="{{item}}" order="{{index * itemsPerRow + itemIndex}}" current-play-order="{{currentPlayOrder}}" on-btn-click="handleMusicBtnClick(item, index * itemsPerRow + itemIndex + 1)" on-select-music-item-play="handleSelectMusicItemPlay"></music-item> </fragment> </div> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=n(0),n=(0,r.__importDefault)(n(376)),n=(i=o.Component,(0,r.__extends)(a,i),a.prototype.attached=function(){this.data.set("showContentList",this.getRandomContentList())},a.prototype.splitArrayToN=function(t,e){for(var n=[],i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n},a.prototype.getRandomContentList=function(){var t=this.data.get("list")||[],e=this.data.get("itemsPerRow");return this.data.set("cssVars",4===e?{}:{"--max-item-width":100/e+"%"}),this.splitArrayToN(t,e)},a.prototype.detached=function(){this.data.set("showContentList",this.getRandomContentList())},a.prototype.initData=function(){return{showContentList:[[]],currentPlayOrder:-1,itemsPerRow:4}},a.prototype.handleMusicBtnClick=function(t,e){this.data.set("currentPlayOrder",e-1);var n,i,o=t.button_id,a=(null==t?void 0:t["function"])||{};"input"===a.type&&(i=(n=a.data.input||{}).interactionType,this.fire("click",(0,r.__assign)((0,r.__assign)({inputCustom:n.input_custom,functionData:a,buttonProperty:t.property||[]},i?{interactionType:i}:{}),{functionName:o,index:e})))},a.prototype.handleSelectMusicItemPlay=function(t){this.data.set("currentPlayOrder",t)},a.components={"music-item":n["default"]},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="input-panel-music-item-container"> <div s-ref="musicPlayer" class="input-panel-music-item" style="{{musicPlayerCssVars}}" on-click="handleBtnClick"> <div class="input-panel-music-item-img-wrapper"> <img class="input-panel-music-item-img {{isPlayingItem && isPlaying ? \'input-panel-music-item-img-animation\' : \'\'}}" src="{{data.backgroundUrl}}"> <div class="input-panel-music-item-btn"> 做同款 </div> </div> <div class="input-panel-music-item-func"> <div class="input-panel-music-item-text"> <div class="input-panel-music-item-title"> {{ data.text }} </div> <div class="input-panel-music-item-desc"> <div>{{ musicStyle }}</div> <div class="input-panel-music-item-timbre">{{ timbre }}</div> </div> </div> <div s-ref="playBtn" class="input-panel-music-item-play" on-click="playBtnClick"></div> </div> <div class="progress-box"> <div s-ref="progressContainer" class="progress-container"> <div s-ref="progress" class="progress"> </div> </div> </div> <audio s-ref="audioPlayer"></audio> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,l=n(1),n=n(0),n=(i=n.Component,(0,l.__extends)(o,i),o.prototype.initData=function(){return{data:{},order:-1,currentPlayOrder:-1,isPlaying:!1}},o.prototype.getColorByHue=function(t){var e,n,i=Number(t);if(!isNaN(i))try{for(var o=(0,l.__values)([{color:"#F98989",ranges:[[310,359],[0,5]]},{color:"#F29D61",ranges:[[6,40]]},{color:"#FAD932",ranges:[[41,61]]},{color:"#7FD977",ranges:[[62,150]]},{color:"#57D9D9",ranges:[[151,185]]},{color:"#619DF2",ranges:[[186,220]]},{color:"#A288F7",ranges:[[221,309]]}]),a=o.next();!a.done;a=o.next()){var r=a.value;if(r.ranges.some(function(t){var e=(0,l.__read)(t,2),t=e[0],e=e[1];return t<=i&&i<=e}))return r.color}}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(e)throw e.error}}},o.prototype.attached=function(){var i=this;this.data.set("musicPlayerCssVars",{"--music-item-height":this.ref("musicPlayer").clientHeight+"px","--music-item-width":this.ref("musicPlayer").clientWidth+"px","--domin-color":(null===(t=this.data.get("data"))||void 0===t?void 0:t.dominColor)||"217, 204, 255","--sub-color":(null===(t=this.data.get("data"))||void 0===t?void 0:t.subColor)||"204, 225, 255","--hue-color":this.getColorByHue((null===(t=this.data.get("data"))||void 0===t?void 0:t.hueColor)||"0")}),this.checkSeekAble(),this.loadSong(this.data.get("data"));var t=this.ref("audioPlayer");this._updateTimeDisplay=this.updateTimeDisplay.bind(this),this._resetSong=this.resetSong.bind(this),t.addEventListener("timeupdate",this._updateTimeDisplay),t.addEventListener("ended",this._resetSong),this.watch("currentPlayOrder",function(t){var e=i.ref("musicPlayer"),n=i.ref("progress"),e=e.classList.contains("playing");t!==i.data.get("order")&&(e||n.style.width)&&i.resetSong()})},o.prototype.checkSeekAble=function(){var t,e=this,n=this.ref("audioPlayer");n&&4<=n.readyState?this.data.set("isSeekable",!0):t=setTimeout(function(){e.checkSeekAble(),clearTimeout(t)},500)},o.prototype.loadSong=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return e&&(this.ref("audioPlayer").src=e.url),[2]})})},o.prototype.formatTime=function(t){if(isNaN(t))return"00:00";var e=Math.floor(t/60),t=Math.floor(t%60);return e.toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")},o.prototype.updateTimeDisplay=function(){var t=this.ref("progress"),e=this.ref("audioPlayer");e&&(e=e.currentTime/e.duration*100,t.style.width=e+"%")},o.prototype.resetSong=function(){this.pauseSong(),this.loadSong(this.data.get("data")),this.ref("progress").style.width=""},o.prototype.playSong=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return e=this.ref("musicPlayer"),n=this.ref("playBtn"),(i=this.ref("audioPlayer"))?[4,i.play()]:[2];case 1:return t.sent(),n.classList.add("playing-icon"),e.classList.add("playing"),this.fire("select-music-item-play",this.data.get("order")),[2]}})})},o.prototype.pauseSong=function(){var t=this.ref("playBtn"),e=this.ref("musicPlayer"),n=this.ref("audioPlayer");n&&(e.classList.remove("playing"),t.classList.remove("playing-icon"),n.pause())},o.prototype.playBtnClick=function(t){t.stopPropagation();t=this.ref("musicPlayer").classList.contains("playing");this.data.set("isPlaying",!t),t?this.pauseSong():this.playSong()},o.prototype.handleBtnClick=function(t){t.stopPropagation(),this.fire("btn-click",this.data.get("data"))},o.prototype.detached=function(){var t=this.ref("audioPlayer");t&&(t.pause(),t.removeEventListener("timeupdate",this._updateTimeDisplay),t.removeEventListener("ended",this._resetSong))},o.computed={musicStyle:function(){var t;return null===(t=(this.data.get("data.property")||[]).find(function(t){return"musicStyle"===t.type}))||void 0===t?void 0:t.text},timbre:function(){var t;return null===(t=(this.data.get("data.property")||[]).find(function(t){return"timbre"===t.type}))||void 0===t?void 0:t.text},isPlayingItem:function(){return this.data.get("order")===this.data.get("currentPlayOrder")}},o);function o(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="input-panel-numero"> <div class="numero-recommend-section"> <div class="button-list"> <div s-for="item in recommend_prompt.list" class="recommend-button" on-click="handleNumeroClick(item, index)"> <span class="button-icon button-text">{{item.icon}}</span> <span class="button-text">{{item.text}}</span> </div> </div> </div> <div class="fortune-section {{panelDirect === \'up\' ? \'fortune-section-up\' : \'\'}}"> <div class="fortune-content-list"> <div s-for="itemList, index in showFortuneList" class="fortune-content-list-item"> <fragment s-for="item, itemIndex in itemList"> <div s-if="itemIndex !== 0" class="fortune-content-list-item-space"></div> <fortune-item class="fortune-content-list-item-btn" style="{{cssVars}}" data="{{item}}" order="{{index * itemsPerRow + itemIndex}}" on-btn-click="handleNumeroClick(item, index * itemsPerRow + itemIndex)"></fortune-item> </fragment> </div> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),n=(0,o.__importDefault)(n(383)),n=(i=a.Component,(0,o.__extends)(r,i),r.prototype.initData=function(){return{panelDirect:"down",showFortuneList:[[]],itemsPerRow:4,itemGap:12}},r.prototype.attached=function(){this.data.set("showFortuneList",this.getFortuneList())},r.prototype.handleNumeroClick=function(t,e){var n=t.button_id,i=(null==t?void 0:t["function"])||{};"input"===i.type&&(t=i.data.input||{},this.fire("click",{inputCustom:null===t?void 0:t.input_custom,functionName:n,functionData:i,index:e}))},r.prototype.getFortuneList=function(){var t=this.data.get("fortune_direction.list")||[],e=this.data.get("itemsPerRow"),n=this.data.get("itemGap");return this.data.set("cssVars",4===e?{}:{"--max-item-width":"calc("+100/e+"% - "+n+"px)"}),this.splitArrayToN(t,e)},r.prototype.splitArrayToN=function(t,e){for(var n=[],i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n},r.components={"fortune-item":n["default"]},r);function r(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="fortune-draw-item" on-click="handleBtnClick"> <img class="fortune-draw-item-img" src="{{data.icon}}"> <div class="fortune-draw-item-text">{{data.text}}</div> <div class="fortune-draw-item-subtext">{{data.subText}}</div> <div class="fortune-draw-item-btn"> 测一测 </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{data:{},order:-1}},a.prototype.handleBtnClick=function(){this.fire("btn-click",this.data.get("data"))},a.computed={},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div class="chat-voice-input{{isRecording ? \' chat-voice-input-recording\' : \'\'}}" on-click="handleClick"> <d-tooltip trigger="hover" content="语音输入" position="{{tooltipPosition}}"> <div aria-pressed="{{isRecording}}"> <div class="chat-voice-input-mic-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"> <rect x="5.91621" y="1.63398" width="8.16801" height="11.6845" rx="4.084" stroke="currentColor" stroke-width="1.6"/> <path d="M3.48096 12.5547C4.64674 14.9817 7.12786 16.6572 10.0003 16.6572C12.8728 16.6572 15.3539 14.9817 16.5197 12.5547" stroke="currentColor" stroke-width="1.6" stroke-linecap="square"/> <path d="M10 16.6582V18.6118" stroke="currentColor" stroke-width="1.6" stroke-linecap="square"/> </svg> </div> </div> </d-tooltip> <d-tooltip s-if="isRecording" trigger="hover" content="停止语音输入" position="{{tooltipPosition}}"> <div class="chat-voice-input-pill"> <span class="chat-voice-input-pill-text">正在听</span> <div class="chat-voice-input-pill-bars" aria-hidden="true"> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[0] * 4}}px"></i> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[1] * 4}}px"></i> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[2] * 4}}px"></i> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[3] * 4}}px"></i> <i class="chat-voice-input-pill-bars-bar" style="height: {{barHeights[4] * 4}}px"></i> </div> </div> </d-tooltip> <d-dialog open="{=showDialog=}" title="无法使用语音功能，可能存在以下情况" ok-text="我知道了" closable="{{false}}" mask-closable="{{false}}" on-ok="handleDialogOk"> <template slot="title"> <div class="chat-voice-input-dialog-title"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="chat-voice-input-dialog-title-icon"> <circle cx="12" cy="12" r="10" fill="#FF7D00"/> <rect x="11" y="6" width="2" height="8" fill="#fff"/> <circle cx="12" cy="16.5" r="1.2" fill="#fff"/> </svg> <span>无法使用语音功能，可能存在以下情况</span> </div> </template> <div class="chat-voice-input-dialog-tips"> <div class="chat-voice-input-dialog-tips-item"> <div class="chat-voice-input-dialog-tips-item-title"><span class="chat-voice-input-dialog-tips-item-title-index">1.</span> 未开启浏览器麦克风权限</div> <div class="chat-voice-input-dialog-tips-item-desc">可点击浏览器地址栏中的设置按钮，开启麦克风权限开关。</div> <div class="chat-voice-input-dialog-tips-item-img"> <img src="https://psstatic.cdn.bcebos.com/basics/aichat/voice-input-%20permission_1760681796000.png" alt="语音权限设置"> </div> </div> <div class="chat-voice-input-dialog-tips-item"> <div class="chat-voice-input-dialog-tips-item-title"><span class="chat-voice-input-dialog-tips-item-title-index">2.</span> 当前浏览器不支持语音</div> <div class="chat-voice-input-dialog-tips-item-desc">可更换Chrome、Edge、Safari等浏览器使用。</div> </div> <div class="chat-voice-input-dialog-tips-item"> <div class="chat-voice-input-dialog-tips-item-title"><span class="chat-voice-input-dialog-tips-item-title-index">3.</span> 台式机未插麦克风</div> <div class="chat-voice-input-dialog-tips-item-desc">请插入麦克风后使用语音搜索功能。</div> </div> </div> </d-dialog> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=(0,o.__importDefault)(n(392)),s=(0,o.__importDefault)(n(395)),l=n(398),u=[1,1.5,2,1.5,1],s=(i=a.Component,(0,o.__extends)(c,i),c.prototype.initData=function(){return{showDialog:!1,isRecording:!1,barHeights:u.slice(),tooltipPosition:"bottom"}},c.prototype.attached=function(){this._beforeUnloadHandler=this.handleBeforeUnload.bind(this),this._visibilityChangeHandler=this.handleVisibilityChange.bind(this),window.addEventListener("beforeunload",this._beforeUnloadHandler),document.addEventListener("visibilitychange",this._visibilityChangeHandler)},c.prototype.detached=function(){this._beforeUnloadHandler&&window.removeEventListener("beforeunload",this._beforeUnloadHandler),this._visibilityChangeHandler&&document.removeEventListener("visibilitychange",this._visibilityChangeHandler),this.stopOcclusionCheck(),this.resetRecording()},c.prototype.handleClick=function(){var e=this;this.data.get("isRecording")?this.resetRecording():(0,l.startRecorder)({onResult:function(t){return e.handleRecognition(t)},onAmplitude:function(t){return e.handleAmplitude(t)},onError:function(t){return e.handleRecognitionError(t)}}).then(function(){e.data.set("isRecording",!0),e.startOcclusionCheck(),e.fire("recording-start",{})})["catch"](function(t){console.error("语音录制启动失败",t),e.resetRecording(!1),e.data.set("showDialog",!0),e.fire("recording-error",{message:t.message||"语音输入启动失败"})})},c.prototype.handleRecognition=function(t){var e=t.text,n=t.type;n!==l.RecognitionMessageType.FIN_TEXT?(t=this.data.get("isRecording"),e&&n===l.RecognitionMessageType.MID_TEXT&&t&&this.fire("recognized",e)):this.resetRecording()},c.prototype.handleAmplitude=function(t){this.data.get("isRecording")&&this.data.set("barHeights",t)},c.prototype.handleRecognitionError=function(t){this.data.get("isRecording")&&this.resetRecording(),this.fire("recording-error",t)},c.prototype.handleBeforeUnload=function(){this.data.get("isRecording")&&this.resetRecording()},c.prototype.handleVisibilityChange=function(){this.data.get("isRecording")&&document.hidden&&this.resetRecording()},c.prototype.handleDialogOk=function(){this.data.set("showDialog",!1)},c.prototype.checkInputOcclusion=function(){var t=this.el;if(!t)return!1;var e=t.getBoundingClientRect();if(0===e.width||0===e.height||e.bottom<0||e.top>window.innerHeight||e.right<0||e.left>window.innerWidth)return!0;var n=e.left+e.width/2,e=e.top+e.height/2,e=document.elementFromPoint(n,e);return!e||!t.contains(e)&&e!==t},c.prototype.startOcclusionCheck=function(){var t=this;this.stopOcclusionCheck(),this._occlusionCheckTimer=setInterval(function(){t.data.get("isRecording")&&t.checkInputOcclusion()&&t.resetRecording()},500)},c.prototype.stopOcclusionCheck=function(){this._occlusionCheckTimer&&(clearInterval(this._occlusionCheckTimer),this._occlusionCheckTimer=null)},c.prototype.resetRecording=function(t){void 0===t&&(t=!0),this.data.get("isRecording")&&(this.data.set("isRecording",!1),this.data.set("barHeights",u.slice()),this.stopOcclusionCheck(),t&&(0,l.stopRecorder)(),this.fire("recording-stop",{}))},c.trimWhitespace="all",c.components={"d-dialog":r["default"],"d-tooltip":s["default"]},c);function c(){var t=null!==i&&i.apply(this,arguments)||this;return t._beforeUnloadHandler=null,t._visibilityChangeHandler=null,t._occlusionCheckTimer=null,t}e["default"]=s},function(t,e){t.exports=' <div s-ref="wrapper" s-if="open" class="chat-input-dialog-wrapper" on-click="stopClick"> <div class="chat-dialog-mask" on-click="handleMaskClick"></div> <div class="chat-dialog" role="dialog" aria-modal="true"> <div class="chat-dialog-header"> <div class="chat-dialog-title"> <slot name="title"> <slot name="header">{{title}}</slot> </slot> </div> <button s-if="closable" class="chat-dialog-close" on-click="handleClose" aria-label="关闭"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <line x1="18" y1="6" x2="6" y2="18"/> <line x1="6" y1="6" x2="18" y2="18"/> </svg> </button> </div> <div class="chat-dialog-body"> <slot></slot> </div> <div class="chat-dialog-footer"> <slot name="footer"> <template s-if="cancelText || okText"> <button s-if="cancelText" class="chat-dialog-btn chat-dialog-btn-cancel" on-click="handleCancel">{{cancelText}}</button> <button s-if="okText" class="chat-dialog-btn chat-dialog-btn-ok" on-click="handleOk">{{okText}}</button> </template> </slot> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{open:!1,title:"",okText:"",cancelText:"",closable:!0,maskClosable:!0,appendToBody:!0}},a.prototype.attached=function(){var e=this;this.watch("open",function(t){"undefined"!=typeof document&&(document.body.style.overflow=t?"hidden":"",t&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()),t&&e.data.get("appendToBody")&&e.nextTick(function(){var t=e.ref("wrapper");t&&t.parentNode!==document.body&&document.body.appendChild(t)})})},a.prototype.disposed=function(){"undefined"!=typeof document&&(document.body.style.overflow="")},a.prototype.handleClose=function(){this.data.set("open",!1),this.fire("close",{})},a.prototype.handleCancel=function(){this.data.set("open",!1),this.fire("cancel",{})},a.prototype.handleOk=function(){this.fire("ok",{})},a.prototype.handleMaskClick=function(){this.data.get("maskClosable")&&this.handleClose()},a.prototype.stopClick=function(t){var e;null!==(e=null==t?void 0:t.stopPropagation)&&void 0!==e&&e.call(t),null!==(e=null==t?void 0:t.preventDefault)&&void 0!==e&&e.call(t)},a.trimWhitespace="all",a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div class="chat-input-d-tooltip"> <div class="tooltip-wrapper"> <div on-mouseenter="showTooltip" on-mouseleave="hideTooltip"> <slot></slot> </div> <div s-if="{{isShowTooltip && content}}" style="{{top ? \'top:\' + top + \'px\' : \'\'}}" class="tooltip tooltip-{{position || \'bottom\'}}"> <span>{{ content }}</span> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{content:"",bottom:"",position:"bottom",isShowTooltip:!1}},a.prototype.showTooltip=function(){this.data.set("isShowTooltip",!0)},a.prototype.hideTooltip=function(){this.data.set("isShowTooltip",!1)},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div id="ai-input-file-tag" class="ai-chat-input-file-container"> <swiper s-ref="swiper" space-between="9"> <fragment s-for="fileItem in fileList"> <div s-if="{{fileItem.uploadType === \'file\'}}" class="ai-chat-input-file {{fileItem.status === 0 || fileItem.status === 1 ? \'ai-chat-input-file-uploading\' : \'\'}} {{fileItem.status === 3 ? \'ai-chat-input-file-failed\' : \'\'}}" on-click="handleFileClick($event, fileItem)" on-mouseenter="sendFileLog(\'show\', \'file_clear\')"> <div class="ai-chat-input-file-icon"> <img class="ai-chat-input-file-icon-img" src="{{getFileIcon(fileItem)}}"> <img s-if="{{fileItem.status === 0 || fileItem.status === 1}}" class="ai-chat-input-file-icon-loading" src="{{loadingIcon}}"> </div> <div class="ai-chat-input-file-content"> <div class="ai-chat-input-file-name">{{fileItem.fileName}}</div> <div class="ai-chat-input-file-desc"> <div s-if="{{fileItem.status === 2}}" class="ai-chat-input-file-desc-success"> <div class="ai-chat-input-file-desc-success-name">{{fileItem.fileType}}</div> <div class="ai-chat-input-file-desc-success-size">{{formatBytes(fileItem.fileSize)}}</div> </div> <div s-else class="ai-chat-input-file-desc-success-desc">{{getFileDesc(fileItem)}}</div> </div> </div> <div on-click="handleDelete($event, fileItem)" class="ai-chat-input-file-delete"> <img class="ai-chat-input-file-delete-icon" src="{{deleteIcon}}"> </div> </div> <div class="ai-chat-input-image {{fileItem.status === 0 || fileItem.status === 1 ? \'ai-chat-input-image-uploading\' : \'\'}} {{fileItem.status === 3 ? \'ai-chat-input-image-uploading\' : \'\'}}" s-elif="{{fileItem.uploadType === \'image\'}}" on-mouseenter="sendFileLog(\'show\', \'file_clear\')"> <img on-click="handleFileClick($event, fileItem)" class="ai-chat-input-image-bg" src="{{getImageUrl(fileItem)}}"> <img s-if="{{fileItem.status === 0 || fileItem.status === 1}}" class="ai-chat-input-file-icon-loading" src="{{loadingIcon}}"> <div on-click="handleDelete($event, fileItem)" class="ai-chat-input-file-delete"> <img class="ai-chat-input-file-delete-icon" src="{{deleteIcon}}"> </div> </div> </fragment> <div s-if="{{showAddFile}}" class="ai-chat-input-file-click-upload {{fileList && fileList[0] && fileList[0].uploadType === \'image\' ? \'image-click-upload\' : \'\'}}" on-click="handleUploadClick"> <img class="ai-chat-input-upload-img" src="https://psstatic.cdn.bcebos.com/basics/aichat/pc-file-add_1756446198000.svg" alt> </div> </swiper> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=(0,o.__importDefault)(n(124)),n="https://psstatic.cdn.bcebos.com/basics/",s={PDF:n+"aichat/pdf-wise_1744600722000.png",Word:n+"aichat/word-wise_1744600783000.png",PPT:n+"aichat/ppt-wise_1744600745000.png",TXT:n+"aichat/txt-wise_1744600762000.png",Excel:n+"aichat/excel-wise_1744600701000.png",Code:n+"aichat/code_1753701401000.png",unknown:""},r=(i=a.Component,(0,o.__extends)(l,i),l.prototype.initData=function(){return{fileList:[],ubcLogFileAdd:!1,deleteIcon:"https://gips2.baidu.com/it/u=3959794902,1704569041&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f40_40",uploadIcon:"https://psstatic.cdn.bcebos.com/basics/aichat/pc-image-loading-upload_1757305079000.png",loadingIcon:"https://gips0.baidu.com/it/u=1698361030,3674932214&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f48_48",reuploadIcon:"https://psstatic.cdn.bcebos.com/basics/aichat/image-loading_1757410860000.png"}},l.prototype.attached=function(){var a=this;this.watch("fileList",function(t,e){var n=e.oldValue,i=a.data.get("curUploadType"),o=a.data.get("uploadFileMaxNum"),e=a.data.get("ubcLogFileAdd"),o=t.length<o&&0!==t;a.data.set("ubcLogFileAdd",o),!e&&o&&a.fire("add-file-log",{type:"show",value:"file"===i?"file_add":"photo_add"}),t.length>n.length&&a.nextTick(function(){a.ref("swiper").handleScroll("right")})})},l.prototype.handlePanelBtnClick=function(){var t=this.data.get("panel");this.fire("click",t)},l.prototype.handleFileClick=function(t,e){this.dispatch("ui:input-file-click",e)},l.prototype.handleUploadClick=function(){this.dispatch("ui:input-upload",this.data.get("fileList")[0].uploadType)},l.prototype.formatBytes=function(t){if("[object Number]"!==Object.prototype.toString.call(t))return"0B";for(var e=-1;t>=Math.pow(1024,++e+1););return""+Math.round(t/Math.pow(1024,e)*100)/100+["B","KB","MB","GB"][e]},l.prototype.getFileIcon=function(t){return 0===t.status||1===t.status?this.data.get("uploadIcon"):2===t.status?s[t.fileType]:(t.status,this.data.get("reuploadIcon"))},l.prototype.getImageUrl=function(t){return 2===t.status?t.url:3===t.status?this.data.get("reuploadIcon"):this.data.get("uploadIcon")},l.prototype.getFileDesc=function(t){return 0===t.status||1===t.status?"上传中 "+Math.round(1e4*t.progress)/100+"%":2===t.status?t.fileType+" "+this.formatBytes(t.fileSize):3===t.status?"点击图标重新上传":""},l.prototype.handleDelete=function(t,e){t.stopPropagation(),t.preventDefault(),this.dispatch("ui:input-delete-file",e),this.sendFileLog("click","file_clear")},l.prototype.sendFileLog=function(t,e){this.fire("show-delete",{type:t,value:e})},l.trimWhitespace="all",l.components={swiper:r["default"]},l.computed={showAddFile:function(){var t=this.data.get("fileList"),e=this.data.get("uploadFileMaxNum");return t.length<e}},l);function l(){return null!==i&&i.apply(this,arguments)||this}e["default"]=r},function(t,e,n){var i=n(2),o=[n(409)],a=n(125),r=n(126)["default"];t.exports=n(126),t.exports["default"]=i(r,a,o)},function(t,e){t.exports=' <div class="ai-input-file-swiper-container"> <div class="ai-input-file-swiper-left-button {{!showLeftButton ? \'ai-input-file-swiper-hidden\' : \'\'}}"> <div class="ai-input-file-left-icon-wrapper" on-click="handleScroll(\'left\')"> <div class="ai-input-file-cs-icon-left"> <img class="ai-input-file-cs-icon-arrow-left" src="https://psstatic.cdn.bcebos.com/basics/aichat/pc-arrow-swiper_1756446190000.svg" alt> </div> </div> </div> <div class="ai-input-file-swiper-right-button {{!showRightButton ? \'ai-input-file-swiper-hidden\' : \'\'}}"> <div class="ai-input-file-right-icon-wrapper" on-click="handleScroll(\'right\')"> <div class="ai-input-file-cs-icon-right"> <img class="ai-input-file-cs-icon-arrow-right" src="https://psstatic.cdn.bcebos.com/basics/aichat/pc-arrow-swiper_1756446190000.svg" alt> </div> </div> </div> <div class="ai-input-file-swiper-scroll-container" s-ref="scrollContainer" on-scroll="updateButtonVisibility"> <div class="ai-input-file-swiper-wrapper"> <slot></slot> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{showLeftButton:!1,showRightButton:!1,isScrolling:!1}},a.prototype.attached=function(){var t=this;setTimeout(function(){t.updateButtonVisibility()},50);var e=this.ref("scrollContainer");e&&(this.observer=new MutationObserver(function(){t.updateButtonVisibility()}),this.observer.observe(e,{childList:!0,subtree:!0}))},a.prototype.updateButtonVisibility=function(){var t,e,n=this.ref("scrollContainer");n&&n.ownerDocument&&(t=n.scrollLeft,e=n.scrollWidth,n=n.clientWidth,this.data.set("showLeftButton",0<Math.floor(t)),this.data.set("showRightButton",Math.ceil(t)<e-n))},a.prototype.handleScrollAction=function(t,e){var n=this;void 0===e&&(e=300),this.data.get("isScrolling")||(this.data.set("isScrolling",!0),t(),setTimeout(function(){return n.data.set("isScrolling",!1)},e))},a.prototype.handleScroll=function(n){var i=this;this.handleScrollAction(function(){var t,e=i.ref("scrollContainer");e&&e.ownerDocument&&e&&(t=e.clientWidth,e.scrollBy({left:"left"===n?-t:t,behavior:"smooth"}))})},a.prototype.disposed=function(){this.observer&&(this.observer.disconnect(),this.observer=null)},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div s-if="fileGuideWords.length > 0" class="ai-input-file-guide-wrapper"> <d-swiper s-ref="swiper" space-between="9"> <fragment s-for="item, index in fileGuideWords"> <d-tooltip s-if="(fileList.length <= item.limit && item.limit) || !item.limit" content="{{tooltipContent}}" position="top" trigger="hover" bubble-class="{{(guideDisable || fileAllFail)\n                        ? \'\' : \'ai-input-file-guide-tooltip\'}}"> <div class="ai-input-file-guide-item {{(guideDisable || fileAllFail) ? \'ai-input-file-guide-disabled\' : \'\'}}" data-spy-count="file-guide-click" on-click="handleSendQuery(item, index)"> <img s-if="item.icon" class="ai-input-file-guide-icon" src="{{item.icon}}"> {{ item.text }} </div> </d-tooltip> </fragment> </d-swiper> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=(0,o.__importDefault)(n(124)),n=(0,o.__importDefault)(n(414)),n=(i=a.Component,(0,o.__extends)(s,i),s.prototype.attached=function(){var t=this.data.get("curUploadType");this.fire("add-file-log",{type:"show",value:"file"===t?"file_guide_word":"pic_guide_word"})},s.prototype.initData=function(){return{fileGuideWords:[]}},s.prototype.handleSendQuery=function(t,e){var n=this.data.get("guideDisable"),i=this.data.get("fileAllFail");n||i||this.fire("send-file-query",{query:t.text,index:e,sa:t.sa})},s.components={"d-swiper":r["default"],"d-tooltip":n["default"]},s.messages={},s.computed={guideDisable:function(){var t=this.data.get("fileList");return!t||!t.length||!t.every(function(t){return 2===t.status||3===t.status})},fileAllFail:function(){return(this.data.get("fileList")||[]).every(function(t){return 3===t.status})},tooltipContent:function(){var t=this.data.get("fileAllFail"),e=this.data.get("guideDisable");return t?"文件上传失败，换个文件试试吧":e?"请等待上传完成后发送":""}},s);function s(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <span class="chat-input-tooltip cos-tooltip"> <slot></slot> </span> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),a=(0,i.__importDefault)(n(417));var r=(s.prototype.debounce=function(t,e,n){var i=this;void 0===n&&(n=this.interval),this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.bind(e)(),i.timer=null},n)},s.prototype.clean=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},s);function s(t){void 0===t&&(t=50),this.interval=50,this.timer=null,this.interval=t}var l,i=(l=o.Component,(0,i.__extends)(u,l),u.prototype.initData=function(){return{content:"",trigger:"hover",position:"top",disabled:!1,openDelay:0,closeDelay:0,open:!1,getPopupContainer:undefined,_ownerEl:undefined,_hoverTarget:!1,_hoverTooltip:!1,_platform:"pc",bubbleClass:""}},u.prototype.attached=function(){var e=this,n=this.el;this.data.set("_ownerEl",n),"custom"===this.data.get("trigger")?(this.data.get("open")&&this.beforeOpen(),this.watch("open",function(t){t?e.beforeOpen():e.beforeClose()})):this.data.get("disabled")||this.addListener(n),this.watch("disabled",function(t){t?(e.close(),e.removeListener()):e.addListener(n)});var t=this.data.get("getPopupContainer");t&&t()!==document.body||(this.pagePositionChange=function(){var t;e.data.get("open")&&null!==(t=e.tooltip)&&void 0!==t&&t.open()},"mobile"===this.data.get("_platform")?window.addEventListener("app_font_change",this.pagePositionChange):window.addEventListener("resize",this.pagePositionChange))},u.prototype.addListener=function(t){var e=this,n=this.data.get("trigger");"click"===n?(this.click=function(t){e.handleClick(t)},document.addEventListener("click",this.click)):"hover"===n&&(this.debounce=new r(10),this.mouseenter=function(){e.data.set("_hoverTarget",!0),e.beforeOpen()},this.mouseleave=function(){var t;e.data.set("_hoverTarget",!1),null!==(t=e.debounce)&&void 0!==t&&t.debounce(e.beforeClose,e)},t.addEventListener("mouseenter",this.mouseenter),t.addEventListener("mouseleave",this.mouseleave))},u.prototype.removeListener=function(){this.clearDelayTimer();var t=this.data.get("trigger");"click"===t&&this.click?document.removeEventListener("click",this.click):"hover"===t&&this.mouseenter&&this.mouseleave&&(null!=(t=this.el)&&t.removeEventListener("mouseenter",this.mouseenter),null!=t&&t.removeEventListener("mouseleave",this.mouseleave),null!==(t=this.debounce)&&void 0!==t&&t.clean())},u.prototype.detached=function(){this.removeListener(),this.pagePositionChange&&("mobile"===this.data.get("_platform")?window.removeEventListener("app_font_change",this.pagePositionChange):window.removeEventListener("resize",this.pagePositionChange))},u.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},u.prototype.toggle=function(){this.data.get("open")?this.beforeClose():this.beforeOpen()},u.prototype.close=function(){var t;null!==(t=this.tooltip)&&void 0!==t&&t.hide(),this.data.get("open")&&(this.fire("toggle",!1),this.data.set("open",!1))},u.prototype.open=function(){this.tooltip?this.tooltip.open():this.createTooltipTrigger(),this.fire("toggle",!0),this.data.set("open",!0)},u.prototype.createTooltipTrigger=function(){var e=this;this.tooltip=new a["default"]({owner:this,source:'\n                <cos-tooltip-trigger\n                    content="{{content}}"\n                    position="{{position}}"\n                    bubbleClass="{{bubbleClass}}"\n                    getPopupContainer="{{getPopupContainer}}"\n                    _ownerEl="{{_ownerEl}}"\n                    _platform="{{_platform}}"\n                >\n                    <slot name="content"></slot>\n                </cos-tooltip-trigger>\n            '});var t=this.data.get("getPopupContainer"),t=t?t():document.body;this.tooltip.attach(t);t=null===(t=this.tooltip)||void 0===t?void 0:t.el;"hover"===this.data.get("trigger")&&(null!=t&&t.addEventListener("mouseenter",function(){e.data.set("_hoverTooltip",!0),e.beforeOpen()}),null!=t&&t.addEventListener("mouseleave",function(){e.data.set("_hoverTooltip",!1),e.beforeClose()})),this.nextTick(function(){var t;null!==(t=e.tooltip)&&void 0!==t&&t.open()})},u.prototype.delaySetTooltipVisible=function(t,e){this.delayTimer=setTimeout(function(){e()},t)},u.prototype.beforeOpen=function(){var e=this;if("custom"!==this.data.get("trigger")&&this.data.get("open")||this.data.get("disabled"))return!0;this.clearDelayTimer();var t=this.data.get("openDelay");return t?this.delaySetTooltipVisible(t,function(){var t=e.data.get("trigger");("hover"===t&&e.data.get("_hoverTarget")||"hover"!==t)&&e.open()}):this.open(),!1},u.prototype.beforeClose=function(){var t,e=this;"custom"!==this.data.get("trigger")&&!this.data.get("open")||this.data.get("_hoverTooltip")||this.data.get("_hoverTarget")||(t=this.data.get("closeDelay"),this.clearDelayTimer(),t?this.delaySetTooltipVisible(t,function(){e.close()}):this.close())},u.prototype.handleClick=function(t){var e=this.el,n=t.target;this.data.get("disabled")||(function(t){for(var e=t&&t.parentNode;e;){if("[object ShadowRoot]"===e.toString())return 1;e=e.parentNode}}(e)&&(n=(t=t.composedPath())&&t[0]),null!=e&&e.contains&&null!=e&&e.contains(n)?this.toggle():this.beforeClose())},u.prototype.updatePosition=function(){var t;this.data.get("open")&&null!==(t=this.tooltip)&&void 0!==t&&t.open()},u.trimWhitespace="all",u);function u(){return null!==l&&l.apply(this,arguments)||this}e["default"]=i},function(t,e){t.exports=' <div class="chat-input-tooltip cos-tooltip-trigger{{bubbleClass ? \' \' + bubbleClass : \'\'}} {{_tipPosition.position | direction}} {{open ? \'\' : \' cos-tooltip-trigger-hidden\'}}" style="top:{{_tipPosition.top}}px;\n            bottom:{{_tipPosition.bottom}}px;\n            left:{{_tipPosition.left}}px;\n            right:{{_tipPosition.right}}px;\n            z-index: 500;"> <div class="cos-tooltip-content"> {{content}} <slot s-if="!content"></slot> </div> <div s-ref="arrow" class="cos-tooltip-arrow" style="top:{{_tipPosition.arrowTop}}px;\n                right:{{_tipPosition.arrowRight}}px;\n                bottom:{{_tipPosition.arrowBottom}}px;\n                left:{{_tipPosition.arrowLeft}}px;"> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),A={mobile:{welt:9,padding:9},pc:{welt:16,padding:8}},o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{content:"",position:"top",open:!1,getPopupContainer:undefined,bubbleClass:"",_ownerEl:undefined,_tipPosition:{}}},a.prototype.open=function(){this.data.set("_tipPosition",{});var t=this.data.get("_ownerEl"),e=this.data.get("position"),n=this.data.get("getPopupContainer"),i=n?n():document.body,o=i===document.body,a=this.ref("arrow").getBoundingClientRect(),n=i.getBoundingClientRect(),i=t.getBoundingClientRect();i.height&&i.width&&(t=this.el.getBoundingClientRect(),o=this.getPlacements(n,i,t,a,e,!0,o),this.data.set("_tipPosition",o),this.data.set("open",!0))},a.prototype.hide=function(){this.data.set("open",!1)},a.prototype.getVisibleHeight=function(t,e){var n=window.innerHeight;if(e)return n;e=t.top,t=t.bottom;if(n<=e||t<=0)return 0;e=Math.max(e,0);return Math.min(t,n)-e},a.prototype.getPlacements=function(t,e,n,i,o,a,r){var s={top:e.top-t.top,left:e.left-t.left,bottom:e.bottom-t.top,right:e.right-t.left,width:e.width,height:e.height},l=this.data.get("_platform"),u=n.width,c=n.height,p=null,d=null,h=null,f=null,g=null;switch(o){case"top-start":case"bottom-start":g=t.width-(p=s.left),h=15;break;case"top-end":case"bottom-end":d=t.width-s.right,g=s.right,f=15;break;case"left-start":case"left":case"left-end":d=t.width-s.left,g=s.left;break;case"right-start":case"right":case"right-end":g=t.width-(p=s.right);break;default:var p=s.left+s.width/2-u/2,g=t.width,m=n.width/2-i.width/2-15,v=n.width+p,b=0;p<0?b=p<-m?m:-p:v>t.width&&(b=t.width-v<-m?-m:t.width-v),p+=b;h=u/2-b-i.width/2,v=t.left-document.body.getBoundingClientRect().left+p,b=Math.abs(document.body.scrollWidth-t.left-p-n.width);0<=t.left&&v<A[l].welt?(p+=A[l].welt-v,h-=A[l].welt-v):b<A[l].welt&&(p-=A[l].welt-b,h+=A[l].welt-b)}var w=null,y=null,x=null,_=null;switch(o){case"top-start":case"top":case"top-end":var S=0===(S=Number(null===(C=null===(k=getComputedStyle(this.el))||void 0===k?void 0:k.paddingBottom)||void 0===C?void 0:C.split("px")[0])||0)?A[l].padding:0,w=s.top-n.height-S,y=s.top;y=t.top<0?y+t.top:y;break;case"bottom-start":case"bottom":case"bottom-end":w=s.bottom,y=this.getVisibleHeight(t,r)-s.bottom,y=t.top<0?y-t.top:y;break;case"left-start":case"right-start":w=s.top,y=this.getVisibleHeight(t,r)-s.top,y=t.top<0?y-t.top:y,x=15;break;case"left":case"right":w=s.top+s.height/2-c/2,y=this.getVisibleHeight(t,r);var k=n.height/2-i.width/2-15,C=t.top<0?w+t.top:w,S=0;C<0?S=C<-k?k:-C:y-C<n.height&&(S=(S=y-C-n.height)<-k?-k:S),w+=S,x=c/2-i.height/2-S;break;default:w=s.bottom-n.height,y=s.bottom,y=t.top<0?y+t.top:y,_=15}var T="",E=o.split("-"),I=o.includes("top")||o.includes("bottom");if(g<u&&(I?(o.includes("end")||o.includes("start"))&&(T=o.includes("end")?"start":"end",E=(T=E[0]+"-"+T).split("-")):(T=o.includes("left")?"right":"left",E=(T+=E[1]?"-"+E[1]:"").split("-"))),y<c&&(I?(T=o.includes("top")?"bottom":"top",T+=E[1]?"-"+E[1]:""):(o.includes("end")||o.includes("start"))&&(T=o.includes("end")?"start":"end",T=E[0]+"-"+T)),T&&a){e=this.getPlacements(t,e,n,i,T,!1,r),T=T.split("-")[1],T=E[1]&&T[1]&&E[1]!==T[1];if(I&&e.availableHeight>y||I&&T&&e.availableHeight===y||!I&&e.availableWidth>g||!I&&T&&e.availableWidth===g)return e}return{position:o,left:p,right:d,top:w,bottom:null,availableHeight:y,availableWidth:g,arrowTop:x,arrowRight:f,arrowBottom:_,arrowLeft:h}},a.trimWhitespace="all",a.filters={direction:function(t){return"cos-tooltip-"+(null==t?void 0:t.split("-")[0])}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div class="{{$style[\'panel\']}} {{panel.type === \'ai_search\' ? $style[\'guide-bub\'] : \'\'}} {{panel.guide && isShowGuide ? $style[\'panel-guide\'] + \' panel-guide\' : \'\'}} {{panel.type === \'deep_research\' ? \'deep-research-panel\' : \'\'}}" data-spy-count="panel-btn-click" on-click="handlePanelBtnClick" on-mouseenter="showHover" on-mouseleave="hideHover"> <fragment s-if="{{panel.type === \'ai_search\'}}"> <a href="{{panel.url}}" target="_blank" class="{{$style[\'guide-bub-container\']}}"> <div class="{{$style[\'guide-bub-container-center-box\']}}"> <div class="{{$style[\'guide-bub-container-center\']}}"> {{ emojiText | raw }} </div> </div> <div s-ref="ai-search-btn" class="{{$style[\'guide-bub-container-right-btn\']}}" on-click="handleRightBtnClick"> <div class="{{$style[\'guide-bub-container-text\']}}">立即体验</div> <border-animation-svg s-ref="border-animation" hoverAnimationId="ai_search_border_svg_hover" incomeAnimationId="ai_search_border_svg_hover_income" width="{{aiSearchWidth}}" height="{{aiSearchHeight}}" border-radius="15" padding="2" liner-color-config="{{linerColorConfig}}"></border-animation-svg> </div> </a> </fragment> <fragment s-else> <a s-if="{{panel.url}}" class="{{$style[\'tag-a\']}} {{$style[\'panel-link\']}}" href="{{panel.url}}" target="_blank"> <img src="{{panel.icon}}" alt> <span>{{ panel.text }}</span> </a> <fragment s-else> <img src="{{panel.icon}}" alt> <span>{{ panel.text }}</span> </fragment> </fragment> </div> '},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.AI_SEARCH_ANIMATION_LAST_DATE=a.AI_SEARCH_CLICK_COUNT=a.INPUT_PANEL_BTN_CLICKED_GUIDE=void 0;var n=e(1),i=e(0),o=(0,n.__importDefault)(e(135)),r=(0,n.__importStar)(e(425));a.INPUT_PANEL_BTN_CLICKED_GUIDE="INPUT_PANEL_BTN_CLICKED_GUIDE",a.AI_SEARCH_CLICK_COUNT="AI_SEARCH_CLICK_COUNT",a.AI_SEARCH_ANIMATION_LAST_DATE="AI_SEARCH_ANIMATION_LAST_DATE";var s,o=(s=i.Component,(0,n.__extends)(l,s),l.prototype.initData=function(){return{panel:{},pos:0,isHover:!1,isShowGuide:!1,showHoverAnimation:!1,linerColorConfig:[{offset:"0%",color:"#fff",opacity:"1"},{offset:"30%",color:"#fff",opacity:"0.2"},{offset:"60%",color:"#6547FF",opacity:"0.4"},{offset:"90%",color:"#4769FF",opacity:"0.5"},{offset:"100%",color:"#0090FE",opacity:"0.7"}],btnIconUrl:"https://psstatic.cdn.bcebos.com/aife/static/wenAI_1761814195000.png"}},l.prototype.inited=function(){var t,e,n;"ai_search"===this.data.get("panel.type")&&(e=(t=this.data.get("panel.scrollTextList"))&&null!=t&&t.length?null===(e=t[0])||void 0===e?void 0:e.text:this.data.get("panel.text"),n=t&&null!=t&&t.length?null===(n=t[0])||void 0===n?void 0:n.url:this.data.get("panel.url"),this.data.set("panel.text",e),this.data.set("panel.url",n),this.data.set("emojiText",(0,r.processTextWithGradient)(e)))},l.prototype.attached=function(){var n=this,t=this.data.get("panel");t.guide&&(i=this.checkShowGuide(),this.data.set("isShowGuide",i)),"base"===this.data.get("area")&&this.sendShowLog();var e=document.querySelector("#chat-input-anime-video"),i=!1;try{i=!!localStorage.getItem("INPUT_BORDER_ANIME_LAST_SHOWN_DATE")}catch(err){console.warn(err)}i?this.initTextCarousel():setTimeout(function(){e?setTimeout(function(){n.initTextCarousel()},4900):n.initTextCarousel()},100),"ai_search"===(null==t?void 0:t.type)&&this.getAiSearchClickCount()<8&&this.shouldShowAnimationToday()&&setTimeout(function(){var t=document.querySelector("#chat-input-anime-video"),e=n.ref("border-animation");!t&&e&&(n.updateAnimationLastDate(),e.showIncomeAnimation())},100)},l.prototype.sendShowLog=function(){var t=this.data.get("panel");this.fire("show-log",{value:"ai_search"===(null==t?void 0:t.type)?"home_operate":"capsule_bub",ext:{area:this.data.get("area"),function_type:null==t?void 0:t.type,pos:this.data.get("pos"),content:this.data.get("panel.content")||this.data.get("panel.text")}})},l.prototype.initTextCarousel=function(){var e,n=this,i=this.data.get("panel.scrollTextList"),o=1e3*this.data.get("panel.interval")||4e3;!i||(e=this.ref("text-carousel"))&&(this.data.set("emojiText",""),this.nextTick(function(){var t=new r["default"](e,{texts:i,interval:o,animationTime:800,autoPlay:!0,pauseOnHover:!0,containerHeight:18,itemHeight:18},{onItemChange:function(t){n.data.set("panel.url",t.url),n.data.get("panel.content")&&n.fire("show-log",{value:"home_operate",ext:{pos:n.data.get("pos"),content:t.text}}),n.data.set("panel.content",t.text)}});n.carousel=t}))},l.prototype.handlePanelBtnClick=function(){var t,e=this.data.get("panel"),n="ai_search"===(null==e?void 0:e.type);if(n&&this.incrementAiSearchClickCount(),e.guide){this.data.set("isShowGuide",!1);var i={};try{var o=localStorage.getItem(a.INPUT_PANEL_BTN_CLICKED_GUIDE);o?(i=JSON.parse(o))[e.type]="1":((t={})[e.type]="1",i=t),localStorage.setItem(a.INPUT_PANEL_BTN_CLICKED_GUIDE,JSON.stringify(i))}catch(err){console.warn(err)}}n=n?this.rightClick?"right":"left":this.data.get("area");this.rightClick=undefined,this.fire("click",{panel:e,pos:this.data.get("pos"),content:this.data.get("panel.content")||this.data.get("panel.text"),area:n})},l.prototype.checkShowGuide=function(){var t=this.data.get("panel");if(t.guide)try{var e=localStorage.getItem(a.INPUT_PANEL_BTN_CLICKED_GUIDE),n=e&&JSON.parse(e)||{};return!e||!n[t.type]}catch(err){return console.warn(err),!1}return!1},l.prototype.showHover=function(){var t=this.data.get("panel");this.data.set("isHover",!0),this.fire("hover",t);t=this.ref("border-animation");t&&(this.setBorderAnimationInfo(),t.showHover())},l.prototype.hideHover=function(){this.data.set("isHover",!1);var t=this.ref("border-animation");t&&t.hideHover()},l.prototype.getAiSearchClickCount=function(){try{var t=localStorage.getItem(a.AI_SEARCH_CLICK_COUNT);return t?parseInt(t,10):0}catch(err){return console.warn("Failed to get AI search click count:",err),0}},l.prototype.incrementAiSearchClickCount=function(){try{var t=this.getAiSearchClickCount();localStorage.setItem(a.AI_SEARCH_CLICK_COUNT,String(t+1))}catch(err){console.warn("Failed to increment AI search click count:",err)}},l.prototype.shouldShowAnimationToday=function(){try{var t=localStorage.getItem(a.AI_SEARCH_ANIMATION_LAST_DATE),e=(new Date).toDateString();return!t||t!==e}catch(err){return console.warn("Failed to check animation last date:",err),!0}},l.prototype.updateAnimationLastDate=function(){try{var t=(new Date).toDateString();localStorage.setItem(a.AI_SEARCH_ANIMATION_LAST_DATE,t)}catch(err){console.warn("Failed to update animation last date:",err)}},l.prototype.handleRightBtnClick=function(){this.rightClick=!0},l.prototype.setBorderAnimationInfo=function(){var t=this.ref("ai-search-btn");t&&(this.data.set("aiSearchWidth",t.offsetWidth),this.data.set("aiSearchHeight",t.offsetHeight))},l.prototype.detached=function(){this.carousel&&(this.carousel.destroy(),this.carousel=undefined)},l.trimWhitespace="all",l.components={"border-animation-svg":o["default"]},l);function l(){return null!==s&&s.apply(this,arguments)||this}a["default"]=o},function(t,e,n){var i=n(2),o=[n(423)],a=n(136),r=n(137)["default"];t.exports=n(137),t.exports["default"]=i(r,a,o)},function(t,e){t.exports=' <svg class="{{$style[\'svg\']}}" style="--svg-padding: {{padding}}px" width="{{svgWidth}}" height="{{svgHeight}}" viewBox="0 0 {{svgWidth}} {{svgHeight}}" xmlns="http://www.w3.org/2000/svg"> <defs> <linearGradient s-if="incomeAnimationId" id="{{incomeAnimationId}}" x1="0%" y1="0%" x2="100%" y2="0%"> <template s-for="stopItem in linerColorConfig"> <stop offset="{{stopItem.offset}}" stop-color="{{stopItem.color}}" stop-opacity="{{stopItem.opacity}}"/> </template> <animateTransform attributeName="gradientTransform" type="rotate" dur="3.5s" repeatCount="1" values="0 0.5 0.5;360 0.5 0.5;540 0.5 0.5;900 0.5 0.5" keyTimes="0;0.2857;0.7143;1" calcMode="linear" fill="freeze"/> </linearGradient> <linearGradient id="{{hoverAnimationId}}" x1="0%" y1="0%" x2="100%" y2="0%" gradientTransform="rotate(0 .5 .5)"> <template s-for="stopItem in linerColorConfig"> <stop offset="{{stopItem.offset}}" stop-color="{{stopItem.color}}" stop-opacity="{{stopItem.opacity}}"/> </template> </linearGradient> </defs> <rect s-ref="animation-rect" x="{{padding}}" y="{{padding}}" width="{{width}}" height="{{height}}" fill="none" rx="{{borderRadius}}" ry="{{borderRadius}}" stroke="{{ \'url(#\' + hoverAnimationId + \')\' }}" stroke-width="{{strokeWidth}}"/> </svg> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{id:"",type:"hover",width:0,height:0,padding:5,borderRadius:0,strokeWidth:1,linerColorConfig:[]}},a.prototype.showIncomeAnimation=function(){var t,e,n,i=this,o=this.ref("animation-rect"),a=this.data.get("incomeAnimationId");o&&(n=null,/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&(t=document.querySelector("#"+a),e=0,n=setInterval(function(){e=(e+2)%360,t.setAttribute("gradientTransform","rotate("+e+" .5 .5)")},30)),o.setAttribute("stroke","url(#"+a+")"),o.style.opacity="1",setTimeout(function(){o.style.transition="opacity 1s ease-in",o.style.opacity="0"},2500),setTimeout(function(){o.style.opacity="",o.style.transition="",i.switchHoverAnimation(),n&&clearInterval(n)},3500))},a.prototype.switchHoverAnimation=function(){var t,e=this.ref("animation-rect");e&&(t=this.data.get("hoverAnimationId"),e.setAttribute("stroke","url(#"+t+")"),this.data.set("type","hover"))},a.prototype.showHover=function(){var t,e,n,i,o,a,r,s=this;"hover"===this.data.get("type")&&(t=this.ref("animation-rect"),e=this.data.get("hoverAnimationId"),n=document.querySelector("#"+e),t&&(t.style.transition="400ms ease-in opacity",t.style.opacity="1",i=.45,a=!(o=null),r=function(t){var e=t-(o=o||t);o=t,a&&(s.hoverAngle=(s.hoverAngle+i*e)%360,n.setAttribute("gradientTransform","rotate("+s.hoverAngle+" .5 .5)")),a&&requestAnimationFrame(r)},requestAnimationFrame(r),setTimeout(function(){i=.045},800),this.animationRunning=a,this.stopAnimation=function(){a=!1}))},a.prototype.hideHover=function(){var t;"hover"===this.data.get("type")&&((t=this.ref("animation-rect"))&&(t.style.transition="160ms ease-in opacity",t.style.opacity="0"),this.stopAnimation&&this.stopAnimation())},a.trimWhitespace="all",a.computed={svgWidth:function(){var t=this.data.get("padding"),e=this.data.get("width");return 2*Number(t)+Number(e)},svgHeight:function(){var t=this.data.get("padding"),e=this.data.get("height");return 2*Number(t)+Number(e)}},a);function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.hoverAngle=0,t}e["default"]=o},function(t,e,n){"use strict";function o(t){return'<span class="gradient-text">'+t+"</span>"}Object.defineProperty(e,"__esModule",{value:!0}),e.processTextWithGradient=void 0,e.processTextWithGradient=o;var i=(a.prototype.next=function(){var e,n,t,i,o,a=this;this.isAnimating||this.config.texts.length<=1||(this.isAnimating=!0,e=this.textElements[this.currentIndex],n=(this.currentIndex+1)%this.config.texts.length,t=this.textElements[n],i=function(t){t.target===e&&"transform"===t.propertyName&&(e.removeEventListener("transitionend",i),e.style.transition="none",e.style.transform="translateY("+a.config.itemHeight+"px)",e.style.opacity="0",e.offsetHeight,e.style.transition="transform "+a.config.animationTime+"ms ease, opacity "+a.config.animationTime+"ms ease",a.currentIndex=n,a.isAnimating=!1,a.callbacks.onItemChange&&a.callbacks.onItemChange(a.config.texts[a.currentIndex],a.currentIndex),a.config.autoPlay&&!a.isPaused&&a.executeCarousel())},e.addEventListener("transitionend",i),o=this.config.animationTime,e.style.transition="transform "+o+"ms ease-in-out, opacity "+o+"ms ease-in-out",t.style.transition="transform "+o+"ms ease-in-out, opacity "+o+"ms ease-in-out",e.style.transform="translateY(-"+this.config.itemHeight+"px)",e.style.opacity="0",t.style.transform="translateY(0)",t.style.opacity="1")},a.prototype.start=function(){this.config.texts.length<=1||(this.isPaused=!1,this.executeCarousel())},a.prototype.pause=function(){this.isPaused=!0,this.timer&&(clearTimeout(this.timer),this.timer=null)},a.prototype.resume=function(){this.config.autoPlay&&(this.isPaused=!1,this.executeCarousel())},a.prototype.stop=function(){this.pause(),this.config.autoPlay=!1},a.prototype.updateTexts=function(t){this.config.texts=t,this.currentIndex=0,this.setupContainer(),this.createTextElements(),this.config.autoPlay&&1<t.length&&this.start()},a.prototype.destroy=function(){this.stop(),this.config.pauseOnHover&&(this.container.removeEventListener("mouseenter",this.mouseEnterHandler),this.container.removeEventListener("mouseleave",this.mouseLeaveHandler)),this.container.innerHTML="",this.textElements=[]},a.prototype.init=function(){this.setupContainer(),this.createTextElements(),this.setupEvents(),this.config.autoPlay&&1<this.config.texts.length&&this.start(),this.callbacks.onItemChange&&this.callbacks.onItemChange(this.config.texts[0],0)},a.prototype.setupContainer=function(){this.container.style.position="relative",this.container.style.height=this.config.containerHeight+"px",this.container.innerHTML=""},a.prototype.createTextElements=function(){var i=this;this.textElements=[],this.config.texts.forEach(function(t,e){var n=document.createElement("div");n.className="carousel-text-item",n.innerHTML=o(t.text),n.style.cssText="\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: "+i.config.itemHeight+"px;\n                display: flex;\n                align-items: center;\n                opacity: "+(0===e?"1":"0")+";\n                transform: translateY("+(0===e?"0":i.config.itemHeight+"px")+");\n                transition: none;\n                white-space: nowrap;\n                cursor: pointer;\n            ",i.container.appendChild(n),i.textElements.push(n)})},a.prototype.setupEvents=function(){this.config.pauseOnHover&&(this.container.addEventListener("mouseenter",this.mouseEnterHandler),this.container.addEventListener("mouseleave",this.mouseLeaveHandler))},a.prototype.executeCarousel=function(){var t=this;this.isAnimating||this.isPaused||this.config.texts.length<=1||(this.timer=setTimeout(function(){t.next()},this.config.interval))},a);function a(t,e,n){var i=this;if(void 0===n&&(n={}),this.currentIndex=0,this.isAnimating=!1,this.timer=null,this.isPaused=!1,this.textElements=[],this.container="string"==typeof t?document.querySelector(t):t,!this.container)throw new Error("容器元素未找到");if(this.config={texts:e.texts||[],interval:e.interval||3e3,autoPlay:!1!==e.autoPlay,pauseOnHover:!1!==e.pauseOnHover,animationTime:e.animationTime||500,containerHeight:e.containerHeight||40,itemHeight:e.itemHeight||40},this.callbacks=n,this.mouseEnterHandler=function(){return i.pause()},this.mouseLeaveHandler=function(){return i.resume()},!this.config.texts||0===this.config.texts.length)throw new Error("文案列表不能为空");this.init()}e["default"]=i},function(t,e){t.exports=' <div class="{{$style[\'tooltip-wrapper\']}} {{getAnchorStyle}}"> <div on-mouseenter="showTooltip" on-mouseleave="hideTooltip"> <slot></slot> </div> <div s-if="{{(isHovering && content) || (initContent && isShowInit)}}" style="{{getTooltipStyle}}" class="{{$style[\'tooltip\']}} {{initContent ? $style[\'init-toast\'] : \'\'}}"> <span>{{ showContent }}</span> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),r="SUPERPAGE_VISITED_TIMES",o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{content:"",initContent:"",top:"",maxWidth:"",isShowInit:!1,isHovering:!1,anchor:"center",buttonTipsDays:[4,8]}},a.prototype.attached=function(){var t=this;if(this.data.get("initContent")){try{var e=Number(localStorage.getItem(r)),n=this.data.get("buttonTipsDays"),i=localStorage.getItem("INPUT_ANIME_LAST_SHOWN_DATE"),o=(new Date).toISOString().split("T")[0];e?i!==o?(e++,n.includes(String(e))&&this.data.set("isShowInit",!0),localStorage.setItem(r,e)):this.data.set("initContent",""):(this.data.set("isShowInit",!0),e=1,localStorage.setItem(r,e))}catch(a){console.log(a)}setTimeout(function(){t.data.set("initContent","")},3e3)}},a.prototype.showTooltip=function(){this.data.set("initContent",""),this.data.set("isHovering",!0),this.fire("hover",{})},a.prototype.hideTooltip=function(){this.data.set("isHovering",!1)},a.trimWhitespace="all",a.computed={getAnchorStyle:function(){return this.data.get("$style")["anchor-"+this.data.get("anchor")]},getTooltipStyle:function(){var t=this.data.get("top"),e=this.data.get("maxWidth"),n="";return t&&(n+="top: "+t+"px;"),e&&(n+="max-width: "+e+"px;"),n},showContent:function(){var t=this.data.get("isHovering"),e=this.data.get("content"),n=this.data.get("initContent");return t?e:n}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=" <div s-if=\"visible\" class=\"{{$style['toast-root']}} {{isView ? $style['toast-root-view'] : ''}}\"> <div class=\"{{$style['toast-content']}}\">{{ message }}</div> </div> "},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{visible:!1,isView:!1,message:"",duration:2e3,timer:null}},a.prototype.show=function(){var e=this;document.body.appendChild(this.el),this.data.set("visible",!0),this.nextTick(function(){e.data.set("isView",!0),clearTimeout(e.data.get("timer"));var t=setTimeout(function(){e.hide()},e.data.get("duration"));e.data.set("timer",t)})},a.prototype.hide=function(){var t=this;this.data.set("isView",!1);var e=setTimeout(function(){t.data.set("visible",!1)},300);clearTimeout(this.data.get("timer")),clearTimeout(e),this.data.set("timer",null)},a.trimWhitespace="all",a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=' <div id="chat-input-anime-video" class="{{$style[\'animation-video\']}}" style="pointer-events: {{supportPropagation ? \'none\' : \'auto\'}}"> <canvas s-ref="canvas" class="{{$style[\'gif-canvas\']}}"> </canvas> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{afxUrl:"https://psstatic.cdn.bcebos.com/basics/chat/afx 2_1750155358000.mp4",bgWidth:"100%",bgHeight:"100%",imgType:"",supportPropagation:!1,inView:!0,autoplay:!0,loop:!1,alphaDirection:"left",resourceWidth:400,resourceHeight:400,hasPlay:!1}},a.prototype.attached=function(){var i=this;this.data.get("afxUrl")?this.nextTick(function(){i.createVideoElement();var e=i.video;i.videoEventListener(e,"play"),i.videoEventListener(e,"pause"),i.videoEventListener(e,"ended");var n=i.ref("canvas");i.canvas=n,i.bindInitAnimation=i.initCanPlayThrough.bind(i),i.bindHandleNotLoopEnded=i.handleNotLoopEnded.bind(i),i.video.addEventListener("canplaythrough",i.bindInitAnimation,{once:!0}),i.video.addEventListener("ended",i.bindHandleNotLoopEnded),i.watch("afxUrl",function(t){i.video.pause(),i.video.src=t,i.video.load(),i.data.get("autoplay")&&i.data.get("inView")&&(i.initAnimation(n,e),i.frameDrawHandler=i.frameDrawHandler||i.prepareFrameDraw(i.gl,i.posBuffer,i.videoTexture,e),i.playVideo(e))})}):console.error("[component animation-video]: afxUrl is required")},a.prototype.detached=function(){var t;null!==(t=this.video)&&void 0!==t&&t.removeEventListener("canplaythrough",this.bindInitAnimation),null!==(t=this.video)&&void 0!==t&&t.removeEventListener("ended",this.bindHandleNotLoopEnded),clearTimeout(this.timer),this.timer=null},a.prototype.initCanPlayThrough=function(){var e=this,n=this.video;this.initAnimation(this.canvas,n),this.frameDrawHandler=this.frameDrawHandler||this.prepareFrameDraw(this.gl,this.posBuffer,this.videoTexture,n),this.data.get("autoplay")&&this.data.get("inView")&&this.playVideo(n),this.watch("inView",function(t){t&&n&&e.playVideo(n)})},a.prototype.playVideo=function(t){!t||(t=t.play())&&t["catch"](function(t){console.error("animation video play error",t)})},a.prototype.createVideoElement=function(){var t,e=document.createElement("video");e.muted=!0,e.volume=0,e.setAttribute("crossorigin","anonymous"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("playsinline","true"),e.setAttribute("x-webkit-airplay","true"),e.setAttribute("t7-video-player-type","inline"),this.data.get("loop")&&e.setAttribute("loop",""),e.src=this.data.get("afxUrl"),e.load(),e.style.display="none",null!==(t=null===document||void 0===document?void 0:document.body)&&void 0!==t&&t.appendChild(e),this.video=e},a.prototype.handleNotLoopEnded=function(){},a.prototype.videoEventListener=function(t,e){var n=this;t&&t.addEventListener(e,function(){var t;"play"===e?null!==(t=n.frameDrawHandler)&&void 0!==t&&t.startFrameUpdate():"pause"!==e&&"ended"!==e||null!==(t=n.frameDrawHandler)&&void 0!==t&&t.stopFrameUpdate()},!1)},a.prototype.safeNumber=function(t){return isNaN(parseInt(t,10))?0:parseInt(t,10)},a.prototype.initAnimation=function(t,e){if(t&&e){var n=this.data.get("alphaDirection"),i=this.safeNumber(this.data.get("resourceWidth")),o=this.safeNumber(this.data.get("resourceHeight"));t.width=Math.ceil(i/2),t.height=o;e=t.getContext("webgl");if(!e)throw"WebGLRenderingContext Error";e.viewport(0,0,t.width,t.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);i=this.createVertexBuffer(e,[-1,-1,1,-1,-1,1,1,1]),o=this.createProgram(e,"\n    attribute vec2 position;\n    varying vec2 v_Texcoord;\n    void main() {\n        v_Texcoord = (position + 1.0) * 0.5;\n        gl_Position = vec4(position, 0.0, 1.0);\n    }\n","\n    precision highp float;\n    uniform sampler2D tex;\n    varying vec2 v_Texcoord;\n    uniform int alphaDirection; // alpha 通道的方向，为 0 时表示 alpha 通道在左边，为 1 时，表示 alpha 通道在右边\n    void main() {\n        // 取左边画面的像素\n        vec2 left = v_Texcoord * vec2(0.5, 1.0);\n\n        // 取右边画面的像素\n        vec2 right = v_Texcoord * vec2(0.5, 1.0) + vec2(0.5, 0.0);\n\n        if (alphaDirection == 1) {\n            vec3 rgb = texture2D(tex, left).rgb;\n            float a = texture2D(tex, right).r;\n            gl_FragColor = vec4(rgb, a);\n        }\n        else {\n            vec3 rgb = texture2D(tex, right).rgb;\n            float a = texture2D(tex, left).r;\n            gl_FragColor = vec4(rgb, a);\n        }\n    }\n");o&&i&&(t=e.getUniformLocation(o,"tex"),e.useProgram(o),this.setVertexBuffer(e,o,"position",i,2),e.uniform1i(t,0),o=e.getUniformLocation(o,"alphaDirection"),e.uniform1i(o,"right"===n?1:0),this.videoTexture=this.createImageTexture(e),this.gl=e,this.posBuffer=i)}},a.prototype.createVertexBuffer=function(t,e){var n=t.createBuffer();return e&&this.updateVertexBuffer(t,n,e),n},a.prototype.updateVertexBuffer=function(t,e,n){t.bindBuffer(t.ARRAY_BUFFER,e),n instanceof Array&&(n=new Float32Array(n)),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)},a.prototype.createProgram=function(e,t,n){var i=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER);if(!i||!o)return null;e.shaderSource(i,t),e.shaderSource(o,n),e.compileShader(i),e.compileShader(o),[i,o].forEach(function(t){e.getShaderParameter(t,e.COMPILE_STATUS)});n=e.createProgram();return n?(e.attachShader(n,i),e.attachShader(n,o),e.linkProgram(n),n):null},a.prototype.setVertexBuffer=function(t,e,n,i,o){t.bindBuffer(t.ARRAY_BUFFER,i);n=t.getAttribLocation(e,n);t.enableVertexAttribArray(n),t.vertexAttribPointer(n,o,t.FLOAT,!1,0,0)},a.prototype.createImageTexture=function(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),e},a.prototype.prepareFrameDraw=function(t,e,n,i){var o=t.UNSIGNED_BYTE,a=null,r=function(){a=(i.readyState<i.HAVE_CURRENT_DATA||(t.bindBuffer(t.ARRAY_BUFFER,e),t.bindTexture(t.TEXTURE_2D,n),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,o,i),t.drawArrays(t.TRIANGLE_STRIP,0,4)),requestAnimationFrame(r))};return{startFrameUpdate:function(){r()},stopFrameUpdate:function(){a&&cancelAnimationFrame(a)}}},a.trimWhitespace="all",a);function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.timer=null,t.gl=null,t.program=null,t.videoTexture=null,t.posBuffer=null,t.video=null,t.canvas=null,t}e["default"]=o},function(t,e){t.exports=' <div class="{{$style[\'numero-buttons-container\']}}"> <fragment s-for="button, index in numeroButtonData"> <div s-if="!button.notShow" id="{{\'numero-button-container-\' + button.optionType}}" class="{{$style[\'numero-button\']}} {{openType === button.optionType ? $style[\'numero-button-active\'] : \'\'}}" on-click="handleButtonClick(button, index)"> <div id="numero-btn-content" class="{{$style[\'numero-btn-content\']}}"> <span class="{{$style[\'numero-button-text\']}}"> {{buttonTextMap && buttonTextMap[button.optionType] ? buttonTextMap[button.optionType] : button.defaultText}} </span> <img class="{{$style[\'numero-icon\']}}" src="{{openType === button.optionType ? upImg : downImg}}"> </div> <div id="{{\'numero-panel-\' + button.optionType}}" s-is="{{panelComponents[button.optionType]}}" s-show="openType === button.optionType" class="{{$style[\'numero-panel\']}}" open="{{openType === button.optionType}}" panel-data="{{button.data}}" numero-btn-value="{{getNumeroBtnVal(button)}}" on-panel-action="handlePanelAction"></div> </div> </fragment> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),n=(0,o.__importDefault)(n(438)),r={constellation:"directive-panel",gender:"directive-panel"},n=(i=a.Component,(0,o.__extends)(s,i),s.prototype.initData=function(){return{numeroButtonData:[],openPanelType:"",openType:"",panelComponents:r,buttonTextMap:{constellation:"",gender:"",birthplace:null,birthday:""},downImg:"https://psstatic.cdn.bcebos.com/aife/image/12_12_1760441491000.png",upImg:"https://psstatic.cdn.bcebos.com/aife/image/upas_1760441610000.png"}},s.prototype.attached=function(){var i=this,t=this.data.get("numeroButtonData");this.nextTick(function(){t.forEach(function(t){var e,n=t.data[0];n.value&&((e=(0,o.__assign)({},i.data.get("buttonTextMap")))[t.optionType]=n.value,i.data.set("buttonTextMap",e))})})},s.prototype.detached=function(){window.removeEventListener("resize",this.listener),this.listener&&document.removeEventListener("click",this.listener,!0)},s.prototype.ubcClickLog=function(t){return JSON.stringify({value:"",ubcExt:{button_text:t}})},s.prototype.handleButtonClick=function(t,e){var n=t.optionType,i=this.data.get("openType");this.sendUbcLog("click","searchkuang_option",{function_type:this.data.get("openPanelType"),function_pos:e+1,option_type:n,button_text:t.defaultText}),i===n?this.closePanel(n):(i&&this.closePanel(i),this.openPanel(n))},s.prototype.getNumeroBtnVal=function(t){return(null==t?void 0:t.data[0]).value},s.prototype.getNumeroInfo=function(){var t=this.data.get("numeroButtonData")||[],i=this.data.get("buttonTextMap")||{};return t.map(function(t){var e=t.defaultText,n=t.optionType;return{optionType:n,type:e,text:i[n]||t.defaultText,value:i[n]}})},s.prototype.openPanel=function(i){var t,o=this;this.listener&&document.removeEventListener("click",this.listener,!0),this.data.get("openType")!==i&&((t=this.data.get("openType"))&&this.closePanel(t),this.data.set("openType",i),this.listener=function(t){var e=document.querySelector("#numero-panel-"+i),n=t.target.closest("#numero-button-container-"+i);!e||e.contains(t.target)||n||o.closePanel(i)},document.addEventListener("click",this.listener,{capture:!0}))},s.prototype.closePanel=function(t){this.data.get("openType")===t&&(this.data.set("openType",""),this.listener&&document.removeEventListener("click",this.listener,!0))},s.prototype.handlePanelAction=function(t){var e;this.data.get("openType")===t.type&&((e=(0,o.__assign)({},this.data.get("buttonTextMap")||{}))[t.type]=t.text,this.data.set("buttonTextMap",e))},s.prototype.sendUbcLog=function(e,n,i){void 0===i&&(i={}),window.require(["superman/components/ubc"],function(t){t=new t.Ubc(window.require,{ubcid:18463});"click"===e?null!=t&&t.sendClickLog(n,i):"show"===e?null!=t&&t.sendShowLog(n,i):null!=t&&t.sendLog(e,n,i)})},s.components={"directive-panel":n["default"]},s);function s(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=" <div class=\"{{$style['directive-panel']}}\"> <h3 class=\"{{$style['directive-title']}}\">{{title}}</h3> <div class=\"{{$style['button-container']}}\"> <button s-for=\"button in buttonList\" class=\"{{$style['directive-button']}} {{selectedButton === button ? $style['directive-button-selected'] : ''}}\" on-click=\"handleBtnClick(button)\"> {{button}} </button> </div> </div> "},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),a={"选择性别":"gender","选择星座":"constellation"},n=(i=n.Component,(0,o.__extends)(r,i),r.prototype.initData=function(){return{panelData:[],selectedDirectiveButtons:{}}},r.prototype.attached=function(){var t=this.data.get("numeroBtnValue");this.data.set("selectedButton",t)},r.prototype.handleBtnClick=function(t){var e=this.data.get("panelData")[0],n=a[e.text],e=(0,o.__assign)({},this.data.get("selectedDirectiveButtons")||{});e[n]=t,this.data.set("selectedDirectiveButtons",e),this.fire("panel-action",{text:t,type:n})},r.components={},r.computed={buttonList:function(){var t=this.data.get("panelData")[0];switch(t.text){case"选择星座":return t.constellationData;case"选择性别":return t.subMenu;default:return[]}},title:function(){return this.data.get("panelData")[0].text||""},selectedButton:function(){var t=this.data.get("panelData")[0],t=a[t.text];return this.data.get("selectedDirectiveButtons")[t]||""}},r);function r(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="{{$style[\'music-buttons-container\']}}"> <fragment s-for="button, index in musicButtonData"> <div s-if="!button.notShow" id="{{\'music-button-container-\' + button.optionType}}" class="{{$style[\'music-button\']}} {{openType === button.optionType ? $style[\'music-button-active\'] : \'\'}}" on-click="handleButtonClick(button, index)"> <div id="music-btn-content" class="{{$style[\'music-btn-content\']}}"> <span class="{{$style[\'music-button-text\']}}"> {{ musicButtonActiveValue[button.optionType].text | buttonText(button.defaultText) }} </span> <img class="{{$style[\'music-icon\']}}" src="{{openType === button.optionType ? upImg : downImg}}"> </div> <div s-is="{{musicButtonsComponents[button.optionType]}}" s-show="openType === button.optionType" id="{{\'music-panel-\' + button.optionType}}" class="{{$style[\'music-panel\']}}" open="{{openType === button.optionType}}" panel-data="{{button.data}}" music-btn-value="{{getMusicBtnVal(button)}}" title="{{musicButtonsTitles[button.optionType]}}" option-type="{{button.optionType}}" music-data="{{button}}" active-value="{{musicButtonActiveValue[button.optionType]}}" on-btn-click="handleMusicButtonClick"></div> </div> </fragment> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),n=(0,o.__importDefault)(n(444)),r={musicStyle:"cs-music-tooltip",timbre:"cs-music-tooltip",wordMethod:"cs-music-tooltip"},s={musicStyle:"选择曲风",timbre:"选择音色",wordMethod:"选择生成方式"},n=(i=a.Component,(0,o.__extends)(l,i),l.prototype.initData=function(){return{musicButtonData:[],openPanelType:"",musicButtonsComponents:r,musicButtonsTitles:s,musicButtonActiveValue:{musicStyle:{},timbre:{},wordMethod:{text:"AI写歌词"}},downImg:"https://psstatic.cdn.bcebos.com/aife/image/12_12_1760441491000.png",upImg:"https://psstatic.cdn.bcebos.com/aife/image/upas_1760441610000.png"}},l.prototype.attached=function(){var e=this;this.watch("musicButtonActiveValue",function(t){Array.isArray(t)&&(t=t.reduce(function(t,e){return e&&e.type&&(t[e.type]=e),t},{}),e.data.set("musicButtonActiveValue",(0,o.__assign)({},t)))})},l.prototype.detached=function(){window.removeEventListener("resize",this.listener),this.listener&&document.removeEventListener("click",this.listener,!0),this.listener=null},l.prototype.getFirstOptionText=function(e){var t=this.data.get("musicButtonData").find(function(t){return t.optionType===e});return t&&Array.isArray(t.data)&&t.data[0]&&t.data[0].text||""},l.prototype.sendUbcLog=function(e,n,i){void 0===i&&(i={}),window.require(["superman/components/ubc"],function(t){t=new t.Ubc(window.require,{ubcid:18463});"click"===e?null!=t&&t.sendClickLog(n,i):"show"===e?null!=t&&t.sendShowLog(n,i):null!=t&&t.sendLog(e,n,i)})},l.prototype.openPanel=function(i){var t,o=this;this.listener&&document.removeEventListener("click",this.listener,!0),this.data.get("openType")!==i&&((t=this.data.get("openType"))&&this.closePanel(t),this.data.set("openType",i),this.listener=function(t){var e=document.querySelector("#music-panel-"+i),n=t.target.closest("#music-button-container-"+i);!e||e.contains(t.target)||n||o.closePanel(i)},document.addEventListener("click",this.listener,{capture:!0}))},l.prototype.closePanel=function(t){this.data.get("openType")===t&&(this.data.set("openType",""),this.listener&&document.removeEventListener("click",this.listener,!0))},l.prototype.handleButtonClick=function(t,e){var n=t.optionType,i=this.data.get("openType");this.sendUbcLog("click","searchkuang_option",{function_type:this.data.get("openPanelType"),function_pos:e+1,option_type:n,button_text:t.defaultText}),i===n?this.closePanel(n):(i&&this.closePanel(i),this.openPanel(n))},l.prototype.getMusicBtnVal=function(t){return(null==t?void 0:t.data[0]).value},l.prototype.handleMusicButtonClick=function(e){switch(e.optionType){case"musicStyle":this.data.apply("musicButtonActiveValue",function(t){return(0,o.__assign)((0,o.__assign)({},t),{musicStyle:e})});break;case"timbre":this.data.apply("musicButtonActiveValue",function(t){return(0,o.__assign)((0,o.__assign)({},t),{timbre:e})});break;case"wordMethod":this.data.apply("musicButtonActiveValue",function(t){return(0,o.__assign)((0,o.__assign)({},t),{wordMethod:e})}),this.data.set("musicPlaceHolder",e.inputPanelText)}},l.filters={buttonText:function(t,e){return[this.getFirstOptionText("musicStyle"),this.getFirstOptionText("timbre")].includes(t)||!t?e:t}},l.components={"cs-music-tooltip":n["default"]},l);function l(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=" <div class=\"{{$style['directive-panel']}}\"> <h3 class=\"{{$style['directive-title']}}\"> {{ title }} </h3> <div class=\"{{$style['button-container']}}\"> <fragment s-for=\"item in musicData.data\"> <div class=\"{{$style['directive-button']}} {{showActiveItemClass(activeValue, item) ? $style['directive-button-selected'] : ''}}\" on-click=\"handleBtnClick(item)\"> {{ item.text }} </div> </fragment> </div> </div> "},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),n=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{title:"",optionType:"",musicData:{},activeValue:{}}},a.prototype.showActiveItemClass=function(t,e){var n=this.data.get("musicData.defaultText"),i=this.data.get("musicData.data"),i=i&&i[0]&&i[0].text||"";return null!=t&&t.text?t.text===e.text:[i,n].includes(e.text)},a.prototype.handleBtnClick=function(t){this.fire("btn-click",(0,o.__assign)({optionType:this.data.get("optionType")},t))},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div> <cs-draw-button draw-buttons-data="{{drawButtonsData}}" draw-button-active-value="{{drawButtonActiveValue}}" on-btn-click="handleDrawButtonClick" tooltip-position="bottom"></cs-draw-button> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=n(0),n=(0,r.__importDefault)(n(448)),n=(i=o.Component,(0,r.__extends)(a,i),a.prototype.initData=function(){return{drawButtonsData:[],drawButtonActiveValue:{style:{},ratio:{},recommend:{}}}},a.prototype.handleDrawButtonClick=function(t){switch(t.optionType){case"recommend":this.fire("add-input-content",{word:t.text,noClear:!0});break;case"style":this.data.set("drawButtonActiveValue.style",t);break;case"ratio":this.data.set("drawButtonActiveValue.ratio",t)}},a.prototype.handleDrawButtonsSettings=function(t){var e,n;"init"===t.type?this.data.set("drawButtonsData",t.pictureOptions):"show"===t.type?(e=(n=t||{}).openPanelMode,n=void 0===(n=n.extData)?{}:n,this.fire("outside-panel-click",{needShowPlaceholder:!1,openPanelMode:void 0===e?"":e}),n=n.aiPictureCreate||{},this.handleInvalidDrawData(n)):"change"===t.type&&this.handleInvalidDrawData(t.drawStyle)},a.prototype.handleInvalidDrawData=function(i){var t=this.data.get("drawButtonActiveValue"),e=this.data.get("drawButtonsData"),o={};e.forEach(function(t){o[t.optionType]=t.data});var a={};Object.keys(i).forEach(function(t){var e,n=i[t];n&&(e=(o[t]||[]).find(function(t){return t.text===n}),a[t]=e?{optionType:t,text:e.text,icon:e.icon}:{optionType:t,text:"",icon:""})}),this.data.set("drawButtonActiveValue",(0,r.__assign)((0,r.__assign)({},t),a))},a.prototype.getDrawInfo=function(){return this.data.get("drawButtonActiveValue")},a.prototype.sendUbcLog=function(t){var e=t.type,n=t.value,t=t.ext,i=void 0===t?{}:t;window.require(["superman/components/ubc"],function(t){t=new t.Ubc(window.require,{ubcid:18463});"click"===e?null!=t&&t.sendClickLog(n,i):"show"===e?null!=t&&t.sendShowLog(n,i):null!=t&&t.sendLog(e,n,i)})},a.components={"cs-draw-button":n["default"]},a.messages={"ui:draw-button-click":function(t){this.handleDrawButtonClick(t.value)},"log:send-ubc-log":function(t){this.sendUbcLog(t.value)}},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="{{$style[\'draw-buttons-wrapper\']}}" on-click="handleClick"> <fragment s-for="item, index in drawButtonsData"> <div class="{{$style[\'draw-button-area\']}}"> <div id="{{\'draw-button-container-\' + item.optionType}}" class="{{$style[\'draw-button-container\']}} {{open === item.optionType ? $style[\'draw-button-container-active\'] : \'\'}}" on-click="handleTooltipChange(item, index)"> <div class="{{$style[\'draw-buttons-text\']}}"> {{drawButtonActiveValue[item.optionType].text || item.defaultText}} </div> <img class="{{$style[\'draw-button-icon\']}}" src="{{open === item.optionType ? upImg : downImg}}"> </div> <div id="{{\'draw-tooltip-\' + item.optionType}}" s-is="{{drawButtonsComponents[item.optionType]}}" s-show="{{open === item.optionType}}" class="{{$style[\'draw-button-tooltip\']}} {{$style[\'draw-button-tooltip-\' + tooltipPosition]}} {{item.optionType === \'recommend\' ? $style[\'draw-button-tooltip-recommend\'] : \'\'}}" drawData="{{item}}" order="{{index + 1}}" active-value="{{drawButtonActiveValue[item.optionType]}}" on-btn-click="handleDrawBtnClick"></div> </div> </fragment> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),r=(0,o.__importDefault)(n(451)),s=(0,o.__importDefault)(n(454)),n=(0,o.__importDefault)(n(457)),l={style:"cs-input-style",ratio:"cs-input-ratio",recommend:"cs-input-recommend"},n=(i=a.Component,(0,o.__extends)(u,i),u.prototype.initData=function(){return{drawButtonsComponents:l,open:"",tooltipPosition:"top",downImg:"https://psstatic.cdn.bcebos.com/aife/image/12_12_1760441491000.png",upImg:"https://psstatic.cdn.bcebos.com/aife/image/upas_1760441610000.png"}},u.prototype.attached=function(){},u.prototype.detached=function(){this.clickListener&&document.removeEventListener("click",this.clickListener,!0)},u.prototype.handleTooltipChange=function(t,e){var n=t.optionType,i=t.defaultText,t=this.data.get("drawButtonActiveValue")||{};this.dispatch("log:send-ubc-log",{type:"click",value:"searchkuang_option",ext:{button_text:(null===(t=t[n])||void 0===t?void 0:t.text)||i,function_type:n,option_type:i,function_pos:e+1}});e=this.data.get("open");e===n?this.closeTooltip(n):(e&&this.closeTooltip(e),this.openTooltip(n))},u.prototype.openTooltip=function(i){var t,o=this;this.clickListener&&document.removeEventListener("click",this.clickListener,!0),this.data.get("open")!==i&&((t=this.data.get("open"))&&this.closeTooltip(t),this.data.set("open",i),this.clickListener=function(t){var e=document.querySelector("#draw-tooltip-"+i),n=t.target.closest("#draw-button-container-"+i);!e||e.contains(t.target)||n||o.closeTooltip(i)},document.addEventListener("click",this.clickListener,{capture:!0}))},u.prototype.closeTooltip=function(t){this.data.get("open")===t&&(this.data.set("open",""),this.clickListener&&document.removeEventListener("click",this.clickListener,!0))},u.prototype.handleDrawBtnClick=function(t){"recommend"!==t.optionType&&this.closeTooltip(t.optionType),this.dispatch("ui:draw-button-click",t)},u.prototype.handleClick=function(t){t.stopPropagation()},u.components={"cs-input-ratio":r["default"],"cs-input-recommend":s["default"],"cs-input-style":n["default"]},u);function u(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="{{$style[\'draw-ratio-wrapper\']}}"> <div class="{{$style[\'draw-ratio-title\']}}"> 选择比例 </div> <div class="{{$style[\'draw-ratio-content-wrapper\']}}"> <fragment s-for="item, index in drawData.data"> <div class="{{$style[\'draw-ratio-content-item\']}} {{activeValue.text === item.text ? $style[\'draw-ratio-content-item-active\'] : \'\'}}" on-click="handleBtnClick(item, index)"> <img src="{{item.icon}}" alt> <span>{{ item.text }}</span> </div> </fragment> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),n=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{drawData:{}}},a.prototype.attached=function(){this.dispatch("log:send-ubc-log",{type:"show",value:"searchkuang_option",ext:{function_type:this.data.get("drawData.optionType"),option_type:this.data.get("drawData.defaultText"),function_pos:this.data.get("order")}})},a.prototype.handleBtnClick=function(t,e){this.dispatch("log:send-ubc-log",{type:"click",value:"searchkuang_option_board",ext:{button_text:null==t?void 0:t.text,function_pos:e+1,function_type:this.data.get("drawData.optionType"),option_type:this.data.get("drawData.defaultText")}}),this.fire("btn-click",(0,o.__assign)({optionType:"ratio"},t))},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div class="{{$style[\'draw-recommend-wrapper\']}}"> <div class="{{$style[\'draw-recommend-title\']}}"> 推荐词 </div> <div class="{{$style[\'draw-recommend-content-container\']}}"> <fragment s-for="itemData in drawData.data"> <div class="{{$style[\'draw-recommend-content-wrapper\']}}"> <div>{{ itemData.text }}</div> <div class="{{$style[\'draw-recommend-content\']}}"> <fragment s-for="word, index in itemData.recommendData"> <span class="{{$style[\'draw-recommend-content-text\']}}" on-click="handleBtnClick(itemData.text, word, index)"> {{ word }} </span> </fragment> </div> </div> </fragment> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{drawData:{data:[]}}},a.prototype.attached=function(){this.dispatch("log:send-ubc-log",{type:"show",value:"searchkuang_option",ext:{function_type:this.data.get("drawData.optionType"),function_pos:this.data.get("order"),option_type:this.data.get("drawData.defaultText")}})},a.prototype.handleBtnClick=function(t,e,n){this.dispatch("log:send-ubc-log",{type:"click",value:"searchkuang_option_board",ext:{button_text:e,function_pos:n+1,function_type:this.data.get("drawData.optionType"),option_type:this.data.get("drawData.defaultText")}}),this.fire("btn-click",{optionType:"recommend",text:e})},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e){t.exports=" <div class=\"{{$style['draw-style-wrapper']}}\"> <div class=\"{{$style['draw-style-title']}}\"> 选择风格 </div> <div class=\"{{$style['draw-style-content-wrapper']}}\"> <div s-for=\"itemList in drawStyleData\" class=\"{{$style['draw-style-content-list']}}\"> <fragment s-for=\"item, index in itemList\"> <div class=\"{{$style['draw-style-content-item']}}\" on-click=\"handleBtnClick(item, index)\"> <div class=\"{{$style['draw-style-content-item-img']}} {{item.text === activeValue.text ? $style['draw-style-content-item-img-active']:''}}\"> <img src=\"{{item.icon}}\" alt> </div> <span class=\"{{$style['draw-style-content-item-text']}} {{item.text === activeValue.text ? $style['draw-style-content-item-text-active'] : ''}}\"> {{ item.text }} </span> </div> </fragment> </div> </div> </div> "},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),n=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{drawStyleData:[[]]}},a.prototype.attached=function(){this.dispatch("log:send-ubc-log",{type:"show",value:"searchkuang_option",ext:{function_type:this.data.get("drawData.optionType"),function_pos:this.data.get("order"),option_type:this.data.get("drawData.defaultText")}}),this.data.set("drawStyleData",this.splitArrayToN(this.data.get("drawData.data"),6))},a.prototype.splitArrayToN=function(t,e){for(var n=[],i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n},a.prototype.handleBtnClick=function(t,e){this.dispatch("log:send-ubc-log",{type:"click",value:"searchkuang_option_board",ext:{button_text:null==t?void 0:t.text,function_pos:e+1,function_type:this.data.get("drawData.optionType"),option_type:this.data.get("drawData.defaultText")}}),this.fire("btn-click",(0,o.__assign)({optionType:"style"},t))},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e){t.exports=' <div s-ref="container" class="more-dropdown-container {{wrapperClass}}" on-mouseenter="fireShowLog"> <div class="more-dropdown-trigger {{btnClass}}"> <slot name="btn-text"> <img class="more-dropdown-trigger-icon" src="{{icon}}"> 更多 </slot> </div> <div class="more-dropdown-menu-wrapper {{menuWrapperClass}}"> <div class="more-dropdown-menu {{menuClass}}" s-ref="menu" on-click="handleMenuClick"> <slot></slot> </div> </div> </div> '},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{icon:"https://psstatic.cdn.bcebos.com/aife/static/more-menu_1756807326000.svg"}},a.prototype.handleMenuClick=function(t){t.stopPropagation(),t.target!==t.currentTarget&&this.close()},a.prototype.fireShowLog=function(){this.fire("menu-show",{})},a.prototype.close=function(){var t=this.ref("menu");t&&(t.style.display="none",setTimeout(function(){t.style.display=""},100))},a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(347)},function(t,e,n){var i=n(2),o=[n(348)],a=n(93),r=n(94)["default"];t.exports=n(94),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(349);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("285fce29",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-input-background_3edHa {\n  position: relative;\n}\n.weak-svg_2Rvl2 svg,\n.weak-svg_2Rvl2 img {\n  opacity: 0.85;\n}\n.weak-svg_2Rvl2:hover svg,\n.weak-svg_2Rvl2:hover img {\n  opacity: 1;\n}\n.aisearch-btn_1yI-K {\n  margin-left: -6px;\n  border-radius: 12px;\n  border: 0.5px solid #DBDCE0;\n  height: 38px;\n  display: flex;\n  align-items: center;\n  padding: 0 18px 0 15px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  box-sizing: border-box;\n  color: #333333;\n}\n.aisearch-btn_1yI-K.jump-btn_2QC9p {\n  color: #4E6EF2;\n  font-weight: 500;\n}\n.aisearch-btn-active_2XFWO {\n  background-color: rgba(78, 110, 242, 0.09);\n  color: #4e6ef2;\n  border-color: rgba(78, 110, 242, 0.12);\n  font-weight: 500;\n}\n.aisearch-btn-active_2XFWO .new-input-img_2U7f2 {\n  opacity: 1;\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-search-btn-svg_vi_CZ {\n  margin-left: -6px;\n}\n.left-tool_12WeH {\n  display: flex;\n}\n.left-tool_12WeH .overword-tip_3QK26 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-left: 15px;\n  color: #9195a3;\n  font-size: 14px;\n  -webkit-font-smoothing: antialiased;\n  /* 标准抗锯齿 */\n  -moz-osx-font-smoothing: grayscale;\n  /* 针对Mac的字体平滑 */\n}\n.left-tool_12WeH .overword-tip-pure_3yM61 {\n  margin-left: 0;\n}\n.left-tool_12WeH .overword-tip_3QK26 .overword-submit_29wEi {\n  margin-left: 9px;\n  color: #4e6ef2;\n  cursor: pointer;\n}\n.left-tool_12WeH .ds-btn_2pPkz {\n  display: flex;\n  align-items: center;\n  margin-left: 7px;\n}\n.left-tool_12WeH .ds-btn_2pPkz img {\n  height: 14px;\n}\n.right-tool_3we_U {\n  display: flex;\n}\n.right-tool_3we_U.right-tool-no-margin_1fwj_ {\n  margin-right: -15px;\n}\n.right-tool_3we_U > *:not(:last-child) {\n  margin-right: 15px;\n}\n.right-tool_3we_U #voice-input-wrapper_3xz4u {\n  margin-right: 15px !important;\n}\n.right-tool_3we_U .tool-item_1e6GD {\n  display: flex;\n  cursor: pointer;\n  color: #333;\n}\n.right-tool_3we_U .tool-item_1e6GD svg {\n  display: block;\n}\n.right-tool_3we_U .tool-item_1e6GD:hover {\n  color: #4e6ef2;\n}\n.right-tool_3we_U .upload-btn-disabled_1sius {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n.panel-list_8jHmm {\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  width: 100%;\n  bottom: -84px;\n}\n.panel-list_8jHmm > *:not(:last-child) {\n  margin-right: 9px;\n}\n.smart-input-mic_3blO0 {\n  display: none;\n}\n.drop-down-wrapper_2KOP3 .guide:before {\n  content: '';\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  width: 7px;\n  height: 7px;\n  background-color: #f73131;\n  border-radius: 50px;\n  box-shadow: 0px 1.56px 7.78px 0px #ff274b4d;\n}\n.drop-down-btn_2L7_a {\n  position: relative;\n  cursor: pointer;\n  border-radius: 12px;\n  height: 36px;\n  box-sizing: border-box;\n  flex-grow: 1;\n  flex-shrink: 0;\n  background: #f6f7fe;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 500;\n  color: #333333;\n}\n.drop-down-btn_2L7_a:hover {\n  color: #4e6ef2;\n  background: #eff2fe;\n}\n.drop-down-btn_2L7_a:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.drop-down-menu-wrapper_-I6Hm {\n  top: 100%;\n  left: 0;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl > * {\n  height: 32px;\n  padding-left: 9px;\n  background: #fff;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl > *:hover {\n  background: rgba(78, 110, 242, 0.06);\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl > *:not(:last-child) {\n  margin-bottom: 8px;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl * {\n  justify-content: flex-start;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl .panel-guide:before {\n  top: 4px;\n  left: 74px;\n}\n.drop-down-menu_1hfyl.drop-down-menu_1hfyl.drop-down-menu_1hfyl .deep-research-panel:before {\n  left: 87px;\n}\nbody:not(.home-index-middle) #chat-textarea,\nbody:not(.home-index-middle) #chat-input-area {\n  min-height: 28px;\n}\nbody:not(.home-index-middle) #chat-input-main .chat-input-tool {\n  padding-top: 7px;\n}\nbody:not(.home-index-middle) #chat-input-main .ai-bdsug.ai-bdsug-new ul li .sug-content {\n  min-width: 110px;\n}\nbody:not(.home-index-middle) .smart-input-new-style #chat-input-main {\n  border-radius: 21px;\n}\nbody:not(.home-index-middle) .smart-input-new-style #chat-textarea,\nbody:not(.home-index-middle) .smart-input-new-style #chat-input-area {\n  min-height: 49px;\n}\nbody:not(.home-index-middle) .smart-input-new-style.smart_input_height_superman.smart_input_superman #head_wrapper.search-box-new-head-wrapper {\n  height: calc(35% + 120px);\n}\nbody:not(.home-index-middle) .smart-input-new-style .aisearch-btn_1yI-K {\n  padding: 0 12px 0 9px;\n  height: 36px;\n}\nbody:not(.home-index-middle) .smart-input-new-style .panel-list_8jHmm {\n  bottom: -60px;\n}\nbody:not(.home-index-middle) .smart-input-new-style .weak-svg_2Rvl2 svg,\nbody:not(.home-index-middle) .smart-input-new-style .weak-svg_2Rvl2 img {\n  opacity: 1;\n}\nbody:not(.home-index-middle) .smart-input-new-style .s-bottom-space {\n  margin-top: 13px;\n}\nbody:not(.home-index-middle) .smart-input-new-style #s_wrap.s-isindex-wrap {\n  margin-top: 13px;\n}\nbody:not(.home-index-middle) .smart-input-new-style .s-hotsearch-wrapper-no-login {\n  margin-top: 100px;\n}\n#right-tool *,\n#left-tool *,\n.panel-list_8jHmm * {\n  font-family: PingFang SC, Arial, sans-serif !important;\n}\n",""]),e.locals={"chat-input-background":"chat-input-background_3edHa",chatInputBackground:"chat-input-background_3edHa","weak-svg":"weak-svg_2Rvl2",weakSvg:"weak-svg_2Rvl2","aisearch-btn":"aisearch-btn_1yI-K",aisearchBtn:"aisearch-btn_1yI-K","jump-btn":"jump-btn_2QC9p",jumpBtn:"jump-btn_2QC9p","aisearch-btn-active":"aisearch-btn-active_2XFWO",aisearchBtnActive:"aisearch-btn-active_2XFWO","new-input-img":"new-input-img_2U7f2",newInputImg:"new-input-img_2U7f2","ai-search-btn-svg":"ai-search-btn-svg_vi_CZ",aiSearchBtnSvg:"ai-search-btn-svg_vi_CZ","left-tool":"left-tool_12WeH",leftTool:"left-tool_12WeH","overword-tip":"overword-tip_3QK26",overwordTip:"overword-tip_3QK26","overword-tip-pure":"overword-tip-pure_3yM61",overwordTipPure:"overword-tip-pure_3yM61","overword-submit":"overword-submit_29wEi",overwordSubmit:"overword-submit_29wEi","ds-btn":"ds-btn_2pPkz",dsBtn:"ds-btn_2pPkz","right-tool":"right-tool_3we_U",rightTool:"right-tool_3we_U","right-tool-no-margin":"right-tool-no-margin_1fwj_",rightToolNoMargin:"right-tool-no-margin_1fwj_","voice-input-wrapper":"voice-input-wrapper_3xz4u",voiceInputWrapper:"voice-input-wrapper_3xz4u","tool-item":"tool-item_1e6GD",toolItem:"tool-item_1e6GD","upload-btn-disabled":"upload-btn-disabled_1sius",uploadBtnDisabled:"upload-btn-disabled_1sius","panel-list":"panel-list_8jHmm",panelList:"panel-list_8jHmm","smart-input-mic":"smart-input-mic_3blO0",smartInputMic:"smart-input-mic_3blO0","drop-down-wrapper":"drop-down-wrapper_2KOP3",dropDownWrapper:"drop-down-wrapper_2KOP3","drop-down-btn":"drop-down-btn_2L7_a",dropDownBtn:"drop-down-btn_2L7_a","drop-down-menu-wrapper":"drop-down-menu-wrapper_-I6Hm",dropDownMenuWrapper:"drop-down-menu-wrapper_-I6Hm","drop-down-menu":"drop-down-menu_1hfyl",dropDownMenu:"drop-down-menu_1hfyl"},t.exports=e},function(t,e,n){var i=n(2),o=[n(351)],a=n(95),r=n(96)["default"];t.exports=n(96),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(352);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("9aa2c530",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-input-anchor {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  -webkit-font-smoothing: antialiased;\n  /* 标准抗锯齿 */\n  -moz-osx-font-smoothing: grayscale;\n  /* 针对Mac的字体平滑 */\n}\n#chat-input-main {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 99;\n  border-radius: 19px;\n}\n#chat-input-main * {\n  font-family: arial;\n}\n#chat-input-main.chat-input-main-focus:before {\n  opacity: 0.14;\n}\n#chat-input-main.chat-input-main-focus .chat-input-wrapper {\n  box-shadow: 0 13px 18px -15px rgba(77, 128, 255, 0.2);\n}\n#chat-input-main.chat-input-main-focus .chat-input-wrapper.chat-ai-wrapper #chat-input-panel {\n  display: block;\n}\n#chat-input-main.chat-input-main-focus .chat-input-wrapper-box-shadow {\n  box-shadow: 0 10px 40px -8px rgba(77, 128, 255, 0.1);\n}\n#chat-input-main.chat-input-main-focus .chat-input-textarea {\n  max-height: 70px;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n#chat-input-main.chat-input-main-focus .chat-input-ai .ai-input-editor {\n  max-height: 70px;\n  overflow-y: scroll;\n}\n#chat-input-main.openning-anime .chat-input-wrapper {\n  box-shadow: 0 0 0 rgba(0, 0, 0, 0);\n}\n#chat-input-main.openning-anime .chat-input-wrapper-box-shadow {\n  box-shadow: 0 0 0 rgba(0, 0, 0, 0);\n}\n#chat-input-main.openning-anime .chat-input-op-anime {\n  z-index: 2;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  border-radius: inherit;\n  overflow: hidden;\n  transition: opacity 1s ease;\n}\n#chat-input-main.openning-anime .chat-input-op-anime:before {\n  content: '';\n  width: 1000px;\n  height: 1000px;\n  top: 50%;\n  left: 50%;\n  transform-origin: center;\n  position: absolute;\n  background-size: 100% 100%;\n  animation: rotateAndFade 5s linear forwards;\n  background-image: url(https://gips0.baidu.com/it/u=14154217,3818936281&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f384_384);\n}\n@keyframes rotateAndFade {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, -50%) rotate(0deg);\n  }\n  20% {\n    opacity: 1;\n    transform: translate(-50%, -50%) rotate(120deg);\n    /* 1s 旋转 120° */\n  }\n  80% {\n    opacity: 1;\n    transform: translate(-50%, -50%) rotate(480deg);\n    /* 接着旋转两圈（2s + 1s） */\n  }\n  100% {\n    opacity: 0;\n    transform: translate(-50%, -50%) rotate(600deg);\n    /* 最后 1s 再转 120° */\n  }\n}\n#chat-input-main .chat-input-wrapper-border {\n  z-index: 1;\n  position: absolute;\n  border: 1.5px solid transparent;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  border-radius: inherit;\n  background: #4e6ef2;\n  background: linear-gradient(white, white) padding-box, linear-gradient(160deg, #3377fe, #4c6fff, #8370ff, #ba59ff) border-box;\n}\n#chat-input-main .chat-input-wrapper-border.chat-input-wrapper-border-ai-search {\n  z-index: 2;\n}\n#chat-input-main .chat-input-wrapper-box-shadow {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  border-radius: inherit;\n  transition: box-shadow 240ms ease;\n  box-shadow: 0 10px 40px -8px rgba(77, 128, 255, 0.05);\n}\n#chat-input-main .chat-input-wrapper {\n  position: relative;\n  z-index: 3;\n  border: 1.5px solid transparent;\n  border-radius: inherit;\n  background: linear-gradient(white, white) padding-box, transparent border-box;\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n  transition: box-shadow 240ms ease;\n  box-shadow: 0 13px 18px -15px rgba(77, 128, 255, 0.1);\n}\n#chat-input-main .chat-input-wrapper .chat-input-container {\n  padding: 9px 9px 9px 0px;\n}\n#chat-input-main .chat-input-wrapper .chat-input-container:hover {\n  cursor: text;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper #chat-input-panel {\n  display: none;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper #chat-input-panel.panel-expand {\n  opacity: 1;\n  transition: max-height 280ms ease, opacity 280ms ease;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper #chat-input-panel.panel-shrink {\n  opacity: 0;\n  max-height: 0;\n  transition: max-height 160ms ease, opacity 160ms ease;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper .chat-input-container {\n  padding-left: 12px;\n}\n#chat-input-main .chat-input-wrapper.chat-ai-wrapper.chat-ai-file-wrapper .chat-input-container {\n  padding-left: 12px;\n}\n#chat-input-main .chat-input-wrapper.chat-normal-wrapper .chat-input-container {\n  padding-left: 18px;\n}\n#chat-input-main .chat-input-wrapper.chat-normal-wrapper #chat-input-panel.panel-expand {\n  opacity: 1;\n}\n#chat-input-main .chat-input-wrapper.chat-normal-wrapper #chat-input-panel.panel-shrink {\n  display: none;\n}\n#chat-input-main .chat-input-wrapper #chat-input-panel {\n  position: relative;\n  overflow: hidden;\n}\n#chat-input-main .chat-input-wrapper #chat-input-panel .chat-input-panel-divider {\n  margin-top: 1px;\n  border-top: 0.3px solid #dbdce0;\n  position: absolute;\n  left: 15px;\n  right: 9px;\n  top: 0;\n}\n#chat-input-main .chat-input-wrapper #chat-input-panel .chat-input-panel-container {\n  max-height: inherit;\n  overflow: hidden;\n  border-bottom-left-radius: 18px;\n  border-bottom-right-radius: 18px;\n}\n#chat-input-main .chat-input-scroll-style::-webkit-scrollbar {\n  display: block;\n  width: 4px;\n}\n#chat-input-main .chat-input-scroll-style:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(78, 110, 242, 0.1);\n  border-radius: 4px;\n}\n#chat-input-main .chat-input-scroll-style::-webkit-scrollbar-track {\n  box-shadow: none;\n  background-color: initial;\n}\n#chat-input-main .chat-input-textarea {\n  width: 100%;\n  box-sizing: border-box;\n  max-height: 26px;\n  cursor: auto;\n  padding: 0;\n  overflow: hidden;\n  resize: none;\n  font-size: 16px;\n  border: none;\n  outline: none;\n  line-height: 26px;\n  padding-right: 6px;\n  display: block;\n  caret-color: #335bff;\n}\n#chat-input-main .chat-input-textarea::placeholder {\n  padding-left: 1px;\n  color: #9195a3;\n}\n#chat-input-main .chat-input-ai {\n  position: relative;\n  padding-left: 6px;\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper {\n  z-index: 1;\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  user-select: none;\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper .ai-input-prefix-container {\n  height: 24px;\n  padding: 0 6px;\n  border-radius: 6px;\n  background: #F6F7FE;\n  display: flex;\n  align-items: center;\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper .close-icon {\n  margin-left: 3px;\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper .ai-input-prefix {\n  user-select: none;\n  font-size: 16px;\n  line-height: 16px;\n  font-weight: 500;\n  background: linear-gradient(90deg, #2867fa, #873cff);\n  -webkit-background-clip: text;\n  color: transparent;\n  -webkit-text-fill-color: transparent;\n  /* Safari 兼容 */\n}\n#chat-input-main .chat-input-ai .ai-input-prefix-wrapper .ai-input-prefix-holder {\n  width: 6px;\n  height: 1em;\n  vertical-align: baseline;\n  background: transparent;\n}\n#chat-input-main .chat-input-ai .cs-pc-input-agent {\n  display: inline-block;\n  color: #2440B3;\n  padding-left: 3px;\n  padding-right: 3px;\n  font-weight: 500;\n}\n#chat-input-main .chat-input-ai .cs-pc-input-agent .agent-icon-ai {\n  font-size: 11px;\n  line-height: 11px;\n  position: relative;\n  top: -4px;\n  font-weight: 400;\n}\n#chat-input-main .chat-input-ai .ai-input-editor {\n  outline: none;\n  line-height: 28px;\n  font-size: 16px;\n  cursor: text;\n  max-height: 28px;\n  overflow-y: hidden;\n  overflow-x: hidden;\n  caret-color: #335bff;\n  -moz-user-select: text;\n  user-select: text;\n  padding-right: 9px;\n  margin-right: -9px;\n}\n#chat-input-main .chat-input-ai .ai-input-editor.ai-input-caret-hidden {\n  caret-color: transparent;\n}\n#chat-input-main .chat-input-ai .ai-input-editor.ai-input-placeholder:after {\n  color: #9195a3;\n  content: attr(placeholder);\n  padding-left: 1px;\n}\n#chat-input-main .chat-input-ai .ai-input-editor * {\n  text-indent: 0;\n}\n#chat-input-main .chat-input-ai .ai-input-editor .input-custom-item {\n  padding: 0 6px;\n  border-radius: 6px;\n  background-color: rgba(78, 110, 242, 0.09);\n  max-width: calc(100% - 27px);\n  font-weight: 500;\n  color: #4e6ef2;\n  display: inline-block;\n  line-height: 24px;\n}\n#chat-input-main .chat-input-ai .ai-input-editor .input-custom-item:focus {\n  outline: none;\n}\n#chat-input-main .chat-input-ai .ai-input-editor .input-custom-placeholder:after {\n  content: attr(placeholder);\n  color: rgba(78, 110, 242, 0.4);\n}\n#chat-input-main .chat-input-ai .ai-input-editor .input-custom-no-width {\n  user-select: none;\n  display: inline-block;\n  width: 3px;\n}\n#chat-input-main .chat-input-tool {\n  padding-top: 9px;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n}\n#chat-input-main .chat-input-tool * {\n  user-select: none;\n}\n#chat-input-main .chat-input-tool .tools-placeholder-wrapper {\n  flex: 1 1;\n  min-width: 12px;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper {\n  padding-left: 9px;\n  background: #fff;\n  border-radius: 12px;\n  align-items: center;\n  display: flex;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool {\n  display: flex;\n  align-items: center;\n  margin-right: 18px;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool > .tools-clear-icon:only-child {\n  margin-right: 0;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool .tools-clear-icon {\n  display: none;\n  cursor: pointer;\n  margin-right: 15px;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool .tools-clear-icon.show-clear-icon {\n  display: block;\n  opacity: 0.85;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool .tools-clear-icon svg {\n  display: block;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool #voice-input-wrapper:not(:last-child) {\n  margin-right: 18px;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #right-tool #voice-input-wrapper:empty {\n  margin-right: 0;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #chat-submit-button {\n  font-size: 17px;\n  font-weight: 500;\n  width: 108px;\n  height: 44px;\n  cursor: pointer;\n  color: #fff;\n  border-radius: 15px;\n  position: relative;\n  border: none;\n  background: linear-gradient(136deg, #286aff, #4e6ef2, #7274f9, #9f66ff);\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #chat-submit-button:hover {\n  background-image: linear-gradient(rgba(0, 0, 0, 0.09), rgba(0, 0, 0, 0.09)), linear-gradient(136deg, #286aff, #4e6ef2, #7274f9, #9f66ff);\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #chat-submit-button-ai {\n  cursor: pointer;\n  opacity: 0.3;\n}\n#chat-input-main .chat-input-tool .right-tools-wrapper #chat-submit-button-ai.chat-submit-button-ai-active {\n  opacity: 1;\n}\n.chat-input-drag-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.75);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  pointer-events: none;\n  z-index: 99999;\n  color: #333333;\n}\n.chat-input-drag-mask-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  top: 40%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.chat-input-drag-mask-image {\n  height: 84px;\n  width: 175px;\n}\n.chat-input-drag-mask-title {\n  font-size: 21px;\n  font-weight: 500;\n  margin-top: -2px;\n}\n.chat-input-drag-mask-content {\n  margin-top: 9px;\n  font-size: 14px;\n}\n.chat-input-drag-mask-sub-content {\n  margin-top: 3px;\n  font-size: 14px;\n}\n.smart-input-new-style #chat-input-main .chat-input-wrapper-border {\n  border: 1px solid transparent;\n  background: linear-gradient(120.58deg, #7AA2FF 3.49%, #878FFF 99.21%);\n}\n.smart-input-new-style #chat-input-main .chat-input-wrapper-box-shadow {\n  box-shadow: 0px 8px 36px -18px rgba(77, 128, 255, 0.28);\n}\n.smart-input-new-style #chat-input-main.chat-input-main-focus .chat-input-wrapper-box-shadow {\n  box-shadow: 0px 8px 22px -15px rgba(77, 128, 255, 0.1);\n}\n#chat-input-main.one-line-input #chat-input-area {\n  width: 100%;\n}\n#chat-input-main.one-line-input .chat-input-wrapper .chat-input-container {\n  padding-bottom: 9px;\n}\n#chat-input-main.one-line-input .chat-input-tool {\n  position: absolute;\n  right: 2.5px;\n  top: 2.5px;\n  padding-top: 0;\n  width: auto;\n}\n#chat-input-main.one-line-input .chat-input-tool #left-tool {\n  display: none;\n}\n#chat-input-main.one-line-input .chat-input-tool #chat-submit-button {\n  height: 38px;\n}\n#chat-input-main.one-line-input .chat-input-tool #voice-input-wrapper .listening-pill {\n  height: 38px;\n}\n.chat-input-anchor-ai-search #chat-input-main {\n  border-radius: 21px;\n}\n.chat-input-anchor-ai-search #chat-input-main.chat-input-main-focus .chat-input-textarea {\n  max-height: 260px;\n}\n.chat-input-anchor-ai-search #chat-input-main.chat-input-main-focus .chat-input-ai .ai-input-editor {\n  max-height: 176px;\n}\n.chat-input-anchor-ai-search #chat-input-main.chat-input-main-focus .chat-ai-file-wrapper .ai-input-editor {\n  max-height: 147px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-tool {\n  padding-top: 9px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-textarea {\n  min-height: 45px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-wrapper.chat-normal-wrapper.chat-ai-file-wrapper .chat-input-container {\n  padding-left: 18px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-ai-file-wrapper .chat-input-container {\n  padding-top: 12px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-container {\n  padding: 9px 12px 11px 12px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-container .right-tools-wrapper .chat-voice-input .chat-voice-input-mic-icon svg {\n  color: #333;\n  opacity: 1;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-container .right-tools-wrapper .chat-voice-input .chat-voice-input-mic-icon svg:hover {\n  color: #4e6ef2;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-container .chat-input-ai {\n  min-height: 69px;\n}\n.chat-input-anchor-ai-search #chat-input-main .chat-input-scroll-style {\n  scrollbar-width: auto;\n  scrollbar-color: auto;\n}\n@keyframes rotateForever {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.ai-input-file-delete {\n  width: 15px;\n  height: 15px;\n  position: fixed;\n  display: none;\n}\n.ai-input-file-delete .ai-input-file-delete-icon {\n  width: 100%;\n  height: 100%;\n}\n.ai-input-file {\n  position: relative;\n  height: 28px;\n  max-width: 243px;\n  display: inline-flex;\n  flex-direction: row;\n  cursor: pointer;\n  padding-right: 6px;\n  vertical-align: bottom;\n  align-items: center;\n}\n.ai-input-file:hover .ai-input-file-delete {\n  display: flex;\n}\n.ai-input-file:hover .ai-input-file-inner {\n  background: rgba(78, 110, 242, 0.06);\n}\n.ai-input-file .ai-input-file-inner {\n  position: relative;\n  height: 28px;\n  max-width: 243px;\n  display: inline-flex;\n  flex-direction: row;\n  border-radius: 6px;\n  background-color: #f5f6f9;\n  box-sizing: border-box;\n  cursor: pointer;\n  padding: 3px 9px 3px 3px;\n  vertical-align: bottom;\n  align-items: center;\n}\n.ai-input-file .ai-input-file-icon {\n  position: relative;\n}\n.ai-input-file .ai-input-file-icon .ai-input-file-icon-img {\n  width: 20px;\n  height: 20px;\n  border-radius: 6px;\n  display: block;\n}\n.ai-input-file .ai-input-file-name {\n  font-size: 16px;\n  line-height: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ai-input-file .ai-input-file-name-container {\n  font-size: 14px;\n  line-height: 14px;\n  margin-left: 3px;\n  overflow: hidden;\n}\n.ai-input-file .ai-input-file-name-container .ai-input-file-name {\n  display: inline-block;\n  max-width: 100px;\n  height: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n  font-size: 14px;\n  line-height: 14px;\n}\n.ai-input-file .ai-input-file-name-container .ai-input-file-num {\n  display: inline-block;\n  height: 100%;\n  font-size: 14px;\n  line-height: 14px;\n}\n.ai-input-file-uploading .ai-input-file-icon-loading {\n  position: absolute;\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  width: 10px;\n  height: 10px;\n  animation: rotateForever 1s linear infinite;\n}\n.ai-input-file-failed .ai-input-file-content {\n  color: #848691;\n}\n.ai-input-image {\n  position: relative;\n  vertical-align: bottom;\n  width: 28px;\n  height: 28px;\n  display: inline-flex;\n  flex-direction: row;\n  border-radius: 6px;\n  cursor: pointer;\n  margin-right: 6px;\n}\n.ai-input-image .ai-input-image-bg {\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n  border-radius: 6px;\n  min-width: 100%;\n}\n.ai-input-image .ai-input-image-num {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 2;\n  color: white;\n  font-size: 14px;\n  font-weight: bold;\n}\n.ai-input-image:hover .ai-input-file-delete {\n  display: flex;\n}\n.ai-input-image-uploading .ai-input-file-icon-loading {\n  position: absolute;\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  width: 10px;\n  height: 10px;\n  animation: rotateForever 1s linear infinite;\n}\n.multi-image-mask::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 6px;\n  background: rgba(0, 0, 0, 0.5);\n}\n.ai-bdsug.ai-bdsug-new {\n  font-size: 14px;\n  font-weight: 400;\n  color: #1e1f24;\n  padding-bottom: 14px;\n  margin-top: 10px;\n  -webkit-font-smoothing: auto;\n  -moz-osx-font-smoothing: auto;\n}\n.ai-bdsug.ai-bdsug-new ul {\n  /* 通用直达模板热标样式 */\n  /* 老数据热标样式 */\n  /* 通用直达模板 */\n  /* 文件样式 */\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-store span {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li {\n  position: relative;\n  padding-left: 0 !important;\n  padding-right: 9px;\n  min-height: 28px;\n  line-height: 28px;\n  cursor: pointer;\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li b {\n  font-weight: 400;\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li .bdsug-store-del {\n  right: 9px;\n  text-decoration: none;\n}\n.ai-bdsug.ai-bdsug-new ul li .bdsug-store-del:hover {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li:not([class*=\"bdsug-no-avoid\"])[data-no-ai-sug=\"1\"] .ask-ai-tail-wrapper {\n  display: none !important;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-wrapper {\n  display: flex;\n  flex: 1;\n  align-self: stretch;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-wrapper:hover {\n  font-weight: 500;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-wrapper:hover .ask-ai-tail-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/multimode/ai-icon-bold_1759053952000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-wrapper:hover .ask-ai-tail-text {\n  background: linear-gradient(90deg, #2867FA 0%, #873CFF 100%);\n  -webkit-background-clip: text;\n  background-clip: text;\n  -webkit-text-fill-color: transparent;\n  color: transparent;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-hover-upgrade .ask-ai-tail-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/black_search_1765518039000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-hover-upgrade .ask-ai-tail-text {\n  color: #333;\n  -webkit-text-fill-color: #333;\n  background: none;\n  -webkit-background-clip: none;\n  background-clip: none;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail {\n  display: flex;\n  align-items: center;\n  padding-right: 12px;\n  opacity: 0;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-icon {\n  margin-right: 6px;\n  width: 14px;\n  height: 14px;\n  background-image: url('https://psstatic.cdn.bcebos.com/multimode/ai-icon_1759047619000.svg');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 14px 14px;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-icon::before {\n  content: '';\n  background-image: url('https://psstatic.cdn.bcebos.com/multimode/ai-icon-bold_1759053952000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-line {\n  width: 0.5px;\n  height: 10px;\n  background-color: #000000;\n  margin-right: 21px;\n  opacity: 0.2;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-text {\n  font-size: 14px;\n  background: linear-gradient(90deg, #2867FA 0%, #873CFF 100%);\n  -webkit-background-clip: text;\n  background-clip: text;\n  -webkit-text-fill-color: transparent;\n  color: transparent;\n}\n.ai-bdsug.ai-bdsug-new ul li .ask-ai-tail-blank {\n  flex: 1;\n  height: 32px;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade {\n  color: #1e1f24;\n  min-height: 32px;\n  line-height: 32px;\n  display: flex;\n  align-items: center;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade b {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade .direct-sug-wrap {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade .direct-sug-wrap .name {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade .direct-sug-wrap .info {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade:first-child {\n  margin-top: -2px;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ai-upgrade:last-child {\n  margin-bottom: -3px;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-color-red {\n  color: #ee0333;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail {\n  display: flex;\n  padding-left: 16px;\n  align-items: center;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail .sug-content {\n  box-sizing: border-box;\n  min-width: 200px;\n  padding-left: 15px;\n  padding-right: 54px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #ee0333;\n  display: flex;\n  align-items: center;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail .sug-content b {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail .sug-content.sug-content-double {\n  width: 100%;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-ask-tail .direct-sug-wrap {\n  display: flex;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s {\n  background-color: #335CFF0D;\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .ori-his {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .ori-his.ainew-his,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .bdsug-s-aifile {\n  background-image: linear-gradient(45deg, #4E6EF2, #873CFF);\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent!important;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s b {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .direct-sug-wrap .name {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .direct-sug-wrap .info {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .ask-ai-tail {\n  opacity: 1;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search-hover_1756192477000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon.ai_guide {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai-icon-hover_1756192461000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon.ai_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/multimode/ai-icon-bold_1759053952000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon.ai_new_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/static/star-hover_1765347114000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .search-sug-icon.new_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/static/normal-hover_1765347379000.png');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-color-red {\n  color: #ee0333;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .sug-content {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .sug-content span:not([class*=\"sug-tag-comm\"]),\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s .sug-content b {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .search-sug-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search_1756192482000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .search-sug-icon.ai_guide {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai_1756192472000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade.bdsug-color-red .sug-content {\n  color: #ee0333;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade.bdsug-color-red .sug-content span:not([class*=\"sug-tag-comm\"]),\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade.bdsug-color-red .sug-content b {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .direct-sug-wrap .name {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .direct-sug-wrap .info {\n  color: #1e1f24;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover {\n  font-weight: 500;\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .search-sug-icon {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search-hover_1756192477000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .search-sug-icon.ai_guide {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai-icon-hover_1756192461000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover b {\n  font-weight: 500;\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .direct-sug-wrap .name {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul li.bdsug-s.bdsug-ai-hover-upgrade .sug-content:hover .direct-sug-wrap .info {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-tag-text {\n  position: sticky;\n  right: -4px;\n  margin-top: -2.5px;\n  display: inline-block;\n  box-sizing: border-box;\n  margin-left: 6px;\n  padding: 1px;\n  font-size: 12px;\n  line-height: 12px;\n  font-weight: 500;\n  text-align: center;\n  border-radius: 4px;\n  vertical-align: middle;\n  border-width: 1px;\n  border-style: solid;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-tag-img {\n  height: 18px;\n  max-width: 80px;\n  vertical-align: middle;\n  margin-left: 6px;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-new-tag {\n  text-align: center;\n  margin-left: 6px;\n  box-sizing: border-box;\n  font-size: 12px;\n  line-height: 14px;\n  padding: 1px 4px;\n  font-weight: 500;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-new-tag-grey {\n  color: #858585;\n  border: 1px solid rgba(133, 133, 133, 0.5);\n  border-radius: 4px;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-new-tag-blue {\n  color: #3366ff;\n  border: 1px solid rgba(51, 102, 255, 0.4);\n  border-radius: 4px;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-new-tag-orange {\n  color: #ff3333;\n  border: 1px solid rgba(255, 51, 51, 0.4);\n  border-radius: 4px;\n}\n.ai-bdsug.ai-bdsug-new ul .sug-hot-orange,\n.ai-bdsug.ai-bdsug-new ul .sug-hot-grey,\n.ai-bdsug.ai-bdsug-new ul .sug-hot-blue {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  font-size: 12px;\n  line-height: 12px;\n  padding: 2px;\n  text-align: center;\n  font-weight: 500;\n  margin-left: 6px;\n  vertical-align: text-bottom;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap {\n  display: block;\n  width: 100%;\n  height: 40px;\n  padding: 9px 0;\n  color: #626675;\n  /* 顶部样式 */\n  /* 底部样式 */\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .left-img-wrap {\n  position: relative;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .left-img-wrap::before {\n  content: '';\n  width: 38px;\n  height: 38px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  border: 1px solid rgba(0, 0, 0, 0.06);\n  border-radius: 9px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .left-img {\n  box-sizing: border-box;\n  float: left;\n  width: 40px;\n  height: 40px;\n  border-radius: 9px;\n  margin-right: 6px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .content {\n  float: left;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .header {\n  margin-bottom: 9px;\n  line-height: 18px;\n  height: 18px;\n  vertical-align: middle;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .name {\n  float: left;\n  font-size: 16px;\n  font-weight: 500;\n  color: #626675;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .tag-img {\n  width: 18px;\n  margin-left: 4px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .more {\n  line-height: 14px;\n  width: 240px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .brief,\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .info {\n  font-size: 14px;\n  font-weight: 400;\n  color: #626675;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .brief {\n  margin-right: 6px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .right-btn {\n  float: right;\n  margin-top: 8px;\n  margin-right: 6px;\n  width: 60px;\n  height: 24px;\n  text-align: center;\n  font-size: 14px;\n  color: #3366ff;\n  line-height: 24px;\n  background-image: linear-gradient(111deg, #e8f7ff 0%, #edf0ff 100%);\n  border-radius: 12px;\n}\n.ai-bdsug.ai-bdsug-new ul .direct-sug-wrap .right-btn:hover {\n  background: #315efb;\n  color: #fff;\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon {\n  margin-right: 6px;\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search_1756192482000.svg');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 14px 14px;\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon::before {\n  content: '度';\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/search-hover_1756192477000.svg');\n  visibility: hidden;\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.ai_guide {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai_1756192472000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.ai_guide::before {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai-icon-hover_1756192461000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.ai_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/superman/ai_1756192472000.svg');\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.ai_new_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/static/clock-circle-star_1765279751000.png');\n}\n.ai-bdsug.ai-bdsug-new ul .search-sug-icon.new_his {\n  background-image: url('https://psstatic.cdn.bcebos.com/aife/static/normal_1765347349000.png');\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-img-container {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 6px;\n  margin-right: 3px;\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-img-container img {\n  width: 14px;\n  height: 14px;\n  border-radius: 3px;\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-img-container.pc-aifile-single-img {\n  box-shadow: 0 0 0 0.5px rgba(220, 221, 224, 0.3) inset;\n  border-radius: 3px;\n}\n.ai-bdsug.ai-bdsug-new ul .img-more-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 14px;\n  height: 14px;\n  background-color: #00000033;\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: #FFFFFF;\n  line-height: 1;\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-info {\n  display: flex;\n  font-size: 14px;\n  color: #9195A3;\n}\n.ai-bdsug.ai-bdsug-new ul .pc-aifile-more {\n  margin-left: 3px;\n  color: #9195A3;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone {\n  margin-top: 10px;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone .setup_storeSug:hover {\n  color: #4e6ef2 !important;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone .del_all_storeSug:hover {\n  color: #4e6ef2 !important;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone .more_storeSug:hover {\n  color: #4e6ef2 !important;\n}\n.ai-bdsug.ai-bdsug-new .bdsug-feedback-tool-zone *:last-child {\n  margin-right: 0 !important;\n}\n.ai-bdsug.ai-bdsug-new .ai-bdsug-feedback-wrap {\n  background: none;\n  text-align: right;\n  margin-right: 15px;\n}\n.ai-bdsug.ai-bdsug-new .ai-bdsug-feedback-wrap .bdsug-feedback {\n  color: #9195a3;\n  font-size: 13px;\n  cursor: pointer;\n}\n.ai-bdsug.ai-bdsug-new .ai-bdsug-feedback-wrap .bdsug-feedback:hover {\n  color: #4e6ef2;\n}\n.ai-bdsug.ai-bdsug-new.bdsug-ai-upgrade .ai-bdsug-feedback-wrap {\n  margin-right: 16.5px;\n}\n.ai-bdsug.ai-bdsug-new.bdsug-ai-upgrade .bdsug-feedback-tool-zone {\n  text-align: right;\n  margin-right: 13.5px;\n}\n.ai-sug-panel-list {\n  -webkit-font-smoothing: auto;\n  -moz-osx-font-smoothing: auto;\n  display: flex;\n  justify-content: start;\n  margin-bottom: 10px;\n  margin-left: 17px;\n}\n.ai-sug-panel-list .ai-sug-panel-divider {\n  height: 14px;\n  margin: 0 7.5px;\n  align-self: center;\n  border-right: 0.5px solid #dbdce0;\n}\n.ai-sug-panel-list .ai-sug-panel-btn {\n  cursor: pointer;\n  padding: 0 7.5px;\n  border-radius: 9px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  line-height: 14px;\n}\n.ai-sug-panel-list .ai-sug-panel-btn img {\n  height: 14px;\n  width: 14px;\n  margin-right: 6px;\n}\n.ai-sug-panel-list .ai-sug-panel-btn:hover {\n  color: #315efb;\n}\n.ai-sug-panel-list .ai-sug-panel-btn:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-input-file-swiper-container {\n  width: 100%;\n  position: relative;\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-left-button,\n.ai-input-file-swiper-container .ai-input-file-swiper-right-button {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 59px;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  opacity: 1;\n  transition: opacity 0.3s;\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-left-button.ai-input-file-swiper-hidden,\n.ai-input-file-swiper-container .ai-input-file-swiper-right-button.ai-input-file-swiper-hidden {\n  opacity: 0;\n  pointer-events: none;\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-left-button {\n  left: 0;\n  background: linear-gradient(92.65deg, #ffffff 2.78%, rgba(255, 255, 255, 0) 98.37%);\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-right-button {\n  right: 0;\n  background: linear-gradient(92.65deg, rgba(255, 255, 255, 0) 2.78%, #ffffff 98.37%);\n}\n.ai-input-file-swiper-container .ai-input-file-left-icon-wrapper,\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper {\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 9px;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.7);\n  box-shadow: 0px 1.578px 9.467px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n}\n.ai-input-file-swiper-container .ai-input-file-left-icon-wrapper:hover,\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper:hover {\n  background-color: #ffffff;\n}\n.ai-input-file-swiper-container .ai-input-file-left-icon-wrapper:hover .cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper:hover .cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-left-icon-wrapper:hover .cs-icon-arrow-right,\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper:hover .cs-icon-arrow-right {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-input-file-swiper-container .ai-input-file-right-icon-wrapper {\n  margin-left: 20px;\n}\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-right {\n  width: 100%;\n  height: 100%;\n  color: var(--cos-color-text);\n  font-weight: 700;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left .ai-input-file-cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-right .ai-input-file-cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left .ai-input-file-cs-icon-arrow-right,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-right .ai-input-file-cs-icon-arrow-right {\n  height: 25px;\n  width: 25px;\n}\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left .ai-input-file-cs-icon-arrow-left,\n.ai-input-file-swiper-container .ai-input-file-cs-icon-right .ai-input-file-cs-icon-arrow-left {\n  transform: rotate(180deg);\n}\n.ai-input-file-swiper-container .ai-input-file-cs-icon-left {\n  margin-right: 2px;\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-scroll-container {\n  position: relative;\n  width: 100%;\n  overflow-x: auto;\n  scrollbar-width: none;\n  /* Firefox */\n  -ms-overflow-style: none;\n  /* IE and Edge */\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-scroll-container::-webkit-scrollbar {\n  display: none;\n  /* Chrome, Safari and Opera */\n}\n.ai-input-file-swiper-container .ai-input-file-swiper-wrapper {\n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n  column-gap: 9px;\n  width: max-content;\n  padding-right: 4px;\n}\n.ai-chat-input-file-container {\n  margin-top: 3px;\n  margin-bottom: 12px;\n}\n@keyframes rotateForever {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.ai-chat-input-file-container .ai-chat-input-file-delete {\n  width: 15px;\n  height: 15px;\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  display: none;\n}\n.ai-chat-input-file-container .ai-chat-input-file-delete .ai-chat-input-file-delete-icon {\n  width: 100%;\n  height: 100%;\n}\n.ai-chat-input-file-container .ai-chat-input-file {\n  position: relative;\n  width: 228px;\n  height: 60px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 12px;\n  background-color: #F5F6FA;\n  padding: 12px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-icon {\n  width: 36px;\n  height: 36px;\n  border-radius: 9px;\n  margin-right: 9px;\n  position: relative;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-icon .ai-chat-input-file-icon-img {\n  border-radius: 9px;\n  border: 0.5px solid #fff;\n  width: 100%;\n  height: 100%;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n  height: 100%;\n  overflow: hidden;\n  flex: 1;\n  padding: 1.5px 0;\n  box-sizing: border-box;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-name {\n  font-size: 12px;\n  font-weight: 500;\n  width: 100%;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-desc {\n  font-size: 12px;\n  font-weight: 400;\n  width: 100%;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-desc-success {\n  display: flex;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-desc-success-name {\n  margin-right: 6px;\n  flex: 0 1 auto;\n}\n.ai-chat-input-file-container .ai-chat-input-file .ai-chat-input-file-content .ai-chat-input-file-desc-success-size {\n  flex: 1;\n}\n.ai-chat-input-file-container .ai-chat-input-file:hover {\n  background: rgba(78, 110, 242, 0.06);\n}\n.ai-chat-input-file-container .ai-chat-input-file:hover .ai-chat-input-file-delete {\n  display: flex;\n}\n.ai-chat-input-file-container .ai-chat-input-file-uploading .ai-chat-input-file-icon-loading {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 16px;\n  height: 16px;\n  animation: rotateForever 1s linear infinite;\n}\n.ai-chat-input-file-container .ai-chat-input-file-failed .ai-chat-input-file-content {\n  color: #848691;\n}\n.ai-chat-input-file-container .ai-chat-input-image {\n  position: relative;\n  width: 54px;\n  height: 54px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 12px;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.ai-chat-input-file-container .ai-chat-input-image .ai-chat-input-image-bg {\n  object-fit: cover;\n  border-radius: 12px;\n  min-width: 100%;\n  border: 0.5px solid #DCDDE0;\n  box-sizing: border-box;\n}\n.ai-chat-input-file-container .ai-chat-input-image:hover .ai-chat-input-file-delete {\n  display: flex;\n}\n.ai-chat-input-file-container .ai-chat-input-image-uploading .ai-chat-input-file-icon-loading {\n  position: absolute;\n  top: 15px;\n  left: 15px;\n  width: 24px;\n  height: 24px;\n  animation: rotateForever 1s linear infinite;\n}\n.ai-chat-input-file-container .ai-chat-input-file-click-upload {\n  width: 60px;\n  height: 60px;\n  border-radius: 15px;\n  background-color: #f5f6f9;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n.ai-chat-input-file-container .ai-chat-input-file-click-upload:hover {\n  background: rgba(78, 110, 242, 0.06);\n}\n.ai-chat-input-file-container .ai-chat-input-file-click-upload:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-chat-input-file-container .ai-chat-input-file-click-upload .ai-chat-input-upload-img {\n  height: 25px;\n  width: 25px;\n}\n.ai-chat-input-file-container .image-click-upload {\n  width: 54px;\n  height: 54px;\n}\n.ai-input-file-guide-wrapper {\n  width: 100%;\n  height: 30px;\n  margin-bottom: 12px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #333;\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  height: 30px;\n  padding: 0 12px;\n  background-color: #f5f6f9;\n  border-radius: 9px;\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-item .ai-input-file-guide-icon {\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n  margin-right: 6px;\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-item:hover {\n  cursor: pointer;\n  background: rgba(78, 110, 242, 0.06);\n  color: #4E6EF2;\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-item:hover .ai-input-file-guide-icon {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.ai-input-file-guide-wrapper .ai-input-file-guide-disabled {\n  opacity: 0.4;\n}\n.ai-input-file-guide-tooltip {\n  display: none;\n}\n.snap-text-panel {\n  max-height: inherit;\n  padding-top: 12px;\n  box-sizing: border-box;\n}\n.snap-text-panel .snap-text-panel-content {\n  box-sizing: border-box;\n  padding-left: 12px;\n  display: flex;\n  flex-wrap: wrap;\n  max-height: 346px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item {\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n  margin-right: 12px;\n  margin-bottom: 12px;\n  margin-top: 3px;\n  box-sizing: border-box;\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item .snap-text-item-img-container {\n  position: relative;\n  border-radius: 15px;\n  overflow: hidden;\n  width: 100%;\n  aspect-ratio: 3 / 2;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item .snap-text-item-img {\n  width: 100%;\n  aspect-ratio: 3 / 2;\n  object-fit: cover;\n  transition: transform 240ms ease-in-out;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item .snap-text-item-text {\n  box-sizing: border-box;\n  margin-top: 9px;\n  padding: 0 6px;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 14px;\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  text-align: center;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item .snap-text-item-btn {\n  position: absolute;\n  font-size: 14px;\n  bottom: 38px;\n  transition: opacity 240ms ease-in-out;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 88px;\n  height: 30px;\n  z-index: 10;\n  border-radius: 15px;\n  background: #000000CC;\n  color: #FFFFFF;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  backdrop-filter: blur(30px);\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item .snap-text-item-btn:hover {\n  backdrop-filter: blur(30px);\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item .snap-text-item-hover-mask {\n  display: none;\n  position: absolute;\n  height: 60px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.264) 100%);\n  box-shadow: 0px 4px 4px 0px #00000040;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item:hover .snap-text-item-img {\n  transform: scale(1.05);\n  transform-origin: center center;\n}\n.snap-text-panel .snap-text-panel-content .snap-text-item:hover .snap-text-item-btn {\n  opacity: 1;\n}\n",""]),t.exports=e},function(t,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var b=v(1),w=v(42),y=v(97),r=v(354),x=v(355),l=v(356),m=v(98),n=(i.prototype.init=function(){var t;this.clearEl=this.rootDom.querySelector(".tools-clear-icon"),this.wrapperEl=this.rootDom.querySelector(".chat-input-wrapper"),this.inputEl=this.rootDom.querySelector("#chat-textarea"),this.panelEl=this.rootDom.querySelector("#chat-input-panel"),this.inputMainDom=this.rootDom.querySelector("#chat-input-main"),this.inputContainEl=this.rootDom.querySelector(".chat-input-container"),this.voiceInputWrapperEl=this.rootDom.querySelector("#voice-input-wrapper"),this.numeroElClass=".cs-input-city-selector",null!==(t=this.inputEl)&&void 0!==t&&t.removeAttribute("onkeydown"),this.isChatSearch||this.initSugInstace()},i.prototype.attached=function(t){var e,n,i=t.initialFocus,o=t.hasOpenAnime,o=void 0!==o&&o,t=t.useBuiltInVoice,t=void 0!==t&&t;void 0!==i&&!i||(null!==(i=this.inputEl)&&void 0!==i&&i.focus(),null!==(i=this.inputMainDom)&&void 0!==i&&i.classList.add("chat-input-main-focus")),t&&this.renderVoiceInputBtn(),o&&(o=(new Date).toISOString().split("T")[0],localStorage.getItem(r.INPUT_ANIME_LS_KEY)!==o&&(localStorage.setItem(r.INPUT_ANIME_LS_KEY,o),null!=(e=this.inputMainDom)&&e.classList.add("openning-anime"),n=setTimeout(function(){null!=e&&e.classList.remove("openning-anime")},r.OPENING_ANIMATION_DURATION),document.querySelector(".chat-input-anchor").addEventListener("click",function(){clearTimeout(n),e.querySelector(".chat-input-op-anime").style.opacity="0";var t=setTimeout(function(){null!=e&&e.classList.remove("openning-anime"),clearTimeout(t)},1200)},!0)))},i.prototype.nextTick=function(t){var r=this;return this.nextTicksCallbackList.push(null!=t?t:function(){}),this.pending||(this.pending=!0,Promise.resolve().then(function(){var t,e;r.pending=!1;var n=r.nextTicksCallbackList.slice(0);r.nextTicksCallbackList.length=0;try{for(var i=(0,b.__values)(n),o=i.next();!o.done;o=i.next())(0,o.value)()}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=i["return"])&&e.call(i)}finally{if(t)throw t.error}}})),t?Promise.resolve():new Promise(function(t){r.nextTicksCallbackList.push(t)})},i.prototype.getMode=function(){return this.mode},i.prototype.getInputEl=function(){return this.inputEl},i.prototype.emitAiToolChange=function(t,e,n){n=(0,b.__assign)({mode:this.mode,panelType:this.currentPanelName,panelName:this.currentPanelChineseName,action:t,trigger:e,hasAgent:this.hasAgent,hasFile:!(null===(e=this.inputEl)||void 0===e||!e.querySelector("#ai-input-file-tag")),hasPrefix:!!this.prefixEl,inputValue:this.getValue(),isComposing:this.aiInputStatus.isComposing,isUserInput:this.aiInputStatus.isUserInput,isCustomInput:this.aiInputStatus.isCustomInput},n);this.eventEmitter.emit("ai-tool-change",n)},i.prototype.setMode=function(t){var e,n=this,i=this.rootDom.querySelector("#chat-input-area");i&&t!==this.mode&&((this.mode=t)===x.ChatInputMode.AI?(this.savedNormalInputDom=i.innerHTML,i.innerHTML='\n                <div\n                    id="ai-input"\n                    class="chat-input-ai"\n                >\n                    <div\n                        id="ai-input-editor"\n                        class="ai-input-editor chat-input-scroll-style"\n                        data-ai-placeholder='+this.aiPlaceholder+'\n                        contenteditable="true"\n                        spellcheck="false"\n                        data-placeholder="请输入内容..."\n                    >\n                    </div>\n                </div>\n            ',null!==(e=this.wrapperEl)&&void 0!==e&&e.classList.add("chat-ai-wrapper"),null!==(e=this.wrapperEl)&&void 0!==e&&e.classList.remove("chat-normal-wrapper"),this.inputEl=this.rootDom.querySelector("#ai-input #ai-input-editor"),this.sugPanelInstance&&(null!==(e=null===(e=this.panelEl)||void 0===e?void 0:e.querySelector(".ai-bdsug"))&&void 0!==e&&e.remove(),null!==(e=null===(e=this.panelEl)||void 0===e?void 0:e.querySelector(".ai-sug-panel-list"))&&void 0!==e&&e.remove(),this.sugPanelInstance.destroy(),this.sugPanelInstance=null)):(this.isChatSearch?i.innerHTML='<textarea\n                        id="chat-textarea"\n                        class="chat-input-textarea chat-input-scroll-style"\n                        rows="1"\n                    ></textarea>':i.innerHTML=this.savedNormalInputDom||'\n                    <textarea\n                        id="chat-textarea"\n                        class="chat-input-textarea chat-input-scroll-style"\n                        rows="1"\n                    >\n                    </textarea>',this.inputEl=this.rootDom.querySelector("#chat-textarea"),null!==(i=this.wrapperEl)&&void 0!==i&&i.classList.add("chat-normal-wrapper"),null!==(i=this.wrapperEl)&&void 0!==i&&i.classList.remove("chat-ai-wrapper"),this.panelEl.style.maxHeight="0",this.isChatSearch||this.nextTick(function(){n.mode===x.ChatInputMode.NORMAL&&n.initSugInstace()})),this.eventBinder.clear(x.ListenerEventType.INPUT),this.bindInputAreaEvent(),this.eventEmitter.emit("change",t),this.emitAiToolChange("mode-change","system",{mode:t}))},i.prototype.getCustomInputNode=function(t){var n=[];return t.forEach(function(t,e){"text"===t.type?n.push((0,y.getTextNode)(t)):"input"===t.type&&(n.push((0,y.getNoWidthNode)()),n.push((0,y.getInputNode)(t,e)),n.push((0,y.getNoWidthNode)()))}),n},i.prototype.upperPcInput=function(o,a,r,s){var l,u,c,p;return(0,b.__awaiter)(this,void 0,void 0,function(){var e,n,i=this;return(0,b.__generator)(this,function(t){return e=null===(l=this.inputEl)||void 0===l?void 0:l.querySelector(".ai-input-editor-content"),(e=o.isChatSearch?this.inputEl:e)?(r&&null!==(u=null===(u=this.inputEl)||void 0===u?void 0:u.querySelector(".ai-input-prefix"))&&void 0!==u&&u.setAttribute("data-function-tab",r),s&&null!==(p=null===(c=this.inputEl)||void 0===c?void 0:c.querySelector(".ai-input-prefix"))&&void 0!==p&&p.setAttribute("data-function-name",s),"text"===a?(n=document.createTextNode(o.word),e.appendChild(n)):"input-custom"===a?(n=(0,y.handleCustomInputData)(o),this.getCustomInputNode(n).forEach(function(t){null!=e&&e.appendChild(t)})):"agent"===a&&this.addAiInputAgent({agentName:o.source_name,agentId:o.agent_id,agentSearchId:o.agent_search_id}),setTimeout(function(){var t;null!==(t=i.inputEl)&&void 0!==t&&t.classList.remove("ai-input-caret-hidden"),(0,y.focusNeedInput)(i.inputEl.querySelector(".ai-input-editor-content")),i.inputEl.scrollTop=null===(t=i.inputEl)||void 0===t?void 0:t.scrollHeight},80),this.stopVoiceRecording()):null!==(c=this.inputEl)&&void 0!==c&&c.classList.remove("ai-input-caret-hidden"),[2]})})},i.prototype.getStatusInfo=function(){return{panelName:this.getCurrentPanelName()}},i.prototype.setInitalRow=function(t){this.initialRow=t},i.prototype.addAiInputContent=function(t){var e,n;if(null!==(e=this.inputEl)&&void 0!==e&&e.classList.add("ai-input-caret-hidden"),t.noClear||this.clearInput(!1),this.getValue().length>=this.getMaxInputLength())return this.eventEmitter.emit("threshold",this.getMaxInputLength()),void(null!==(n=this.inputEl)&&void 0!==n&&n.classList.remove("ai-input-caret-hidden"));null!==(n=t.inputCustom)&&void 0!==n&&n.length?(this.isChatSearch&&(this.aiInputStatus.isCustomInput=!0),this.upperPcInput(t.inputCustom,"input-custom",t.functionTab,t.functionName)):t.word&&this.upperPcInput(t,"text")},i.prototype.fileUpLoadInput=function(){var t;this.mode!==x.ChatInputMode.AI?(this.temporaryContent=this.getValue(),this.isVoiceRecording&&(this.voiceInputInitialValue=this.temporaryContent),this.sugPanelInstance&&(null!==(t=null===(t=this.panelEl)||void 0===t?void 0:t.querySelector(".ai-bdsug"))&&void 0!==t&&t.remove(),null!==(t=null===(t=this.panelEl)||void 0===t?void 0:t.querySelector(".ai-sug-panel-list"))&&void 0!==t&&t.remove(),this.sugPanelInstance.destroy(),this.sugPanelInstance=null),this.setMode(x.ChatInputMode.AI)):"ai_read"===this.getCurrentPanelName()&&!this.getAiInputStatus().isUserInput&&this.getValue()&&this.clearInput(!1),null!==(t=this.wrapperEl)&&void 0!==t&&t.classList.add("chat-ai-file-wrapper"),this.resetPlaceholder("描述想要了解的内容"),this.temporaryContent&&(this.setValue(this.temporaryContent),this.temporaryContent="")},i.prototype.reset=function(){this.closePanel()},i.prototype.resetPanelStatus=function(){var t;null!==(t=this.wrapperEl)&&void 0!==t&&t.classList.remove("chat-ai-file-wrapper")},i.prototype.getFunctionInfo=function(){var t=null===(t=this.inputEl)||void 0===t?void 0:t.querySelector(".ai-input-prefix");return{functionType:(null==t?void 0:t.getAttribute("data-function-type"))||"",functionTab:(null==t?void 0:t.getAttribute("data-function-tab"))||"",functionName:(null==t?void 0:t.getAttribute("data-function-name"))||""}},i.prototype.setPrefixNodeStatus=function(t){void 0===t&&(t=!0),this.fileEl&&(this.fileEl.style.display=t?"inline-block":"none")},i.prototype.updatePanelData=function(e){var n=this;void 0===e&&(e={}),this.currentPanelInstance?(Object.keys(e).forEach(function(t){n.currentPanelInstance.data.set(t,e[t])}),this.currentPanelInstance.update&&this.currentPanelInstance.update()):console.error("没有正在显示的面板实例")},i.prototype.addAiInputPrefix=function(t,e){var n;this.inputEl&&this.mode===x.ChatInputMode.AI&&((n=document.createElement("span")).className="ai-input-prefix-wrapper",n.contentEditable="false",n.innerHTML='\n            <span class="ai-input-prefix-container">\n                <span class="ai-input-prefix" data-function-type="'+e+'">\n                    '+t+'\n                </span>\n                <img\n                    class="close-icon"\n                    src="https://gips3.baidu.com/it/u=3150997865,1151751010&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f36_36"\n                    width="12"\n                    height="12"\n                >\n            </span>\n            <span class="ai-input-prefix-holder"></span>\n        ',this.bindPrefixEvent(n),(0,y.createAiInputEditorContent)(this.inputEl),this.inputEl.insertBefore(n,this.inputEl.firstChild),this.prefixEl=n)},i.prototype.addAiInputAgent=function(t){var e,n=this;(this.inputEl&&!this.hasAgent||"orion"!==(null==t?void 0:t.agentType))&&(this.setMode(x.ChatInputMode.AI),(e=document.createElement("span")).className="cs-pc-input-agent",e.contentEditable="false",e.innerText="@"+t.agentName,this.inputEl.append(e),this.agentEl=e,this.hasAgent||this.removeUserInputSugText(),this.nextTick(function(){(0,y.focusInputLast)(n.inputEl)}),this.hasAgent=!0,this.emitAiToolChange("agent-add","manual",{agentInfo:t}))},i.prototype.removeUserInputSugText=function(){var e=this,t=null!==(n=this.inputEl.childNodes)&&void 0!==n?n:[],n=Array.from(t).findIndex(function(t){return t===e.agentEl});if(!(n<=0))for(var i=n-1;0<=i;i--)if(t[i]&&t[i].nodeType===Node.TEXT_NODE){var o=t[i].textContent.lastIndexOf("@");if(-1!==o){t[i].textContent=t[i].textContent.substring(0,o);break}t[i].textContent=""}},i.prototype.bindPrefixEvent=function(t){var e,n,i=this;t&&(e=t.querySelector(".close-icon"),t.addEventListener("mousedown",n=function(t){t.stopPropagation(),i.eventEmitter.emit("prefix-click"),i.emitAiToolChange("prefix-close","prefix-click"),i.closePanel(),null!=e&&e.removeEventListener("mousedown",n),i.stopVoiceRecording()}))},i.prototype.renderAiInputFilePrefix=function(d,f,g){var m;return void 0===f&&(f=1),void 0===g&&(g=!1),(0,b.__awaiter)(this,void 0,void 0,function(){var l,u,c,e,n,i,o,a,r,s,p,h=this;return(0,b.__generator)(this,function(t){switch(t.label){case 0:return[4,Promise.resolve().then(function(){return(0,b.__importStar)(v(357))})];case 1:if(s=t.sent(),l=s.getFileIcon,u=s.getImageUrl,c=s.IconMaps,this.isSingle||!this.fileEl)return this.inputEl&&this.mode===x.ChatInputMode.AI&&d&&(p=document.createDocumentFragment(),s=function(t,e){var n,i,o,a,r,s=document.createElement("span");return(h.fileEl=s).contentEditable="false",s.id="ai-input-file-tag",h.isSingle||(s.style.display="none"),s.className=["file"===t?"ai-input-file":"ai-input-image",0===e.status||1===e.status?"file"===t?"ai-input-file-uploading":"ai-input-image-uploading":"",3===e.status?"ai-input-file-failed":""].filter(Boolean).join(" "),"file"===t?((a=document.createElement("span")).className="ai-input-file-inner",(o=document.createElement("span")).className="ai-input-file-icon",(i=document.createElement("img")).className="ai-input-file-icon-img",i.src=l(e),o.appendChild(i),0!==e.status&&1!==e.status||((r=document.createElement("img")).className="ai-input-file-icon-loading",r.src=c.loadingIcon,o.appendChild(r)),a.appendChild(o),n=document.createElement("span"),i=document.createElement("span"),o=document.createElement("span"),n.className="ai-input-file-name-container",i.className="ai-input-file-name",o.className="ai-input-file-num",i.textContent=e.fileName,o.textContent=" "+f+"个文件",n.appendChild(i),h.isSingle||n.appendChild(o),a.appendChild(n),s.appendChild(a)):"image"===t&&(a=document.createElement("img"),t=document.createElement("div"),a.className="ai-input-image-bg",t.className="ai-input-image-num",a.src=u(e),t.innerText=f.toString(),h.isSingle||s.classList.add("multi-image-mask"),s.appendChild(a),h.isSingle||s.appendChild(t),!h.isSingle||0!==e.status&&1!==e.status||((r=document.createElement("img")).className="ai-input-file-icon-loading",r.src=c.loadingIcon,s.appendChild(r))),h.isSingle&&((e=document.createElement("span")).className="ai-input-file-delete",(r=document.createElement("img")).className="ai-input-file-delete-icon",r.src=c.deleteIcon,e.appendChild(r),s.appendChild(e),h.bindFilePrefixEvent(s)),s},"file"!==d.uploadType&&"image"!==d.uploadType||(s=s(d.uploadType,d),p.appendChild(s)),null!==(m=this.inputEl.querySelector("#ai-input-file-tag"))&&void 0!==m&&m.remove(),this.getCurrentPanelName()?this.inputEl.appendChild(p):this.inputEl.insertBefore(p,this.inputEl.firstChild),this.isSingle||this.fileElMutationObserver||(this.fileElMutationObserver=new MutationObserver(function(t){var e,n,i,o;if(h.mode!==x.ChatInputMode.NORMAL){var a=[];try{for(var r=(0,b.__values)(t),s=r.next();!s.done;s=r.next())s.value.removedNodes.forEach(function(t){return a.push(t)})}catch(p){e={error:p}}finally{try{s&&!s.done&&(n=r["return"])&&n.call(r)}finally{if(e)throw e.error}}try{for(var l=(0,b.__values)(a),u=l.next();!u.done;u=l.next())!function(e){"ai-input-file-tag"===e.id&&Promise.resolve().then(function(){var t;null!==(t=h.inputEl)&&void 0!==t&&t.contains(e)||null!==(t=h.inputEl)&&void 0!==t&&t.insertBefore(e,h.inputEl.firstChild)})}(u.value)}catch(d){c={error:d}}finally{try{u&&!u.done&&(i=l["return"])&&i.call(l)}finally{if(c)throw c.error}}var c=null===(i=h.inputEl)||void 0===i?void 0:i.querySelector("#ai-input-file-tag");c&&c!==(null===(i=h.inputEl)||void 0===i?void 0:i.firstChild)&&null!==(o=h.inputEl)&&void 0!==o&&o.insertBefore(c,h.inputEl.firstChild)}}),this.fileElMutationObserver.observe(this.inputEl,{childList:!0,subtree:!0})),(p=this.inputEl.lastChild)&&p.nodeType===Node.TEXT_NODE&&" "===p.data||this.inputEl.appendChild(document.createTextNode(" ")),this.temporaryContent&&d.status===w.UploadStatus.BOS_SUCCESS&&(this.temporaryContent=this.getValue(),this.setValue(""),this.getValue()||this.setValue(this.temporaryContent),this.temporaryContent=""),this.temporaryContent&&(this.getValue()||this.setValue(this.temporaryContent)),this.emitAiToolChange("file-add","upload",{fileItem:d}),this.resetPlaceholder("描述想要了解的内容"),this.nextTick(function(){(0,y.setCursorToNode)(h.inputEl.lastChild)})),[2];switch(e=this.fileEl.querySelector(".ai-input-file-name"),n=this.fileEl.querySelector(".ai-input-file-num"),i=this.fileEl.querySelector(".ai-input-file-icon-img"),o=this.fileEl.querySelector(".ai-input-image-bg"),a=this.fileEl.querySelector(".ai-input-image-num"),r=this.fileEl.querySelector(".ai-input-file-icon-loading"),d.uploadType){case"file":e&&(e.innerText=d.fileName),n&&(1===f?(n.innerText=" "+f+"个文件",g&&(i.src=l(d),null!=r&&r.remove())):(n.innerText=" 等"+f+"个文件",g&&(i.src="https://psstatic.cdn.bcebos.com/basics/aichat/folder-%20color_1756432409000.png",null!=r&&r.remove())));break;case"image":o&&d.url&&(o.src=d.url),a&&(a.innerText=f.toString())}return[2]}})})},i.prototype.bindFilePrefixEvent=function(e){var n,i,o=this;e&&(n=e.querySelector(".ai-input-file-delete"),this.eventBinder.add(e,"mouseenter",function(){var t=e.getBoundingClientRect();n.style.cssText="\n                top: "+(t.top-4.5)+"px;\n                left: "+(t.right-11)+"px;\n            ",o.eventEmitter.emit("prefix-file-hover")},x.ListenerEventType.OTHER),i=function(t){t.stopPropagation(),o.deletePrefixFile(),o.eventEmitter.emit("prefix-file-click-delete"),o.emitAiToolChange("file-remove","delete-button"),null!=n&&n.removeEventListener("mousedown",i),o.fileElMutationObserver&&(o.fileElMutationObserver.disconnect(),o.fileElMutationObserver=null)},n.addEventListener("mousedown",i),e.appendChild(n))},i.prototype.setValue=function(t){var e=this;this.inputEl&&(this.mode===x.ChatInputMode.NORMAL?this.inputEl.value=t:(Array.from(this.inputEl.childNodes).forEach(function(t){t.nodeType===Node.TEXT_NODE&&e.inputEl.removeChild(t)}),this.isChatSearch?(0,y.appendChildToAiInputWithBr)(this.inputEl,t):(t=document.createTextNode(t),this.inputEl.appendChild(t))),this.checkClearIcon(),this.resetPlaceholder(),this.recalculateInputHeight())},i.prototype.setFocus=function(){var t;null!==(t=this.inputEl)&&void 0!==t&&t.focus()},i.prototype.getValue=function(){var e=this;if(!this.inputEl)return"";if(this.mode===x.ChatInputMode.NORMAL)return this.isChatSearch?this.inputEl.value:this.inputEl.value.replace(/\n/g," ").trim();var t=Array.from(this.inputEl.childNodes);return 0===t.length?"":t.filter(function(t){return!(t instanceof HTMLElement&&(t.classList.contains("ai-input-prefix-wrapper")||t.classList.contains("ai-input-file")||t.classList.contains("cs-pc-input-agent")||t.classList.contains("ai-input-image")))}).map(function(t){return t.nodeType===Node.TEXT_NODE?t.textContent||"":t instanceof HTMLElement?e.isChatSearch&&t instanceof HTMLBRElement?"\n":t.innerText:""}).join("").trim()},i.prototype.getHasAgent=function(){return this.hasAgent},i.prototype.closeSugUpdate=function(){var t;null!==(t=null===(t=this.sugPanelInstance)||void 0===t?void 0:t.sug)&&void 0!==t&&t.closeSugUpdate()},i.prototype.deletePrefixFile=function(){var t;null!==(t=this.fileEl)&&void 0!==t&&t.remove(),null!==(t=this.fileElMutationObserver)&&void 0!==t&&t.disconnect(),this.fileEl=null,this.fileElMutationObserver=null,this.eventEmitter.emit("prefix-file-click-delete"),this.emitAiToolChange("file-remove","delete-button")},i.prototype.openAiPanel=function(n,i,o){var a;return void 0===i&&(i=n),void 0===o&&(o={}),(0,b.__awaiter)(this,void 0,void 0,function(){var e;return(0,b.__generator)(this,function(t){return e=null===(a=n.type)||void 0===a?void 0:a.replace(/^new_/,""),this.sugPanelInstance&&(null!==(a=null===(a=this.panelEl)||void 0===a?void 0:a.querySelector(".ai-bdsug"))&&void 0!==a&&a.remove(),null!==(a=null===(a=this.panelEl)||void 0===a?void 0:a.querySelector(".ai-sug-panel-list"))&&void 0!==a&&a.remove(),this.sugPanelInstance.destroy(),this.sugPanelInstance=null),n&&this.currentPanelName===e?(0,y.focusInputLast)(this.inputEl):(this.mode===x.ChatInputMode.AI&&this.closePanel({needFocus:!1}),this.currentPanelName=e,this.currentPanelChineseName=n.text,this.setMode(x.ChatInputMode.AI),this.addAiInputPrefix(n.text,e),this.checkClearIcon(),"ai_ppt"===e?this.setPlaceHolder("输入想要生成的PPT主题和具体要求，快速生成PPT"):this.setPlaceHolder((null==i?void 0:i.place_holder)||"问我任何问题"),this.renderPanelFromSanComponent(e,i,o),this.eventEmitter.emit("panel-render",(0,b.__assign)((0,b.__assign)({},n),{type:e})),this.emitAiToolChange("panel-open","panel-render",i),this.addDefaultContent(i),this.stopVoiceRecording()),[2]})})},i.prototype.addDefaultContent=function(t){var e=this,n=null==t?void 0:t["function"],i=null==t?void 0:t.default_content;(n||i)&&(n?this.nextTick(function(){var t;e.addAiInputContent({inputCustom:(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.input.input_custom)||{}})}):(this.addPrefixHolder(),this.aiPrefixContent=i,this.nextTick(function(){e.setValue(i)})))},i.prototype.resetAiInputStatus=function(){this.aiInputStatus={isComposing:!1,isBreakRow:!1,isCustomInput:!1,isUserInput:!1}},i.prototype.getAiInputStatus=function(){return this.aiInputStatus},i.prototype.closePanel=function(t){var e,n=this,i=(t||{}).needFocus,t=void 0===i||i,o=this.panelEl;if(o){if(this.aiPrefixContent="",this.currentPanelName="",this.currentPanelInstance&&(null!==(e=(i=this.currentPanelInstance).dispose)&&void 0!==e&&e.call(i),this.currentPanelInstance=null),this.resetAiInputStatus(),this.setMode(x.ChatInputMode.NORMAL),o.querySelector(".ai-bdsug"))o.querySelectorAll(".chat-input-panel-container").forEach(function(t){return t.remove()});else for(;o.firstChild;)o.removeChild(o.firstChild);this.eventEmitter.emit("panel-close"),this.emitAiToolChange("panel-close","panel-close"),null!==(e=this.prefixEmptyDom)&&void 0!==e&&e.remove(),this.prefixEmptyDom=null,this.checkClearIcon(),t&&setTimeout(function(){var t;n.mode===x.ChatInputMode.NORMAL&&document.activeElement!==n.inputEl&&((0,y.focusInputLast)(n.inputEl),t=n.getValue().length,n.inputEl.setSelectionRange(t,t))},80)}},i.prototype.showPlaceHolder=function(){var t;null!==(t=this.inputEl)&&void 0!==t&&t.classList.contains("ai-input-placeholder")||null!==(t=this.inputEl)&&void 0!==t&&t.classList.add("ai-input-placeholder")},i.prototype.hidePlaceHolder=function(){var t,e;null!==(t=this.inputEl)&&void 0!==t&&t.classList.contains("ai-input-placeholder")&&null!==(e=this.inputEl)&&void 0!==e&&e.classList.remove("ai-input-placeholder")},i.prototype.checkClearIcon=function(){var t;this.getValue()?null!==(t=this.clearEl)&&void 0!==t&&t.classList.add("show-clear-icon"):null!==(t=this.clearEl)&&void 0!==t&&t.classList.remove("show-clear-icon")},i.prototype.renderPanelFromSanComponent=function(t,i,o){var e,a=this;void 0===o&&(o={});var r=this.panelEl;if(r){var s=document.createElement("div");s.className="chat-input-panel-container";var n=((n={})[x.ChatPanel.CREATE]=function(){return Promise.resolve().then(function(){return(0,b.__importStar)(v(358))})},n[x.ChatPanel.PHOTO]=function(){return Promise.resolve().then(function(){return(0,b.__importStar)(v(365))})},n[x.ChatPanel.MUSIC]=function(){return Promise.resolve().then(function(){return(0,b.__importStar)(v(372))})},n[x.ChatPanel.NUMERO]=function(){return Promise.resolve().then(function(){return(0,b.__importStar)(v(379))})},n[x.ChatPanel.READ]=function(){return Promise.resolve().then(function(){return(0,b.__importStar)(v(34))})},n[x.ChatPanel.DEEP_RESEARCH]=function(){return Promise.resolve().then(function(){return(0,b.__importStar)(v(34))})},n[x.ChatPanel.CODE]=function(){return Promise.resolve().then(function(){return(0,b.__importStar)(v(34))})},n[x.ChatPanel.PPT]=function(){return Promise.resolve().then(function(){return(0,b.__importStar)(v(34))})},n);try{n[t],null!==(e=n[t])&&void 0!==e&&e.call(n).then(function(t){var e=t["default"]||t;a.currentPanelInstance&&(null!==(n=(t=a.currentPanelInstance).dispose)&&void 0!==n&&n.call(t),a.currentPanelInstance=null);var n=(0,b.__assign)((0,b.__assign)({},i),{hoverText:i.hover_text||"做同款"}),e=new e({data:(0,b.__assign)((0,b.__assign)({},n),o)});e.on("click",function(t,e){a.eventEmitter.emit("panel-item-click",t,e),a.stopVoiceRecording()}),e.on("input-upload",a.handleInputUpload.bind(a)),e.attach(s),a.renderPanelDivider(),r.appendChild(s),a.currentPanelInstance=e})}catch(err){console.error("面板加载失败",err)}}},i.prototype.handleVoiceRecognized=function(t){var e,n=this;this.voiceRecognizedText=t;var i=""+this.voiceInputInitialValue+t;this.mode===x.ChatInputMode.AI?(this.voiceRecognitionNode&&this.voiceRecognitionNode.parentNode?this.voiceRecognitionNode.textContent=t:(t=document.createTextNode(t),this.voiceRecognitionNode=t,null!==(e=this.inputEl)&&void 0!==e&&e.appendChild(t)),this.nextTick(function(){(0,y.focusInputLast)(n.inputEl)})):(this.setValue(i),this.nextTick(function(){n.setFocus()})),this.inputEl.scrollTop=null===(e=this.inputEl)||void 0===e?void 0:e.scrollHeight,this.recalculateInputHeight(),this.eventEmitter.emit("input",i)},i.prototype.renderVoiceInputBtn=function(){var n=this;Promise.resolve().then(function(){return(0,b.__importStar)(v(388))}).then(function(t){var e;n.voiceInputInstance||null!==(e=n.voiceInputWrapperEl)&&void 0!==e&&e.hasChildNodes()||((t=new(t["default"]||t)).on("recording-start",function(){n.voiceRecognitionNode=null,n.voiceInputInitialValue=n.getValue(),n.isVoiceRecording=!0,n.voiceRecordingStartTime=Date.now(),n.voiceRecognizedText="",n.eventEmitter.emit("voice-input-start")}),t.on("recognized",function(t){n.handleVoiceRecognized(t),n.eventEmitter.emit("voice-input-recognized",t)}),t.on("recording-stop",function(){n.finishVoiceInput()}),t.on("recording-error",function(t){n.finishVoiceInput(),n.eventEmitter.emit("voice-input-error",t)}),t.attach(n.voiceInputWrapperEl),n.voiceInputInstance=t)})},i.prototype.finishVoiceInput=function(){var t;this.isVoiceRecording&&(t=0<this.voiceRecordingStartTime?Date.now()-this.voiceRecordingStartTime:0,this.eventEmitter.emit("voice-input-complete",{duration:t,content:this.voiceRecognizedText}),this.voiceRecognitionNode=null,this.isVoiceRecording=!1,this.voiceInputInitialValue="",this.voiceRecordingStartTime=0,this.voiceRecognizedText="")},i.prototype.stopVoiceRecording=function(){this.voiceInputInstance&&"function"==typeof this.voiceInputInstance.resetRecording&&this.voiceInputInstance.resetRecording(),this.voiceRecognitionNode=null,this.finishVoiceInput()},i.prototype.handleInputUpload=function(t){var e,n=t.uploadType,i=t.uploadFile,t=t.functionName;t&&null!==(e=null===(e=this.inputEl)||void 0===e?void 0:e.querySelector(".ai-input-prefix"))&&void 0!==e&&e.setAttribute("data-function-name",t),this.eventEmitter.emit("panel-item-upload",n,i,"readUpload")},i.prototype.bindAllEvent=function(){this.bindInputAreaEvent(),this.bindOtherEvent(),this.bindCustomEvent()},i.prototype.bindInputAreaEvent=function(){this.bindMousedown(),this.bindBlur(),this.bindFocus(),this.bindClick(),this.bindKeyDown(),this.bindCompositionStart(),this.bindBeforeInput(),this.bindInput(),this.bindCompositionEnd(),this.bindKeyUp(),this.bindPaste(),this.bindSubmit(),this.bindWheel()},i.prototype.bindWheel=function(){var a=this;this.eventBinder.add(this.inputEl,"wheel",function(t){var e=a.inputEl,n=e.scrollTop,i=e.scrollHeight,o=e.clientHeight,e=t.deltaY;(0===n&&e<0||i<=n+o&&0<e)&&(t.preventDefault(),t.stopPropagation())},x.ListenerEventType.INPUT,{passive:!1})},i.prototype.bindOtherEvent=function(){this.bindChatTool(),this.bindClear(),this.bindContainerClick(),this.bindWindowScroll(),this.bindWindowDrag(),this.bindContainerScroll(),this.bindClickOutSide()},i.prototype.bindCustomEvent=function(){this.bindCustomScrollEvent()},i.prototype.bindCustomScrollEvent=function(){var e=this;this.isChatSearch&&this.eventBinder.add(window,"custom:scroll",function(t){"blur"===t.detail.action&&(e.actionBlur(),null!==(t=e.inputEl)&&void 0!==t&&t.blur())},x.ListenerEventType.CUSTOM)},i.prototype.bindClickOutSide=function(){var i=this,t=function(t){var e,n;null!==(e=i.rootDom)&&void 0!==e&&e.contains(t.target)||null===(n=i.inputMainDom)||void 0===n||!n.classList.contains("chat-input-main-focus")||i.actionBlur()}.bind(this);window.addEventListener("mouseup",t,!0),window.addEventListener("touchstart",t,!0)},i.prototype.bindContainerScroll=function(){var o=this;this.inputContainEl&&this.eventBinder.add(this.inputContainEl,"wheel",function(t){for(var e=t.target;e&&e!==o.inputContainEl;){var n=window.getComputedStyle(e);if(("auto"===n.overflowY||"scroll"===n.overflowY)&&e.scrollHeight>e.clientHeight)return;e=e.parentElement}var i=t.deltaY;t.preventDefault(),t.stopPropagation(),o.inputEl.scrollTop+=i},x.ListenerEventType.OTHER,{passive:!1})},i.prototype.bindWindowScroll=function(){var i=this,e=!1,n=window.scrollY;this.eventBinder.add(window,"scroll",function(){var t;window.scrollY!==n&&(e||(1!==i.initialRow||null!==(t=i.wrapperEl)&&void 0!==t&&t.classList.contains("one-line-input")||null!==(t=i.wrapperEl)&&void 0!==t&&t.classList.add("one-line-input"),window.requestAnimationFrame(function(){var t;null!==(t=i.inputEl)&&void 0!==t&&t.blur(),e=!1}),e=!0))},x.ListenerEventType.OTHER);var o,a,r=document.querySelector(".smart_input_superman #head");r&&(o=!1,a=r.scrollTop,this.eventBinder.add(r,"wheel",function(t){for(var e,n=t.target;n&&n!==document.body;){if("chat-input-main"===n.id)return;n=n.parentElement}r.scrollTop!==a&&(o||(1!==i.initialRow||null!==(e=i.wrapperEl)&&void 0!==e&&e.classList.contains("one-line-input")||null!==(e=i.wrapperEl)&&void 0!==e&&e.classList.add("one-line-input"),window.requestAnimationFrame(function(){var t;null!==(t=i.inputEl)&&void 0!==t&&t.blur(),o=!1}),o=!0))},x.ListenerEventType.OTHER))},i.prototype.bindWindowDrag=function(){var i=this,o=document.createElement("div");o.className="chat-input-drag-mask",o.innerHTML='\n            <div class="chat-input-drag-mask-wrapper">\n                <img\n                    class="chat-input-drag-mask-image"\n                    src="'+r.DRAGCONTENT.IMG+'"\n                >\n                <div class="chat-input-drag-mask-title">\n                    '+r.DRAGCONTENT.TITLE+'\n                </div>\n                <div class="chat-input-drag-mask-content">\n                    '+r.DRAGCONTENT.FILETEXT+'\n                </div>\n                <div class="chat-input-drag-mask-sub-content">\n                    '+r.DRAGCONTENT.IMAGETEXT+"\n                </div>\n            </div>\n        ";var a=0;this.eventBinder.add(window,"dragenter",function(t){var e,n=t.dataTransfer;n&&null!==(e=n.types)&&void 0!==e&&e.includes("Files")&&(t.preventDefault(),1===++a&&(document.body.contains(o)||document.body.appendChild(o),o.style.display="flex",i.eventEmitter.emit("drag-show",{event:t})))},x.ListenerEventType.OTHER),this.eventBinder.add(window,"dragleave",function(t){var e,n=t.dataTransfer;n&&null!==(e=n.types)&&void 0!==e&&e.includes("Files")&&(t.preventDefault(),0===(a=Math.max(0,a-1))&&(o.style.display="none"))},x.ListenerEventType.OTHER),this.eventBinder.add(window,"dragover",function(t){var e,n=t.dataTransfer;n&&null!==(e=n.types)&&void 0!==e&&e.includes("Files")&&t.preventDefault()},x.ListenerEventType.OTHER),this.eventBinder.add(window,"drop",function(t){var e,n=t.dataTransfer;n&&null!==(e=n.types)&&void 0!==e&&e.includes("Files")&&(t.preventDefault(),a=0,o.style.display="none",i.eventEmitter.emit("drag-done",{event:t,fileSuffix:(0,y.getDragFileType)(t.dataTransfer)}),i.extractFilesFromEvent(t.dataTransfer))},x.ListenerEventType.OTHER)},i.prototype.bindContainerClick=function(){var t=this;this.inputContainEl&&this.inputEl&&this.eventBinder.add(this.inputContainEl,"click",function(){return(0,b.__awaiter)(t,void 0,void 0,function(){var e;return(0,b.__generator)(this,function(t){return(0,y.hasSelection)()||(this.mode===x.ChatInputMode.NORMAL?(e=this.inputEl).setSelectionRange(e.value.length,e.value.length):(0,y.focusInputLast)(this.inputEl)),[2]})})},x.ListenerEventType.OTHER)},i.prototype.bindBeforeInput=function(){var a=this;this.inputEl&&this.eventBinder.add(this.inputEl,"beforeinput",function(t){var e,n=a.getValue(),i=window.getSelection(),o=i&&0!==i.rangeCount?i.toString().length:0,i="";"insertText"===t.inputType||"insertCompositionText"===t.inputType?i=null!==(e=t.data)&&void 0!==e?e:"":"insertFromPaste"===t.inputType&&t instanceof ClipboardEvent&&(i=null!==(e=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("text"))&&void 0!==e?e:"");o=n.length-o+i.length,i=a.getMaxInputLength();n.length>=i&&o>n.length&&(a.eventEmitter.emit("threshold",i),t.preventDefault())},x.ListenerEventType.INPUT)},i.prototype.getMaxInputLength=function(){return this.currentPanelName===x.ChatPanel.MUSIC?r.AI_MUSIC_INPUT_MAX_LENGTH:this.isChatSearch?r.CHAT_INPUT_MAX_LENGTH:r.INPUT_MAX_LENGTH},i.prototype.bindMousedown=function(){this.inputEl&&this.eventBinder.add(this.inputEl,"mousedown",function(t){t.stopPropagation()},x.ListenerEventType.INPUT)},i.prototype.bindClick=function(){var n=this;this.inputEl&&this.eventBinder.add(this.inputEl,"click",function(t){var e;t.stopPropagation(),null!==(e=n.inputMainDom)&&void 0!==e&&e.classList.remove("one-line-input"),n.eventEmitter.emit("click",{type:"input",value:n.getValue(),event:t})},x.ListenerEventType.INPUT)},i.prototype.bindPaste=function(){var n=this;this.inputEl&&this.eventBinder.add(this.inputEl,"paste",function(t){t.preventDefault();var e=t.clipboardData;""===e.getData("text/plain")?e.files&&0<e.files.length&&(n.eventEmitter.emit("paste-file",{event:t,fileSuffix:(0,y.getDragFileType)(e)}),n.extractFilesFromEvent(e)):n.handlePasteText(e)},x.ListenerEventType.INPUT)},i.prototype.bindCompositionStart=function(){var t=this;this.inputEl&&this.eventBinder.add(this.inputEl,"compositionstart",function(){t.aiInputStatus.isComposing=!0,t.isVoiceRecording&&t.stopVoiceRecording()},x.ListenerEventType.INPUT)},i.prototype.bindCompositionEnd=function(){var e=this;this.inputEl&&this.eventBinder.add(this.inputEl,"compositionend",function(){var t=function(){e.nextTick(function(){e.aiInputStatus.isComposing=!1})};(0,m.isSafari)()?setTimeout(function(){t()},20):t()},x.ListenerEventType.INPUT)},i.prototype.bindClear=function(){var e=this;this.clearEl&&this.eventBinder.add(this.clearEl,"click",function(t){t.stopPropagation(),e.clearInput(),e.eventEmitter.emit("clear",e.getValue()),e.stopVoiceRecording()},x.ListenerEventType.OTHER)},i.prototype.extractFilesFromEvent=function(t){var e;if(t&&null!=t&&t.items){var n=Array.from(t.items)||[];if(this.isSingle&&1<n.length)this.eventEmitter.emit("toast","上传文件最多支持1个");else{var i,o,a=[],r=[];try{for(var s=(0,b.__values)(n),l=s.next();!l.done;l=s.next()){var u,c,p,d=l.value;if(d.webkitGetAsEntry){var h=d.webkitGetAsEntry();if(h&&h.isDirectory)return void this.eventEmitter.emit("toast","暂不支持此格式，换个文件试试")}else 0===(null===(e=t.files)||void 0===e?void 0:e.length)&&console.warn("不支持文件夹拖拽判断");"file"===d.kind&&(u=d.getAsFile(),c=(0,w.getFileNameSuffix)(u.name),p="",w.UPLOAD_FILE_TYPE.includes(c.toLowerCase())?(p="file",a.push(u)):w.UPLOAD_IMAGE_TYPE.includes(c.toLowerCase())?(p="image",a.push(u)):this.eventEmitter.emit("toast","暂不支持此格式，换个文件试试"),p&&!r.includes(p)&&r.push(p))}}catch(f){o={error:f}}finally{try{l&&!l.done&&(i=s["return"])&&i.call(s)}finally{if(o)throw o.error}}1<r.length?this.eventEmitter.emit("toast","暂不支持文件、图片混合上传"):(i=r[0]||"",o=a.length,(0,m.isFirefox)()&&(0,y.focusInputLast)(this.inputEl),i&&o&&this.handleUploadFile(i,a,"dragOrPasteUpload"))}}},i.prototype.handleUploadFile=function(t,e,n){void 0===n&&(n=""),t&&(this.stopVoiceRecording(),this.currentPanelName&&"ai_read"!==this.currentPanelName?this.eventEmitter.emit("toast",this.currentPanelChineseName+"暂不支持上传"+("image"===t?"图片":"文件")):this.eventEmitter.emit("panel-item-upload",t,e,n))},i.prototype.handlePasteText=function(t){var e,n,i,o;t&&(e=0,(n=window.getSelection())&&0<n.rangeCount&&(e=n.toString().length),i=t.getData("text/plain"),n=this.getValue(),t=this.getMaxInputLength(),n.length+i.length-e>=t&&(this.eventEmitter.emit("threshold",t),i=0<(n=t+e-n.length)?i.slice(0,n):""),o=i.split("\n"),this.mode===x.ChatInputMode.NORMAL?(0,y.insertAtTextareaRange)(this.inputEl,i):o.forEach(function(t,e){t=document.createTextNode(t);(0,y.insertAtRange)(t),e!==o.length-1&&(0,y.insertAtRange)(document.createElement("br"))}),(0,y.isCursorAtEnd)(this.inputEl)&&(this.inputEl.scrollTop=this.inputEl.scrollHeight))},i.prototype.getCurrentPanelName=function(){return this.currentPanelName},i.prototype.setPlaceHolder=function(t){var e;this.inputEl&&(this.inputEl.setAttribute("placeholder",t),this.mode===x.ChatInputMode.AI&&null!==(e=this.inputEl)&&void 0!==e&&e.classList.add("ai-input-placeholder"))},i.prototype.resetPlaceholder=function(t){var e,n;this.inputEl&&(e=this.inputEl.getAttribute("placeholder"),t&&e!==t&&(this.inputEl.setAttribute("placeholder",t),this.mode===x.ChatInputMode.AI&&null!==(n=this.inputEl)&&void 0!==n&&n.classList.add("ai-input-placeholder")),t=this.aiPrefixContent,n=this.getValue(),!t&&!n||t===n&&!this.aiInputStatus.isUserInput?this.showPlaceHolder():this.hidePlaceHolder())},i.prototype.clearInput=function(t){if(void 0===t&&(t=!1),this.inputEl instanceof HTMLTextAreaElement)this.setValue("");else if(t)this.currentPanelName?this.closePanel():this.setValue(""),this.isChatSearch&&(this.hasAgent=!1,this.aiInputStatus.isCustomInput=!1);else{for(var e=this.inputEl,n=e.childNodes.length-1;0<=n;n--){var i=e.childNodes[n];i.nodeType!==Node.ELEMENT_NODE&&e.removeChild(i)}var o=this.inputEl.querySelector(".ai-input-editor-content");o?Array.from(o.childNodes).forEach(function(t){o.removeChild(t)}):(0,y.createAiInputEditorContent)(this.inputEl);var a=this.inputEl.querySelector(".ai-input-editor-content");null!=a&&a.appendChild(document.createTextNode(" ")),(0,y.focusInputLast)(a)}null!==(a=this.inputEl)&&void 0!==a&&a.focus(),this.recalculateInputHeight()},i.prototype.destroy=function(){var t,e;null!==(e=this.sugPanelInstance)&&void 0!==e&&e.destroy(),(this.sugPanelInstance=null)!==(e=null===(t=this.sanInstance)||void 0===t?void 0:t.dispose)&&void 0!==e&&e.call(t),this.rootDom.innerHTML="",this.eventBinder.clear(),this.stopVoiceRecording(),null!==(e=null===(t=this.voiceInputInstance)||void 0===t?void 0:t.dispose)&&void 0!==e&&e.call(t),this.voiceInputInstance=null},i.prototype.initSugInstace=function(){return(0,b.__awaiter)(this,void 0,Promise,function(){var e,n;return(0,b.__generator)(this,function(t){switch(t.label){case 0:return e={bds:window.bds,maxNum:10,withoutRich:window.bds.comm.supportis,withoutZhixin:!0,form:document.querySelector("#form"),ipt:this.inputEl,newIpt:this.inputEl,newWrapper:this.panelEl,aiWrapper:this.panelEl,cbname:"bdsugresultcb",sugClickCallback:this.sugClick.bind(this),sugFocusCallback:this.sugFocus.bind(this),sugFeedbackClick:this.sugFeedbackClick.bind(this),hideSugCallback:this.hideSug.bind(this),useFeedback:!window.bds.comm.ishome,showSugCallback:this.showSug.bind(this),submission:window.form_submit},this.sugPanelInstance&&(this.sugPanelInstance.destroy(),this.sugPanelInstance=null),[4,Promise.resolve().then(function(){return(0,b.__importStar)(v(399))})];case 1:return n=t.sent(),n=n["default"]||n,n=new n(e),this.sugPanelInstance=n,this.renderPanelDivider(),[2]}})})},i.prototype.renderPanelDivider=function(){var t,e;this.panelEl.querySelector(".chat-input-panel-divider")||((t=document.createElement("div")).className="chat-input-panel-divider",(e=null===(e=this.panelEl)||void 0===e?void 0:e.firstChild)?this.panelEl.insertBefore(t,e):null!==(e=this.panelEl)&&void 0!==e&&e.appendChild(t))},i.prototype.bindChatTool=function(){var l=this,t=this.rootDom.querySelector(".chat-input-tool");this.eventBinder.add(this.inputContainEl,"mousedown",function(t){t.target.closest(l.numeroElClass)?t.stopPropagation():document.activeElement===l.inputEl&&(t.preventDefault(),t.stopPropagation())},x.ListenerEventType.TOOLS),this.eventBinder.add(this.inputContainEl,"click",function(t){t.target.closest(l.numeroElClass)?t.stopPropagation():(null!=t&&t.stopPropagation(),l.nextTick(function(){(0,y.hasSelection)()||(0,y.focusInputLast)(l.inputEl)}),l.eventEmitter.emit("click",{type:"tool",value:l.getValue(),event:t}))},x.ListenerEventType.TOOLS),this.eventBinder.add(t,"mousedown",function(t){l.inputEl&&(t.target.closest(l.numeroElClass)?t.stopPropagation():document.activeElement===l.inputEl&&(t.preventDefault(),t.stopPropagation()))},x.ListenerEventType.TOOLS),this.eventBinder.add(t,"click",function(t){l.inputEl&&(t.target.closest(l.numeroElClass)?t.stopPropagation():document.activeElement===l.inputEl&&(t.preventDefault(),t.stopPropagation(),l.eventEmitter.emit("click",{type:"tool",value:l.getValue(),event:t})))},x.ListenerEventType.TOOLS),this.eventBinder.add(this.panelEl,"mousedown",function(t){t.target.closest(l.numeroElClass)?t.stopPropagation():t.preventDefault()},x.ListenerEventType.PANEL);var u=null;this.eventBinder.add(this.panelEl,"wheel",function(t){for(var e=t.target;e&&e!==l.panelEl;){if(50<e.scrollHeight-e.clientHeight)break;e=e.parentElement}if(!e||e.scrollHeight<=e.clientHeight)return t.preventDefault(),void t.stopPropagation();var n=e.scrollTop,i=e.scrollHeight,o=e.clientHeight,a=t.deltaY,r=0<a,s=a<0,a=0===n,o=i-1<=n+o;u&&clearTimeout(u),u=setTimeout(function(){l.eventEmitter.emit("panel-scroll"),u=null},100),(a&&s||o&&r)&&(t.preventDefault(),t.stopPropagation())},x.ListenerEventType.PANEL,{passive:!1})},i.prototype.bindFocus=function(){var e=this;this.inputEl&&this.eventBinder.add(this.inputEl,"focus",function(){var t;1===e.initialRow&&null!==(t=e.inputMainDom)&&void 0!==t&&t.classList.remove("one-line-input"),e.mode===x.ChatInputMode.NORMAL?(null!==(t=e.inputMainDom)&&void 0!==t&&t.classList.add("chat-input-main-focus"),e.isChatSearch&&e.eventEmitter.emit("focus")):e.nextTick(function(){e.resetFocusClass("focus"),(0,y.focusInputLast)(e.inputEl),e.eventEmitter.emit("focus")})},x.ListenerEventType.INPUT)},i.prototype.actionBlur=function(){var t,e,n=this;1!==this.initialRow||null!==(t=this.inputMainDom)&&void 0!==t&&t.classList.contains("one-line-input")||(null!==(e=this.inputMainDom)&&void 0!==e&&e.classList.add("one-line-input"),this.stopVoiceRecording()),this.mode===x.ChatInputMode.NORMAL?this.isChatSearch||(null!==(e=this.sugPanelInstance)&&void 0!==e&&e.hide(),this.inputEl.scrollTop=0,null!==(e=this.panelEl)&&void 0!==e&&e.classList.remove("chat-input-max-height"),null!==(e=this.inputMainDom)&&void 0!==e&&e.classList.remove("chat-input-main-focus")):(this.isChatSearch||(this.inputEl.scrollTop=0),this.nextTick(function(){n.resetFocusClass("blur")})),this.eventEmitter.emit("blur")},i.prototype.bindBlur=function(){this.inputEl&&this.eventBinder.add(this.inputEl,"blur",this.actionBlur.bind(this),x.ListenerEventType.INPUT)},i.prototype.resetFocusClass=function(t){var e,n=this;"focus"===t?(this.blurTimer?(clearTimeout(this.blurTimer),this.blurTimer=null):null!==(e=this.inputMainDom)&&void 0!==e&&e.classList.add("chat-input-main-focus"),null!==(e=this.panelEl)&&void 0!==e&&e.classList.remove("panel-shrink"),window.requestAnimationFrame(function(){var t;null!==(t=n.panelEl)&&void 0!==t&&t.classList.add("panel-expand"),n.eventEmitter.emit("sug-panel-show"),n.panelEl.style.maxHeight=n.mode===x.ChatInputMode.NORMAL?"600px":n.panelMaxHeight+"px"})):(null!==(e=this.panelEl)&&void 0!==e&&e.classList.remove("panel-expand"),null!==(e=this.panelEl)&&void 0!==e&&e.classList.add("panel-shrink"),this.isChatSearch&&"ai_read"===this.currentPanelName&&this.eventEmitter.emit("panel-item-upload","close"),this.panelEl.style.maxHeight="0px",this.blurTimer&&(clearTimeout(this.blurTimer),this.blurTimer=null),this.isChatSearch||(this.blurTimer=setTimeout(function(){var t;null!==(t=n.inputMainDom)&&void 0!==t&&t.classList.remove("chat-input-main-focus"),clearTimeout(n.blurTimer),n.blurTimer=null},160)))},i.prototype.recalculateInputHeight=function(){this.inputEl.style.height="auto",this.inputEl.style.height=this.inputEl.scrollHeight+"px"},i.prototype.addPrefixHolder=function(){var n=this,t=(0,m.getUserAgentInfo)().isSafari?"&nbsp;":"&#xFEFF;";this.prefixEl&&(this.prefixEmptyDom?this.prefixEmptyDom.innerHTML=t:(this.prefixEmptyDom=document.createElement("span"),this.prefixEmptyDom.innerHTML=t,null!==(t=this.prefixEl)&&void 0!==t&&t.insertAdjacentElement("afterend",this.prefixEmptyDom)),requestAnimationFrame(function(){var t=document.createRange(),e=window.getSelection();null!=t&&t.setStartAfter(n.prefixEl),null!=t&&t.setEndAfter(n.prefixEl),null!=e&&e.removeAllRanges(),null!=e&&e.addRange(t)}))},i.prototype.addAgentHolder=function(){var n=this,t=(0,m.getUserAgentInfo)().isSafari?"&nbsp;":"&#xFEFF;";this.agentEl&&(this.agentEmptyDom?this.agentEmptyDom.innerHTML=t:(this.agentEmptyDom=document.createElement("span"),this.agentEmptyDom.innerHTML=t,null!==(t=this.agentEl)&&void 0!==t&&t.insertAdjacentElement("afterend",this.agentEmptyDom)),requestAnimationFrame(function(){var t=document.createRange(),e=window.getSelection();null!=t&&t.setStartAfter(n.agentEl),null!=t&&t.setEndAfter(n.agentEl),null!=e&&e.removeAllRanges(),null!=e&&e.addRange(t)}))},i.prototype.bindInput=function(){var e=this;this.inputEl&&(this.mode===x.ChatInputMode.AI?this.nextTick(function(){return(0,b.__awaiter)(e,void 0,void 0,function(){return(0,b.__generator)(this,function(t){return(0,y.focusInputLast)(this.inputEl),this.observer=new MutationObserver(this.aiInputChangeHandler.bind(this)),this.observer.observe(this.inputEl,{childList:!0,subtree:!0,characterData:!0}),[2]})})}):this.eventBinder.add(this.inputEl,"input",function(){e.recalculateInputHeight();var t=e.getValue();e.checkClearIcon(),e.eventEmitter.emit("input",t),e.stopVoiceRecording()},x.ListenerEventType.INPUT))},i.prototype.aiInputChangeHandler=function(){var r,s;return(0,b.__awaiter)(this,void 0,void 0,function(){var e,n,i,o,a;return(0,b.__generator)(this,function(t){return this.inputEl?(this.isVoiceRecording||this.stopVoiceRecording(),a=this.inputEl.querySelector(".ai-input-prefix-wrapper"),e=null===(r=this.inputContainEl)||void 0===r?void 0:r.querySelector("#ai-input-file-tag"),this.hasAgent=!!this.inputEl.querySelector(".cs-pc-input-agent"),(a||!this.getCurrentPanelName())&&(a||e||this.getCurrentPanelName()||this.hasAgent)?(n=this.inputEl.querySelector(".ai-input-editor-content"),o=(null===(r=n)||void 0===r?void 0:r.innerText)||"",this.eventEmitter.emit("input",this.getValue()),this.checkClearIcon(),this.getValue()?((0,y.handleInputFieldChange)(n),this.resetPlaceholder()):(null!==(r=null===(r=this.inputEl)||void 0===r?void 0:r.querySelectorAll("br"))&&void 0!==r&&r.forEach(function(t){return t.remove()}),(i=this.inputEl.querySelector(".ai-input-editor-content"))||((0,y.createAiInputEditorContent)(this.inputEl),i=this.inputEl.querySelector(".ai-input-editor-content")),e=i.firstChild,n=e&&e.nodeType===Node.TEXT_NODE&&" "===e.nodeValue,e&&n||(i.textContent=" "),(0,y.focusInputLast)(i),this.showPlaceHolder()),this.recalculateInputHeight(),a&&!this.aiInputStatus.isBreakRow&&("\n"===o||0===o.length)||""===this.getValue()||(i=(0,m.getUserAgentInfo)(),o=this.aiInputStatus.isComposing,a&&!a.nextSibling&&(o&&(0,y.focusInputLast)(this.inputEl),null!==(s=this.prefixEmptyDom)&&void 0!==s&&s.remove(),this.prefixEmptyDom=null,i.isSafari&&this.addPrefixHolder()),(a=this.inputEl.querySelector(".cs-pc-input-agent"))&&!a.nextSibling&&(o&&(0,y.focusInputLast)(this.inputEl),null!==(s=this.agentEmptyDom)&&void 0!==s&&s.remove(),this.agentEmptyDom=null,i.isSafari&&this.addAgentHolder(),(0,y.focusInputLast)(this.inputEl)),!a&&this.hasAgent&&(this.hasAgent=!1,this.eventEmitter.emit("prefix-agent-click"),this.emitAiToolChange("agent-close","prefix-agent-click")))):this.closePanel(),[2]):[2]})})},i.prototype.bindSubmit=function(){var n=this,t=this.isChatSearch?this.rootDom.querySelector("#chat-submit-button-ai"):this.rootDom.querySelector("#chat-submit-button");this.eventBinder.add(t,"click",function(t){t.stopPropagation(),n.stopVoiceRecording();var e=n.getValue(),t=n.getMaxInputLength();n.eventEmitter.emit("submit",e.slice(0,t),"se_btn"),n.nextTick(function(){n.inputEl.blur()})},x.ListenerEventType.INPUT)},i.prototype.sugClick=function(t){var e=this;this.eventEmitter.emit("submit",t,"sug"),this.nextTick(function(){e.inputEl.blur()}),this.stopVoiceRecording()},i.prototype.sugFocus=function(t,e){"keyboard"===e&&this.stopVoiceRecording()},i.prototype.sugFeedbackClick=function(){var t=this;this.nextTick(function(){t.inputEl.blur()})},i.prototype.hideSug=function(t){void 0===t&&(t=!1),this.panelEl&&this.closeSugPanel(t)},i.prototype.showSug=function(){this.panelEl&&this.openSugPanel()},i.prototype.openSugPanel=function(){var t,e=this;this.panelEl&&(null!==(t=this.inputMainDom)&&void 0!==t&&t.classList.remove("one-line-input"),this.eventEmitter.emit("deep-search-show"),this.panelEl.classList.remove("panel-shrink"),window.requestAnimationFrame(function(){var t;e.panelEl&&(e.panelEl.classList.contains("panel-expand")||(e.panelEl.classList.add("panel-expand"),e.eventEmitter.emit("sug-panel-show")),t=e.mode===x.ChatInputMode.NORMAL?"600px":e.panelMaxHeight+"px",e.panelEl.style.maxHeight=t)}))},i.prototype.closeSugPanel=function(t){void 0===t&&(t=!1),this.panelEl&&(t?this.panelEl.style.display="none":(this.panelEl.classList.remove("panel-expand"),this.panelEl.classList.contains("panel-shrink")||this.panelEl.classList.add("panel-shrink"),this.panelEl.style.maxHeight="0px"))},i.prototype.bindKeyUp=function(){var e=this;this.inputEl&&this.eventBinder.add(this.inputEl,"keyup",function(t){e.nextTick(function(){"Shift"!==t.key&&"Meta"!==t.key&&"Control"!==t.key||setTimeout(function(){e.aiInputStatus.isBreakRow=!1},100)})},x.ListenerEventType.INPUT)},i.prototype.bindKeyDown=function(){var f,g=this;this.inputEl&&(f=this.inputEl,this.quickFocus&&this.eventBinder.add(document,"keydown",function(t){t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||191!==t.keyCode&&111!==t.keyCode||(g.mode===x.ChatInputMode.AI?(0,y.focusInputLast)(g.inputEl):(t=g.getValue().length,null!==f&&void 0!==f&&f.setSelectionRange(t,t),null!=f&&f.focus()))},x.ListenerEventType.OTHER),this.eventBinder.add(f,"keydown",function(t){var e=window.getSelection();if(e){var n,i,o;if(g.mode===x.ChatInputMode.AI&&(g.aiInputStatus.isUserInput=!0,g.isVoiceRecording&&g.stopVoiceRecording()),g.mode===x.ChatInputMode.AI&&(t.ctrlKey||t.metaKey)&&"a"===t.key.toLowerCase()){var a,r,s,l=null===(a=g.inputEl)||void 0===a?void 0:a.querySelector("#ai-input-file-tag");document.activeElement===f&&(g.prefixEl||l)&&(t.preventDefault(),a=(r=f.querySelector("#ai-input-file-tag"))?r.nextSibling:null===(s=g.inputEl.firstChild)||void 0===s?void 0:s.nextSibling,r=((l=g.inputEl.lastChild).nodeType===Node.TEXT_NODE?l.nodeValue:l.childNodes).length,(s=document.createRange()).setStart(a,0),s.setEnd(l,r),e.removeAllRanges(),e.addRange(s))}else if("Enter"===t.key)g.aiInputStatus.isCustomInput||g.aiInputStatus.isComposing||!(g.aiInputStatus.isBreakRow||t.shiftKey||t.metaKey||t.ctrlKey)?g.aiInputStatus.isComposing||!g.aiInputStatus.isCustomInput&&g.aiInputStatus.isBreakRow||(t.preventDefault(),u=g.getValue(),i=g.getMaxInputLength(),n=u.slice(0,i),g.stopVoiceRecording(),(0,m.isSafari)()?(g.inputEl.blur(),setTimeout(function(){g.eventEmitter.emit("submit",n,"enter")},50)):(g.eventEmitter.emit("submit",n,"enter"),g.nextTick(function(){g.inputEl.blur()}))):g.mode===x.ChatInputMode.NORMAL?(p=g.inputEl,t.preventDefault(),c=p.selectionStart,i=p.selectionEnd,u=p.value,p.value=u.substring(0,c)+"\n"+u.substring(i),p.selectionStart=p.selectionEnd=c+1,g.recalculateInputHeight(),p.selectionStart===p.value.length&&(p.scrollTop=p.scrollHeight)):(o=f.scrollHeight,setTimeout(function(){f.scrollHeight<=o&&(0,y.insertAtRange)(document.createElement("br"))},50));else if(g.mode===x.ChatInputMode.AI&&"Shift"===t.key||"Meta"===t.key||"Control"===t.key)g.aiInputStatus.isBreakRow=!0;else if(g.mode===x.ChatInputMode.AI&&"Backspace"===t.key){if(""===g.getValue()){t.preventDefault();var u=Array.from(g.inputEl.childNodes),c=u.find(function(t){return t instanceof HTMLElement&&t.classList.contains("ai-input-prefix-wrapper")}),p=u.find(function(t){return t instanceof HTMLElement&&"ai-input-file-tag"===t.id});if(p&&c)return p.remove(),g.eventEmitter.emit("prefix-file-back-delete"),void g.emitAiToolChange("file-remove","backspace");if(c)return g.eventEmitter.emit("prefix-back-delete"),void g.closePanel();if(g.isChatSearch){var d=u.find(function(t){return t instanceof HTMLElement&&t.classList.contains("cs-pc-input-agent")});if(d)return d.remove(),g.hasAgent=!1,g.setMode(x.ChatInputMode.AI),g.setPlaceHolder(g.aiPlaceholder),g.eventEmitter.emit("prefix-agent-click"),void g.emitAiToolChange("agent-close","prefix-agent-click")}g.fileEl||g.closePanel()}else{var h=window.getSelection();if(!h||!h.anchorNode)return}(g.aiInputStatus.isBreakRow=!1,y.handleInputFieldBackspace)(t)}else["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)?g.getMode()===x.ChatInputMode.AI&&""===g.getValue()?(t.preventDefault(),t.stopPropagation()):"ArrowLeft"!==t.key&&"ArrowUp"!==t.key||(d=window.getSelection())&&d.isCollapsed&&g.prefixEl&&(d=(h=d.getRangeAt(0)).startContainer,h=h.startOffset,g.prefixEl.nextSibling===d&&0===h&&t.preventDefault()):" "===t.key||"Space"===t.code?g.getValue()||g.mode!==x.ChatInputMode.AI||t.preventDefault():g.aiInputStatus.isBreakRow=!1}},x.ListenerEventType.INPUT))},i);function i(t){this.sanInstance=null,this.sugPanelInstance=null,this.blurTimer=null,this.temporaryContent="",this.mode=x.ChatInputMode.NORMAL,this.nextTicksCallbackList=[],this.pending=!1,this.hasAgent=!1,this.observer=null,this.inputEl=null,this.clearEl=null,this.panelEl=null,this.inputMainDom=null,this.wrapperEl=null,this.inputContainEl=null,this.prefixEl=null,this.fileEl=null,this.fileElMutationObserver=null,this.agentEl=null,this.voiceInputWrapperEl=null,this.voiceInputInstance=null,this.voiceInputInitialValue="",this.isVoiceRecording=!1,this.voiceRecordingStartTime=0,this.voiceRecognizedText="",this.voiceRecognitionNode=null,this.currentPanelName="",this.currentPanelChineseName="",this.savedNormalInputDom="",this.prefixEmptyDom=null,this.agentEmptyDom=null,this.eventBinder=new l.DomEventBinder,this.eventEmitter=new l.TypedEventEmitter,this.on=this.eventEmitter.on.bind(this.eventEmitter),this.off=this.eventEmitter.off.bind(this.eventEmitter),this.aiPrefixContent="",this.aiInputStatus={isComposing:!1,isBreakRow:!1,isCustomInput:!1,isUserInput:!1};var e=t.rootDom,n=t.initialRow,i=void 0===n?2:n,o=t.panelMaxHeight,a=t.aiPlaceholder,r=t.isChatSearch,s=void 0!==r&&r,n=t.isSingle,r=t.quickFocus;if(!e)throw new Error("A valid DOM element is required！");this.rootDom=e,this.initialRow=i,this.panelMaxHeight=o,this.aiPlaceholder=a,this.isChatSearch=s,this.isSingle=n,this.quickFocus=r||!1,this.init(),this.bindAllEvent(),this.isChatSearch&&this.setPlaceHolder(this.aiPlaceholder),this.attached(t)}e["default"]=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DRAGCONTENT=e.INPUT_ANIME_LS_KEY=e.OPENING_ANIMATION_DURATION=e.AI_MUSIC_INPUT_MAX_LENGTH=e.CHAT_INPUT_MAX_LENGTH=e.INPUT_MAX_LENGTH=void 0,e.INPUT_MAX_LENGTH=1e3,e.CHAT_INPUT_MAX_LENGTH=5e3,e.AI_MUSIC_INPUT_MAX_LENGTH=200,e.OPENING_ANIMATION_DURATION=5e3,e.INPUT_ANIME_LS_KEY="INPUT_BORDER_ANIME_LAST_SHOWN_DATE",e.DRAGCONTENT={IMG:"https://gips2.baidu.com/it/u=1627277417,3307578141&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f526_253",TITLE:"在此处拖放文件/图片，文心助手帮你解读",FILETEXT:"支持PDF、Word、Excel、PPT、txt、Python、Java等文件，最大50MB；",IMAGETEXT:"支持jpg、png、jpeg等图片，最大10MB"}},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.ListenerEventType=e.ChatPanel=e.ChatInputMode=void 0,(i=e.ChatInputMode||(e.ChatInputMode={})).AI="ai",i.NORMAL="normal",(i=e.ChatPanel||(e.ChatPanel={})).CREATE="office_create",i.PHOTO="photo_editing",i.READ="ai_read",i.CODE="ai_code",i.DEEP_RESEARCH="deep_research",i.MUSIC="ai_music_create",i.NUMERO="ai_numerology",i.PPT="ai_ppt",(e=e.ListenerEventType||(e.ListenerEventType={})).INPUT="input",e.SUG="sug",e.TOOLS="tools",e.OTHER="other",e.PANEL="panel",e.CUSTOM="custom"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=e.DomEventBinder=void 0;var i=(o.prototype.add=function(t,e,n,i,o){t&&n&&(t.addEventListener(e,n,o),this.bindings.push({el:t,type:e,handler:n,options:o,eventType:i}))},o.prototype.clear=function(a){a||(this.bindings.forEach(function(t){var e=t.el,n=t.type,i=t.handler,t=t.options;i&&e.removeEventListener(n,i,t)}),this.bindings=[]),this.bindings.forEach(function(t){var e=t.el,n=t.type,i=t.handler,o=t.options;t.eventType===a&&i&&e.removeEventListener(n,i,o)})},o);function o(){this.bindings=[]}e.DomEventBinder=i;a.prototype.on=function(t,e){var n;null!==(n=this.listeners)&&void 0!==n&&n[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];null!==(t=this.listeners[t])&&void 0!==t&&t.forEach(function(t){t.apply(null,e)})},a.prototype.off=function(t){this.listeners[t]&&delete this.listeners[t]},i=a;function a(){this.listeners={}}e.TypedEventEmitter=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFileDesc=e.getImageUrl=e.getFileIcon=e.formatBytes=e.IconMaps=void 0;var i="https://psstatic.cdn.bcebos.com/basics/",o={PDF:i+"aichat/pdf-wise_1744600722000.png",Word:i+"aichat/word-wise_1744600783000.png",PPT:i+"aichat/ppt-wise_1744600745000.png",TXT:i+"aichat/txt-wise_1744600762000.png",Excel:i+"aichat/excel-wise_1744600701000.png",Code:i+"aichat/code_1753701401000.png",unknown:""};e.IconMaps={deleteIcon:"https://gips2.baidu.com/it/u=3457981003,2090099587&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f45_45",uploadIcon:"https://psstatic.cdn.bcebos.com/basics/aichat/pc-image-loading-upload_1757305079000.png",loadingIcon:"https://gips0.baidu.com/it/u=1698361030,3674932214&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f48_48",reuploadIcon:"https://psstatic.cdn.bcebos.com/basics/aichat/image-loading_1757410860000.png"},e.formatBytes=function(t){if("number"!=typeof t||isNaN(t)||t<0)return"0B";for(var e=["B","KB","MB","GB","TB","PB"],n=0;1024<=t&&n<e.length-1;)t/=1024,n++;return""+Math.round(100*t)/100+e[n]},e.getFileIcon=function(t){return 0===t.status||1===t.status?e.IconMaps.uploadIcon:2===t.status?o[t.fileType]:(t.status,e.IconMaps.reuploadIcon)},e.getImageUrl=function(t){return 2===t.status?t.url:3===t.status?e.IconMaps.reuploadIcon:e.IconMaps.uploadIcon},e.getFileDesc=function(t){return 0===t.status||1===t.status?"上传中 "+Math.round(1e4*t.progress)/100+"%":3===t.status?"点击图标重新上传":""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(0,n(1).__importDefault)(n(359));e["default"]=n["default"]},function(t,e,n){var i=n(2),o=[n(360)],a=n(99),r=n(100)["default"];t.exports=n(100),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(361);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("d9353962",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".input-panel-create {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  max-height: inherit;\n  position: relative;\n}\n.input-panel-create .input-panel-create-tab {\n  width: 100%;\n  margin-top: 15px;\n  margin-bottom: 6px;\n  gap: 12px;\n  flex: 0 0 auto;\n  padding: 0 3px;\n  box-sizing: border-box;\n  display: flex;\n}\n.input-panel-create .input-panel-create-tab .input-panel-create-tab-item {\n  position: relative;\n  cursor: pointer;\n  padding: 6px 9px;\n  font-size: 14px;\n  line-height: 13px;\n  font-weight: 400;\n}\n.input-panel-create .input-panel-create-tab .input-panel-create-tab-item:hover {\n  color: #4E6EF2;\n}\n.input-panel-create .input-panel-create-tab .input-panel-create-tab-item-selected {\n  font-weight: 500;\n  color: #4E6EF2;\n}\n.input-panel-create .input-panel-create-tab .input-panel-create-tab-item-selected:after {\n  content: '';\n  position: absolute;\n  bottom: -1px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 14px;\n  height: 1px;\n  background: #4E6EF2;\n}\n.input-panel-create .input-panel-create-content {\n  flex: 1;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding: 9px 12px 0 12px;\n}\n.input-panel-create .input-panel-create-content::-webkit-scrollbar {\n  width: 4px;\n}\n.input-panel-create .input-panel-create-content:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(102, 51, 255, 0.1);\n  border-radius: 4px;\n}\n.input-panel-create .input-panel-create-content::-webkit-scrollbar-track {\n  box-shadow: none;\n  background-color: initial;\n}\n.input-panel-create .input-panel-create-content .input-panel-create-content-list {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  gap: 9px;\n}\n.input-panel-create .input-panel-create-content .input-panel-create-content-list:last-child {\n  margin-bottom: 12px;\n}\n.input-panel-create .input-panel-create-content .input-panel-create-content-list:nth-child(n + 2) {\n  margin-top: 9px;\n}\n",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(363)],a=n(101),r=n(102)["default"];t.exports=n(102),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(364);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("7b109575",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".input-panel-create-item {\n  border: 0.5px solid #DBDCE0;\n  border-radius: 18px;\n  padding: 15px 12px;\n  color: #333;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  max-width: calc(25% - 6px);\n  cursor: pointer;\n  flex: 1;\n}\n.input-panel-create-item .input-panel-create-item-img {\n  width: 36px;\n  height: 36px;\n  border-radius: 9px;\n  flex-shrink: 0;\n  border: 0.5px solid transparent;\n}\n.input-panel-create-item .input-panel-create-item-text {\n  margin-left: 9px;\n  flex: 1;\n  overflow: hidden;\n}\n.input-panel-create-item .input-panel-create-item-text .input-panel-create-item-title {\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 18px;\n}\n.input-panel-create-item .input-panel-create-item-text .input-panel-create-item-desc {\n  font-size: 13px;\n  line-height: 18px;\n  color: #9195a3;\n  margin-top: 4.5px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  -webkit-line-clamp: 1;\n}\n.input-panel-create-item .input-panel-create-item-text .input-panel-create-item-desc .input-panel-create-item-logo {\n  position: relative;\n  top: 2px;\n  width: 14px;\n  height: 14px;\n}\n.input-panel-create-item:hover {\n  background: rgba(78, 110, 242, 0.03);\n}\n.input-panel-create-item:hover .input-panel-create-item-img {\n  border: 0.5px solid rgba(0, 0, 0, 0.1);\n}\n",""]),t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(0,n(1).__importDefault)(n(366));e["default"]=n["default"]},function(t,e,n){var i=n(2),o=[n(367)],a=n(104),r=n(105)["default"];t.exports=n(105),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(368);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("727d95e2",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".input-panel-draw {\n  width: 100%;\n  height: calc(540px - 21px);\n  max-height: inherit;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n}\n.input-panel-draw .input-panel-draw-tools {\n  width: 100%;\n  margin-top: 14px;\n  overflow-x: hidden;\n  display: flex;\n  gap: 6px;\n  padding: 0 12px;\n  box-sizing: border-box;\n  font-weight: 500;\n  justify-content: space-between;\n}\n.input-panel-draw .input-panel-draw-tools .input-panel-draw-tools-list-item {\n  flex-shrink: 0;\n  font-size: 14px;\n  line-height: 14px;\n  font-weight: 400;\n  height: 36px;\n  flex: 1;\n  border-radius: 12px;\n  border: 0.5px solid var(--cos-color-border-tiny, #DBDCE0);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 9px;\n  cursor: pointer;\n}\n.input-panel-draw .input-panel-draw-tools .input-panel-draw-tools-list-item .input-panel-draw-tools-list-item-icon {\n  width: 16px;\n  height: 16px;\n  flex-shrink: 0;\n}\n.input-panel-draw .input-panel-draw-tools .input-panel-draw-tools-list-item:hover {\n  color: #4E6EF2;\n  background: #eff2fe;\n}\n.input-panel-draw .input-panel-draw-tools .input-panel-draw-tools-list-item:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.input-panel-draw .input-panel-draw-content {\n  box-sizing: border-box;\n  position: relative;\n  width: 100%;\n  margin-top: 12px;\n  padding: 0 12px;\n  overflow-y: scroll;\n  flex: 1;\n}\n.input-panel-draw .input-panel-draw-content::-webkit-scrollbar {\n  width: 4px;\n}\n.input-panel-draw .input-panel-draw-content:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(78, 110, 242, 0.1);\n  border-radius: 4px;\n}\n.input-panel-draw .input-panel-draw-content::-webkit-scrollbar-track {\n  box-shadow: none;\n  background-color: initial;\n}\n.input-panel-draw .input-panel-draw-content .input-panel-draw-content-list-item {\n  display: flex;\n  flex-direction: row;\n  gap: 3px;\n}\n.input-panel-draw .input-panel-draw-content .input-panel-draw-content-list-item:nth-child(n + 2) {\n  margin-top: 3px;\n}\n.input-panel-draw .input-panel-draw-content .input-panel-draw-content-list-item-btn {\n  flex: 1;\n}\n.input-panel-draw .input-panel-draw-content .input-panel-draw-content-list-item:first-child .input-panel-draw-content-list-item-btn:first-child {\n  border-top-left-radius: 9px;\n}\n.input-panel-draw .input-panel-draw-content .input-panel-draw-content-list-item:first-child .input-panel-draw-content-list-item-btn:last-child {\n  border-top-right-radius: 9px;\n}\n.input-panel-draw .input-panel-draw-content .input-panel-draw-content-list-item:last-child {\n  margin-bottom: 12px;\n}\n.input-panel-draw .input-panel-draw-content .input-panel-draw-content-list-item:last-child .input-panel-draw-content-list-item-btn:first-child {\n  border-bottom-left-radius: 9px;\n}\n.input-panel-draw .input-panel-draw-content .input-panel-draw-content-list-item:last-child .input-panel-draw-content-list-item-btn:last-child {\n  border-bottom-right-radius: 9px;\n}\n",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(370)],a=n(106),r=n(107)["default"];t.exports=n(107),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(371);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("1511dbb5",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".input-panel-draw-item {\n  aspect-ratio: 1 / 1;\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n}\n.input-panel-draw-item .input-panel-draw-item-img {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transition: transform 240ms ease-in-out;\n}\n.input-panel-draw-item .input-panel-draw-item-text {\n  box-sizing: border-box;\n  position: absolute;\n  border-radius: 3px;\n  top: 12px;\n  left: 12px;\n  background: #FFFFFFB2;\n  backdrop-filter: blur(24px);\n  padding: 0 3px;\n  height: 16px;\n  color: #333333;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 16px;\n  transition: opacity 240ms ease-in-out;\n}\n.input-panel-draw-item .input-panel-draw-item-btn {\n  position: absolute;\n  font-size: 14px;\n  bottom: 12px;\n  transition: opacity 240ms ease-in-out;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 88px;\n  height: 30px;\n  z-index: 10;\n  border-radius: 15px;\n  background: #000000CC;\n  color: #FFFFFF;\n  box-shadow: 0px 4px 16px 0px #00000014;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  backdrop-filter: blur(30px);\n}\n.input-panel-draw-item .input-panel-draw-item-btn:hover {\n  backdrop-filter: blur(30px);\n}\n.input-panel-draw-item:hover .input-panel-draw-item-img {\n  transform: scale(1.05);\n  transform-origin: center center;\n}\n.input-panel-draw-item:hover .input-panel-draw-item-btn {\n  opacity: 1;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(0,n(1).__importDefault)(n(373));e["default"]=n["default"]},function(t,e,n){var i=n(2),o=[n(374)],a=n(108),r=n(109)["default"];t.exports=n(109),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(375);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("d2e8121a",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".input-panel-music {\n  display: flex;\n}\n.input-panel-music .input-panel-music-divider {\n  margin: 15px 18px 0 18px;\n}\n.input-panel-music .input-panel-music-content {\n  margin-top: 15px;\n  flex: 1;\n  height: 338px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  overflow-y: scroll;\n}\n.input-panel-music .input-panel-music-content::-webkit-scrollbar {\n  width: 4px;\n}\n.input-panel-music .input-panel-music-content:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(102, 51, 255, 0.1);\n  border-radius: 4px;\n}\n.input-panel-music .input-panel-music-content::-webkit-scrollbar-track {\n  box-shadow: none;\n  background-color: initial;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list {\n  overflow-y: scroll;\n  flex: 1;\n  padding: 0 12px 12px;\n  position: relative;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list::-webkit-scrollbar {\n  width: 4px;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(102, 51, 255, 0.1);\n  border-radius: 4px;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list::-webkit-scrollbar-track {\n  box-shadow: none;\n  background-color: initial;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list .input-panel-music-content-list-item {\n  display: flex;\n  flex-direction: row;\n  gap: 1.5px;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list .input-panel-music-content-list-item:nth-child(n + 2) {\n  margin-top: 2px;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list .input-panel-music-content-list-item-btn {\n  max-width: var(--max-item-width);\n  flex: 1;\n  text-align: center;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list .input-panel-music-content-list-item:first-child .input-panel-music-content-list-item-btn:first-child {\n  border-top-left-radius: 15px;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list .input-panel-music-content-list-item:first-child .input-panel-music-content-list-item-btn:last-child {\n  border-top-right-radius: 15px;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list .input-panel-music-content-list-item:last-child .input-panel-music-content-list-item-btn:first-child {\n  border-bottom-left-radius: 15px;\n}\n.input-panel-music .input-panel-music-content .input-panel-music-content-list .input-panel-music-content-list-item:last-child .input-panel-music-content-list-item-btn:last-child {\n  border-bottom-right-radius: 15px;\n}\n",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(377)],a=n(110),r=n(111)["default"];t.exports=n(111),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(378);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("6fe8a851",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".input-panel-music-item-container {\n  overflow: hidden;\n}\n.input-panel-music-item {\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n  background: var(--cos-color-bg-dent, #F5F6FA);\n}\n.input-panel-music-item::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: radial-gradient(circle at bottom left, rgba(var(--domin-color), 0.8) 0%, transparent 60%);\n  opacity: 0.4;\n}\n.input-panel-music-item::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: radial-gradient(circle at bottom right, rgba(var(--sub-color), 0.6) 0%, transparent 33%);\n  opacity: 0.4;\n}\n.input-panel-music-item-img {\n  aspect-ratio: 1 / 1;\n  position: relative;\n  border-radius: 100%;\n  width: calc(100% - 36px);\n  height: calc(100% - 36px);\n  padding: 18px;\n}\n.input-panel-music-item-img-wrapper {\n  margin: 9px;\n  background-color: #00000008;\n  border-radius: 100%;\n  position: relative;\n}\n.input-panel-music-item-func {\n  margin: 9px 9px 12px;\n  display: flex;\n  justify-content: space-between;\n}\n.input-panel-music-item-title {\n  display: flex;\n  flex-direction: column;\n}\n.input-panel-music-item-text {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  color: var(--cos-color-text-tiny, #272933);\n  font-size: 14px;\n  line-height: 14px;\n  font-weight: 500;\n  text-align: left;\n  z-index: 1;\n  padding: 2px 0;\n}\n.input-panel-music-item-desc {\n  display: flex;\n  color: #848691;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 12px;\n  margin-top: 6px;\n}\n.input-panel-music-item-timbre {\n  margin-left: 6px;\n}\n.input-panel-music-item-play {\n  box-sizing: border-box;\n  width: 36px;\n  height: 36px;\n  mask-image: url('https://gips3.baidu.com/it/u=515794702,2412915344&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f108_108');\n  mask-repeat: no-repeat;\n  mask-size: cover;\n  background: #848691;\n  z-index: 1;\n}\n.input-panel-music-item-play:hover {\n  background: var(--hue-color);\n}\n.input-panel-music-item .playing-icon {\n  mask-image: url('https://gips1.baidu.com/it/u=3822391380,3659067781&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f108_108');\n  mask-repeat: no-repeat;\n  mask-size: cover;\n  background: var(--hue-color);\n}\n.input-panel-music-item .playing-icon:hover {\n  background: var(--hue-color);\n}\n.input-panel-music-item-btn {\n  position: absolute;\n  font-size: 14px;\n  line-height: 14px;\n  bottom: 0;\n  transition: opacity 240ms ease-in-out;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10;\n  border-radius: 15px;\n  background: #000000CC;\n  color: #FFFFFF;\n  box-shadow: 0px 4px 16px 0px #00000014;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  font-weight: 500;\n  padding: 8px 29px;\n  white-space: nowrap;\n}\n.input-panel-music-item-btn:hover {\n  backdrop-filter: blur(30px);\n}\n.input-panel-music-item:hover .input-panel-music-item-btn {\n  opacity: 1;\n  -webkit-backdrop-filter: blur(30px);\n  backdrop-filter: blur(30px);\n}\n.input-panel-music-item:has(.input-panel-music-item-play:hover) .input-panel-music-item-btn {\n  opacity: 0;\n}\n.input-panel-music-item .progress-box {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n}\n.input-panel-music-item .progress-box .progress-container {\n  flex: 1;\n  position: relative;\n  height: 3px;\n  cursor: not-allowed;\n  transform-origin: center;\n  transition: height 0.2s ease;\n}\n.input-panel-music-item .progress-box .progress-container .progress {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 0%;\n  background: var(--hue-color);\n  border-radius: 0 10px 10px 0;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(0,n(1).__importDefault)(n(380));e["default"]=n["default"]},function(t,e,n){var i=n(2),o=[n(381)],a=n(112),r=n(113)["default"];t.exports=n(113),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(382);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("4be3d4ef",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".input-panel-numero {\n  max-height: 343px;\n  width: 100%;\n  box-sizing: border-box;\n  border-radius: 8px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  margin-top: 15px;\n  border-bottom-right-radius: 20px;\n  border-bottom-left-radius: 20px;\n}\n.input-panel-numero::-webkit-scrollbar {\n  width: 4px;\n}\n.input-panel-numero::-webkit-scrollbar-track {\n  box-shadow: none;\n  background-color: initial;\n}\n.input-panel-numero::-webkit-scrollbar-thumb {\n  background-color: rgba(78, 110, 242, 0.1);\n  border-radius: 4px;\n}\n.input-panel-numero:hover::-webkit-scrollbar-thumb {\n  background-color: rgba(78, 110, 242, 0.2);\n}\n.input-panel-numero .numero-recommend-section {\n  padding: 0 12px 0;\n  margin-bottom: 3px;\n}\n.input-panel-numero .numero-recommend-section .button-list {\n  display: flex;\n  flex-wrap: wrap;\n}\n.input-panel-numero .numero-recommend-section .button-list .recommend-button {\n  padding: 7px 12px;\n  border: 0.5px solid var(--cos-color-border-tiny, #dbdce0);\n  border-radius: 12px;\n  cursor: pointer;\n  color: var(--cos-color-text, #333);\n  margin-right: 9px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n}\n.input-panel-numero .numero-recommend-section .button-list .recommend-button:hover {\n  background: var(--cos-color-bg-dent, #f5f6f9);\n  color: var(--cos-color-text-primary, #4e6ef2);\n}\n.input-panel-numero .numero-recommend-section .button-list .recommend-button .button-text {\n  font-size: 14px;\n  font-weight: 500;\n  white-space: nowrap;\n}\n.input-panel-numero .numero-recommend-section .button-list .recommend-button .button-icon {\n  margin-top: 2px;\n  line-height: 1;\n  margin-right: 4px;\n}\n.input-panel-numero .fortune-section .fortune-content-list {\n  position: relative;\n  padding: 0 12px;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item {\n  display: flex;\n  flex-direction: row;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item:first-child .fortune-draw-item:first-child {\n  border-top-left-radius: 9px;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item:first-child .fortune-draw-item:last-child {\n  border-top-right-radius: 9px;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item:last-child {\n  margin-bottom: 12px;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item:last-child .fortune-draw-item:first-child {\n  border-bottom-left-radius: 9px;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item:last-child .fortune-draw-item:last-child {\n  border-bottom-right-radius: 9px;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item:nth-child(n + 2) {\n  margin-top: 3px;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item-space {\n  height: 100%;\n  width: 3px;\n}\n.input-panel-numero .fortune-section .fortune-content-list .fortune-content-list-item-btn {\n  flex: 1;\n  max-width: var(--max-item-width);\n}\n",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(384)],a=n(114),r=n(115)["default"];t.exports=n(115),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(385);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("46663f86",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".fortune-draw-item {\n  aspect-ratio: 1 / 1;\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n}\n.fortune-draw-item .fortune-draw-item-img {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transition: transform 240ms ease-in-out;\n}\n.fortune-draw-item .fortune-draw-item-text {\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 30px;\n  left: 12px;\n  color: var(--cos-color-text-inverse, #fff);\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 14px;\n  text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  z-index: 10;\n}\n.fortune-draw-item .fortune-draw-item-subtext {\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 12px;\n  left: 12px;\n  color: var(--cos-color-text-inverse, #fff);\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 14px;\n  text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  z-index: 10;\n}\n.fortune-draw-item .fortune-draw-item-btn {\n  position: absolute;\n  font-size: 14px;\n  bottom: 12px;\n  transition: opacity 240ms ease-in-out;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 88px;\n  height: 30px;\n  z-index: 10;\n  border-radius: 15px;\n  background: #000000CC;\n  color: #FFFFFF;\n  box-shadow: 0px 4px 16px 0px rgba(0, 0, 0, 0.08);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  -webkit-backdrop-filter: blur(30px);\n  backdrop-filter: blur(30px);\n}\n.fortune-draw-item .fortune-draw-item-btn:hover {\n  backdrop-filter: blur(30px);\n  -webkit-backdrop-filter: blur(30px);\n}\n.fortune-draw-item:hover .fortune-draw-item-btn {\n  opacity: 1;\n}\n.fortune-draw-item:hover .fortune-draw-item-btn:hover {\n  -webkit-backdrop-filter: blur(30px);\n  backdrop-filter: blur(30px);\n}\n.fortune-draw-item:hover .fortune-draw-item-img {\n  transform: scale(1.05);\n  transform-origin: center center;\n}\n.fortune-draw-item:hover .fortune-draw-item-text,\n.fortune-draw-item:hover .fortune-draw-item-subtext {\n  opacity: 0;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),a=n(0),n=(0,o.__importDefault)(n(387)),n=(i=a.Component,(0,o.__extends)(r,i),r.prototype.initData=function(){return{list:[],hoverText:"",itemsPerRow:4,itemGap:12}},r.prototype.handleItemClick=function(t,e){var n=t.button_id,i=(null==t?void 0:t["function"])||{},o=(null==t?void 0:t.fileInfo)||{};"input"===i.type&&(t=i.data.input||{},this.fire("click",{inputCustom:null===t?void 0:t.input_custom,fileInfo:o,functionData:i,functionName:n,index:e}))},r.template='\n        <div class="snap-text-panel">\n            <div class="snap-text-panel-content common-panel-content">\n                <snap-text-item\n                    s-for="item, index in list"\n                    hover-text="{{hoverText}}"\n                    items-per-row="{{itemsPerRow}}"\n                    item-gap="{{itemGap}}"\n                    data="{{item}}"\n                    on-click="native:handleItemClick(item, index)"\n                />\n            </div>\n        </div>\n    ',r.components={"snap-text-item":n["default"]},r);function r(){return null!==i&&i.apply(this,arguments)||this}e["default"]=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),n=n(0),o=(i=n.Component,(0,o.__extends)(a,i),a.prototype.initData=function(){return{data:{},hoverText:"做同款",itemsPerRow:4,itemGap:12}},a.template='\n        <div\n            class="snap-text-item"\n            style="width: calc(100% / {{itemsPerRow}} - {{itemGap}}px)"\n        >\n            <div class="snap-text-item-img-container">\n                <img class="snap-text-item-img" src="{{data.backgroundUrl}}" />\n                <div class="snap-text-item-hover-mask"></div>\n            </div>\n            <div class="snap-text-item-text">{{data.text}}</div>\n            <div\n                class="snap-text-item-btn"\n            >\n                {{hoverText}}\n            </div>\n        </div>\n    ',a);function a(){return null!==i&&i.apply(this,arguments)||this}e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(0,n(1).__importDefault)(n(389));e["default"]=n["default"]},function(t,e,n){var i=n(2),o=[n(390)],a=n(116),r=n(117)["default"];t.exports=n(117),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(391);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("3859b14f",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-voice-input {\n  user-select: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  height: 100%;\n}\n.chat-voice-input:hover {\n  color: #4e6ef2;\n}\n.chat-voice-input .chat-voice-input-mic-icon {\n  display: block;\n  width: 20px;\n  height: 20px;\n}\n.chat-voice-input .chat-voice-input-mic-icon svg {\n  opacity: 0.85;\n}\n.chat-voice-input.chat-voice-input-recording .chat-voice-input-mic-icon {\n  display: none;\n}\n.chat-voice-input .chat-voice-input-pill {\n  display: inline-flex;\n  align-items: center;\n  gap: 10px;\n  height: 36px;\n  width: 98px;\n  line-height: 28px;\n  padding: 0 12px;\n  border-radius: 12px;\n  background: #4E6EF20A;\n  white-space: nowrap;\n  animation: chat-voice-input-pill-enter 200ms cubic-bezier(0.22, 0.61, 0.36, 1) forwards;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.chat-voice-input .chat-voice-input-pill:hover {\n  background: #4E6EF217;\n}\n@keyframes chat-voice-input-pill-enter {\n  0% {\n    opacity: 0;\n    clip-path: inset(0 0 0 calc(100% - 34px));\n    -webkit-clip-path: inset(0 0 0 calc(100% - 34px));\n  }\n  100% {\n    opacity: 1;\n    clip-path: inset(0 0 0 0);\n    -webkit-clip-path: inset(0 0 0 0);\n  }\n}\n.chat-voice-input .chat-voice-input-pill-text {\n  font-size: 14px;\n  line-height: 14px;\n  font-weight: 500;\n  color: #333;\n}\n.chat-voice-input .chat-voice-input-pill-bars {\n  display: inline-flex;\n  gap: 3px;\n  align-items: center;\n  height: 12px;\n}\n.chat-voice-input .chat-voice-input-pill-bars .chat-voice-input-pill-bars-bar {\n  width: 2px;\n  border-radius: 32px;\n  height: 4px;\n  background: #4E6EF2;\n  transform-origin: center center;\n  transition: height 120ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-title {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-title .chat-voice-input-dialog-title-icon {\n  flex: 0 0 auto;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-tips {\n  color: #333;\n  text-align: left;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-tips .chat-voice-input-dialog-tips-item {\n  margin-bottom: 21px;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-tips .chat-voice-input-dialog-tips-item:last-child {\n  margin-bottom: 0px;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-tips .chat-voice-input-dialog-tips-item .chat-voice-input-dialog-tips-item-title {\n  font-weight: 600;\n  line-height: 14px;\n  font-size: 14px;\n  margin-bottom: 9px;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-tips .chat-voice-input-dialog-tips-item .chat-voice-input-dialog-tips-item-title .chat-voice-input-dialog-tips-item-title-index {\n  margin-right: 4px;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-tips .chat-voice-input-dialog-tips-item .chat-voice-input-dialog-tips-item-desc {\n  color: #666;\n  line-height: 13px;\n  font-size: 13px;\n  font-weight: 400;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-tips .chat-voice-input-dialog-tips-item .chat-voice-input-dialog-tips-item-img {\n  width: 380px;\n  height: 220px;\n  border-radius: 9px;\n  overflow: hidden;\n  margin-top: 21px;\n}\n.chat-input-dialog-wrapper .chat-voice-input-dialog-tips .chat-voice-input-dialog-tips-item .chat-voice-input-dialog-tips-item-img img {\n  width: 100%;\n  height: 100%;\n}\n",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(393)],a=n(118),r=n(119)["default"];t.exports=n(119),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(394);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("21c4d6b2",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-input-dialog-wrapper {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.chat-input-dialog-wrapper .chat-dialog-mask {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(19, 20, 24, 0.5);\n}\n.chat-input-dialog-wrapper .chat-dialog {\n  font-family: arial;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\n  box-sizing: border-box;\n  max-width: calc(100vw - 32px);\n  width: fit-content;\n  padding: 21px 0 21px 21px;\n  /* 右边不设置padding，让滚动条贴边 */\n  z-index: 1;\n  max-height: 70%;\n  overflow: hidden;\n}\n.chat-input-dialog-wrapper .chat-dialog-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 21px;\n  padding-right: 21px;\n  /* 补充右边距 */\n}\n.chat-input-dialog-wrapper .chat-dialog-title {\n  font-size: 18px;\n  line-height: 18px;\n  font-weight: 500;\n  color: #1f2329;\n}\n.chat-input-dialog-wrapper .chat-dialog-close {\n  appearance: none;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  color: #666;\n  padding: 4px;\n  border-radius: 6px;\n}\n.chat-input-dialog-wrapper .chat-dialog-close:hover {\n  background: #f5f7fa;\n  color: #333;\n}\n.chat-input-dialog-wrapper .chat-dialog-body {\n  min-height: 0;\n  font-size: 14px;\n  color: #333;\n  line-height: 22px;\n  overflow-y: scroll;\n  /* 对于 Firefox，回退到使用普通的滚动条 */\n  overflow-y: overlay;\n  /* 对于 Chrome 和 Edge，使用 overlay 滚动条 */\n  padding-right: 21px;\n}\n.chat-input-dialog-wrapper .chat-dialog-body::after {\n  content: '';\n  position: sticky;\n  left: 0;\n  right: 0;\n  height: 15px;\n  pointer-events: none;\n  z-index: 1;\n  display: block;\n  bottom: 0;\n  background: linear-gradient(to top, var(--cos-color-bg) 0%, transparent 100%);\n}\n.chat-input-dialog-wrapper .chat-dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding-right: 21px;\n  /* 补充右边距 */\n}\n.chat-input-dialog-wrapper .chat-dialog-btn {\n  width: 80px;\n  height: 30px;\n  font-size: 13px;\n  line-height: 13px;\n  font-weight: 400;\n  border-radius: 9999px;\n  border: none;\n  cursor: pointer;\n}\n.chat-input-dialog-wrapper .chat-dialog-btn-cancel {\n  background: #eef3ff;\n  color: #4e6ef2;\n}\n.chat-input-dialog-wrapper .chat-dialog-btn-ok {\n  background: #4e6ef2;\n  color: #fff;\n}\n.chat-input-dialog-wrapper .chat-dialog-btn:active {\n  transform: translateY(1px);\n}\n",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(396)],a=n(120),r=n(121)["default"];t.exports=n(121),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(397);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("d05a92d2",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-input-d-tooltip .tooltip-wrapper {\n  position: relative;\n  cursor: pointer;\n}\n.chat-input-d-tooltip .tooltip-wrapper:hover .tooltip {\n  opacity: 1;\n}\n.chat-input-d-tooltip .tooltip-wrapper .tooltip {\n  background-color: #fff;\n  color: #333;\n  box-sizing: border-box;\n  display: inline-block;\n  max-width: 300px;\n  width: max-content;\n  min-width: fit-content;\n  font-size: 14px;\n  text-align: left;\n  padding: 9px 12px;\n  border-radius: 12px;\n  position: absolute;\n  z-index: 6;\n  left: 50%;\n  transform: translateX(-50%);\n  opacity: 0;\n  transition: opacity 0.2s;\n  box-shadow: 0 6px 21px 0 rgba(30, 31, 36, 0.2);\n}\n.chat-input-d-tooltip .tooltip-wrapper .tooltip.tooltip-bottom {\n  top: 100%;\n  margin-top: 10px;\n}\n.chat-input-d-tooltip .tooltip-wrapper .tooltip.tooltip-bottom:before {\n  content: '';\n  position: absolute;\n  top: -6px;\n  left: 50%;\n  margin-left: -6px;\n  width: 0;\n  height: 0;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #fff;\n}\n.chat-input-d-tooltip .tooltip-wrapper .tooltip.tooltip-top {\n  bottom: 100%;\n  margin-bottom: 10px;\n}\n.chat-input-d-tooltip .tooltip-wrapper .tooltip.tooltip-top:before {\n  content: '';\n  position: absolute;\n  bottom: -6px;\n  left: 50%;\n  margin-left: -6px;\n  width: 0;\n  height: 0;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-top: 6px solid #fff;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var i,o;Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionMessageType=e.stopRecorder=e.startRecorder=void 0,(o=i=i||{}).HEARTBEAT="HEARTBEAT",o.MID_TEXT="MID_TEXT",o.FIN_TEXT="FIN_TEXT",o.SESSION_FINISH="SESSION_FINISH",e.RecognitionMessageType=i;var a=512,r=1,s=1,l=16e3,u=JSON.stringify({type:"FINISH"}),c="wss://vse.baidu.com/ws_api",p=8068,d="com.baidu.searchbox.fangyan",h=null,f=null,g=null,m=null,v=null,b=null,w=null,y=null,x=null,_=null;function S(t,e){return function(t,e,n,i){void 0===i&&(i=null);try{for(var o=i?i.index:0,a=i?i.offset:0,r=0,s=o;s<t.length;s++)r+=t[s].length;var r=Math.max(0,r-Math.floor(a)),l=e/n;1<l?r=Math.floor(r/l):(l=1,n=e);for(var u=new Int16Array(r),c=0,p=t.length;o<p;o++){for(var d=t[o],s=a,h=d.length;s<h;){var f=Math.floor(s),g=Math.ceil(s),m=s-f;u[c]=d[f]+(d[g]-d[f])*m,c++,s+=l}a=s-h}return{index:o,offset:a,sampleRate:n,data:u}}catch(v){throw new Error("转音错误了！")}}([function(t){for(var e=new Float32Array(t),n=new Int16Array(t.length),i=0;i<e.length;i++){var o=Math.max(-1,Math.min(1,e[i]));n[i]=o<0?32768*o:32767*o}return n}(t)],e,16e3,null).data}function k(){if(x&&(clearInterval(x),x=null),_&&f)try{f.disconnect(_)}catch(t){}_=null}function C(t){y?y(t):console.error(t.message,t.raw)}function T(t){v&&v.readyState===WebSocket.OPEN&&v.send(t)}function E(t){try{var e=JSON.parse(t.data),n=e.type,i=e.err_no,o=e.err_msg,a=e.result;if(i&&0!==i)return-3005!==i&&void C({message:"语音识别错误: "+(null!=o?o:""),code:i,raw:e});if("HEARTBEAT"===n)return;b&&b({text:a,type:n})}catch(r){throw C({message:"解析错误",raw:r}),new Error("解析错误!"+r)}}function I(){v&&v.close();var t=c+"?sn="+("undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():Date.now()+"-"+Math.random().toString(16).slice(2));(v=new WebSocket(t)).onopen=function(){T(JSON.stringify({type:"START",data:{user:"baidu_pc",dev_key:d,dev_pid:p,cuid:"self_defined_server_id_like_mac_address",sample:16e3,format:"pcm",type:1,role_num:1,vad_type:1,vad_mode:0,channels:1,need_session_finish:!0,punc:!0,start_timestamp:(new Date).valueOf()}}))},v.onmessage=function(t){E(t)},v.onerror=function(t){!function(t){var e="websocket连接失败"+("data"in t&&"string"==typeof t.data?t.data:"");if(C({message:e,raw:t}),!y)throw new Error(e)}(t)}}function A(t){t=t.inputBuffer,t=S(t.getChannelData(0),t.sampleRate);t.some(function(t){return 0!==t})&&T(t)}function L(t){h&&h.close();var e=window.AudioContext||window.webkitAudioContext;h=new e({sampleRate:l}),f=h.createMediaStreamSource(t),g=h.createScriptProcessor(a,r,s),f.connect(g),g.connect(h.destination),g.onaudioprocess=A,function(t,e){if(w){k();try{var r=t.createAnalyser();r.fftSize=256;var s=new Uint8Array(r.frequencyBinCount);e.connect(r),_=r;var l=0,n=function(){r.getByteTimeDomainData(s);for(var t=0,e=0;e<s.length;e++){var n=s[e]-128;t+=n*n}var i=Math.sqrt(t/s.length),i=Math.min(1,i/40);l=.35*l+.65*i;var o=Math.min(1,1.6*l),a=Date.now()/90,i=new Array(5).fill(0).map(function(t,e){var n=.25*Math.sin(a+e),i=Math.max(0,1-.12*e),e=Math.max(.05,Math.min(1,o*(1+.35*i)+n-.05*e));return Math.round(4+10*e)}),i=i.map(function(t){return Math.max(1,Math.min(3,t/4))});null!=w&&w(i)};n(),x=setInterval(n,80)}catch(i){k()}}}(h,f)}e.startRecorder=function(t){return b=(t=void 0===t?{}:t).onResult||null,w=t.onAmplitude||null,y=t.onError||null,k(),navigator.mediaDevices.getUserMedia({video:!1,audio:{sampleRate:l,sampleSize:16,channelCount:r}}).then(function(t){I(),L(m=t)})["catch"](function(t){var e="";switch(t.name){case"NotAllowedError":case"PermissionDeniedError":e="用户已禁止网页调用录音设备";break;case"NotFoundError":case"DevicesNotFoundError":e="录音设备未找到";break;case"NotSupportedError":e="不支持录音功能";break;default:e="录音调用错误"}throw new Error(e)})},e.stopRecorder=function(){k(),g&&(g.disconnect(),g.onaudioprocess=null),f&&f.disconnect(),h&&(h.close(),h=null),m&&m.getTracks().forEach(function(t){return t.stop()}),T(u)}},function(t,e,n){var n=[e,n(400)],n=function(t,o){"use strict";var e;function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,o=(e=o)&&e.__esModule?e:{"default":e};var n=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.sug=(0,o["default"])()(t)}var t,n,i;return t=e,(n=[{key:"show",value:function(){this.sug.show()}},{key:"hide",value:function(){this.sug.hide()}},{key:"destroy",value:function(){this.sug.destroy(),this.sug=null}}])&&a(t.prototype,n),i&&a(t,i),e}();t["default"]=n}.apply(e,n);n===undefined||(t.exports=n)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(401),__webpack_require__(402),__webpack_require__(403),__webpack_require__(404)],__WEBPACK_AMD_DEFINE_RESULT__=function(_exports,_util,_ubcLog,_ImeTrack,_quickDelete){"use strict";function initSug(){"undefined"!=typeof window&&(window.sendUbcLog=_ubcLog.sendUbcLog,window.imgSugSend=_ubcLog.imgSugSend,window.noAiSugSend=_ubcLog.noAiSugSend,window.sugHisClickSend=_ubcLog.sugHisClickSend,window.sugHisShowSend=_ubcLog.sugHisShowSend,window.aiGuideShowSend=_ubcLog.aiGuideShowSend,window.sendIptLog=_ubcLog.sendIptLog,window.getQueryString=_ubcLog.getQueryString,window.checkHsugIn=_util.checkHsugIn,window.checkHsugShow=_util.checkHsugShow,window.ImeTrack=_ImeTrack.ImeTrack,window.QuickDelete=_quickDelete.QuickDelete);var bdSug=function bdSug(t){return new SUGOBJ(t).outInterface()},supportInputEvent="oninput"in document.createElement("input")&&!navigator.userAgent.match(/MSIE 9/)&&!navigator.userAgent.match(/chrome\/(28|29|30|31)/i),isPad=null!==(navigator&&navigator.userAgent?navigator.userAgent:"").match(/ipad|android|tablet/i),BDSUG_TIMESTAMP_START=14183424e5,BDSUG_QUERY_LEV=4,NEW_INPUT_DOM_ID="chat-textarea",OLD_INPUT_DOM_ID="form",FILE_ICON_PREFIX="https://psstatic.cdn.bcebos.com/basics/",VALID_FILE_ICONS={PDF:FILE_ICON_PREFIX+"aichat/pdf-wise_1744600722000.png",Word:FILE_ICON_PREFIX+"aichat/word-wise_1744600783000.png",PPT:FILE_ICON_PREFIX+"aichat/ppt-wise_1744600745000.png",TXT:FILE_ICON_PREFIX+"aichat/txt-wise_1744600762000.png",Excel:FILE_ICON_PREFIX+"aichat/excel-wise_1744600701000.png",Code:FILE_ICON_PREFIX+"aichat/code_1753701401000.png",unknown:""},fileTypeMap={pdf:"PDF",doc:"Word",docx:"Word",txt:"TXT",xls:"Excel",xlsx:"Excel",ppt:"PPT",pptx:"PPT",csv:"Excel",py:"Code",java:"Code",js:"Code",html:"Code",css:"Code",ts:"Code",c:"Code",cpp:"Code",cc:"Code",h:"Code",go:"Code"};function getCursorPositionInContentEditable(t){var e=0,n=window.getSelection();return 0<n.rangeCount&&((n=n.getRangeAt(0)).commonAncestorContainer.parentNode===t&&(e=n.startOffset)),e}function SUGOBJ(t){var e=this,t=e.opts=t||{};e.ipt=t.ipt||null,e.reverse=t.reverse||!1,e.form=t.form||null,e.aiWrapper=t.aiWrapper||null,e.submission=t.submission||null,e.maxNum=t.maxNum||10,e.bds=t.bds||null,e.sids=e.bds&&e.bds.comm&&e.bds.comm.sid,1===pageState?e.nodeSample=e.bds&&e.bds.comm&&bds.comm.sampleval||[]:e.nodeSample=e.bds&&e.bds.comm&&bds.comm.nodeSample||[],-1<e.nodeSample.indexOf("PC_SUG_AI_COPY_ZERO")?e.coryAiIndex=0:-1<e.nodeSample.indexOf("PC_SUG_AI_COPY_ONE")&&(e.coryAiIndex=1),e.changeGoSug=!0,e.aiOneToFive=-1<e.nodeSample.indexOf("PC_SUG_ONE_NO_AI_TO_FIVE"),e.aiOneToTail=-1<e.nodeSample.indexOf("PC_SUG_ONE_NO_AI_TO_TAIL"),e.aiTwoToFive=-1<e.nodeSample.indexOf("PC_SUG_TWO_NO_AI_TO_FIVE"),e.aiTwoToTail=-1<e.nodeSample.indexOf("PC_SUG_TWO_NO_AI_TO_TAIL"),e.aiSugSample2=!0,e.aiHisSample=-1<e.nodeSample.indexOf("PC_HIS_ASK_AI_ASSISTANT_TAIL"),e.hisNewIconSample=-1<e.nodeSample.indexOf("PC_HIS_NEW_ICON"),e.iconAiHisSample=e.hisNewIconSample||e.aiHisSample,e.boardWidthSample=-1<e.nodeSample.indexOf("PC_HIS_SUG_WIDTH_LIMIT"),e.aiSugSample=e.aiSugSample1||e.aiSugSample2,e.askAiTailText="用文心助手回答",e.aiHoverUpgrade=-1<e.nodeSample.indexOf("PC_SUG_AI_HOVER_UPGRADE"),e.aiHoverUpgradeNoAvoid=-1<e.nodeSample.indexOf("PC_SUG_AI_HOVER_UPGRADE_NO_AVOID"),e.inputDomId=NEW_INPUT_DOM_ID,e.newWrapper=t.newWrapper||null,e.withoutRich=t.withoutRich||!1,e.withoutStat=t.withoutStat||!1,e.withoutZhixin=t.withoutZhixin||!1,e.visible=!1,e.stopRefresh=!1,e.renderCallback=t.renderCallback||function(){},e.selectCallback=t.selectCallback||function(){},e.sugClickCallback=t.sugClickCallback||function(){},e.sugFocusCallback=t.sugFocusCallback||function(){},e.sugFeedbackClick=t.sugFeedbackClick||function(){},e.hideSugCallback=t.hideSugCallback||function(){},e.showSugCallback=t.showSugCallback||function(){},e.onlyCache=!1,e.requesting=!1,e.shouldSugUpdate=!0,e.storestr=e.storestr||"",e.storearr=e.storearr||[],e.zhixinsug=[],e.zhixintemplate={},e.zhixinused={},e.zhixindata={},e.query=e.ipt&&e.ipt.value,e.inputValue=e.query,e.showValue=e.query,e.sugValue="",e.queryValue="",e.reqValue="",e.value=e.query,e.index=-1,e.sugcontainer,e.dataCached={},e.dataArray=[],e.dataStored=[],e.dataAladdin=[],e.dataDirect=[],e.directSugSelected=!1,e.dataHot=[],e.timer,e.rsv_sug=0,e.rsv_sug1=0,e.rsv_sug3=0,e.rsv_sug4=0,e.rsv_sug7=[0,0,0],e.rsv_sug9=0,e.initTime=0,e.inputT=0,e.rsv_bp=t&&t.comm&&1===t.comm.ishome?0:1,e.jqXhr=null,e.currentSugSample="",e.isSugSample3=!1,e.isSugSample4=!1,e.isSugSample=!1,e.currentSearchStatus=-1,e.ipt&&e.init(),e.pwd="",e.hisSwitch=t.hisSwitch,e.useFeedback=t.useFeedback,e.sugprod=t.prod||"",e.tn=t.tn||"",e.requestDefaultData={},e.showRightContent=!1,e.backFrame=!1,e.prevQuery=e.query,e.backDelete=!1,e.requestQuery=[e.query],e.isAddQuery=!1,e.normalLog="",e.recommendLog="",e.searchHistroyLog="",e.isReturnSearch=!1}function xss(t){return t.toString().replace(/[<%3C]/g,"&lt;").replace(/[>%3E]/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}return SUGOBJ.prototype={updateInitData:function updateInitData(type){var me=this,opts=me.opts||{};me.setsug=!0,me.setsugstorage=!0,me.sets={},me.sugcookie=navigator.cookieEnabled&&/sug=(\d)/.test(document.cookie)?RegExp.$1:3,me.sugstorecookie=navigator.cookieEnabled&&/sugstore=(\d)/.test(document.cookie)?RegExp.$1:1,me.bds&&me.bds.comm&&me.bds.comm.personalData&&("string"==typeof me.bds.comm.personalData?me.sets=eval("("+me.bds.comm.personalData+")"):me.sets=me.bds.comm.personalData),me.sets.errno&&0===me.sets.errno&&me.sets.sugSet&&me.sets.sugSet.ErrMsg&&"SUCCESS"===me.sets.sugSet.ErrMsg?"0"===me.sets.sugSet.value&&(me.setsug=!1):"0"===me.sugcookie&&(me.setsug=!1),me.sets.errno&&0===me.sets.errno&&me.sets.sugStoreSet&&me.sets.sugStoreSet.ErrMsg&&"SUCCESS"===me.sets.sugStoreSet.ErrMsg?"0"===me.sets.sugStoreSet.value&&(me.setsugstorage=!1):"0"===me.sugstorecookie&&(me.setsugstorage=!1),me.loggedon=me.bds&&(0,_util.bdsStore)()&&!(0,_util.bdsStore)().disabled&&navigator.cookieEnabled,me.showsug=opts.showsug||me.setsug,me.showsugstore=opts.showsugstore||me.showsug&&me.loggedon&&me.setsugstorage,me.query=me.bds.comm.query,me.pinyin=me.bds.comm.pinyin,me.sugHost=me.bds.comm.sugHost||"",me.sid=navigator.cookieEnabled&&/H_PS_PSSID=([0-9_]+)/.test(document.cookie)?RegExp.$1:me.bds.comm.sid;var canWriteStore=!0,isLogin=me.bds&&me.bds.comm&&me.bds.comm.username;(isLogin||me.bds&&me.bds.se&&(0,_util.bdsStore)()&&1==(0,_util.bdsStore)().get("wwwPassLogout"))&&(canWriteStore=!1),me.bds&&me.bds.comm&&me.bds.comm.sampleval&&-1<$.inArray("sample_his",me.bds.comm.sampleval)&&(canWriteStore=!0),("init"!==type||document.referrer)&&canWriteStore&&me.writeStore(),me.writeStore(),me.getStore(),(0,_util.bdsStore)().set("wwwPassLogout",0)},check:function(){var t=this;if(t.value!==t.ipt.value&&t.showValue!==t.ipt.value){if(t.inputValue=t.showValue=t.value=t.ipt.value,t.bds&&t.bds.comm&&0===t.bds.comm.ishome&&t.addStat("oq",t.bds.comm.confirmQuery?xss(t.bds.comm.confirmQuery):""),t.bds&&t.bds.comm&&t.bds.comm.confirmQid&&t.addStat("rsv_pq",t.bds.comm.confirmQid),$(t.ipt).trigger("inputChange",[t]),!t.shouldSugUpdate)return void(t.shouldSugUpdate=!0);t.request(t.value)}},startCircle:function(){var t=this;t.timer||($(t.ipt).trigger("start",[t]),t.timer=setTimeout(function e(){t.check(),t.timer=setTimeout(e,200)},200),supportInputEvent&&$(t.ipt).bind("input",function(){t.check()}))},stopCircle:function(){this.timer&&(clearTimeout(this.timer),supportInputEvent&&$(this.ipt).unbind("input"),this.timer=null,$(this.ipt).trigger("stop",[this]))},callback:function(t,e){var n=this;if(t&&(t.g||t.z||n.checkStore(t)&&0<n.checkStore(t).length)){if(n.queryValue=t.q,n.dataCached[t.q]=t,n.onlyCache)return;if($(n.ipt).trigger("dataReady",[n]),!n.withoutZhixin){var i=function i(t){n.zhixintemplate[t]&&!n.zhixinused[t]&&(n.zhixinused[t]=$.ajax({crossDomain:!0,url:n.zhixintemplate[t],dataType:"script",scriptCharset:"UTF-8"}))};if(t.zzx)for(var o=0;o<t.zzx.length;o++)t.zzx[o]&&t.zzx[o].type&&(n.zhixinsug.push({value:t.g[o].q,type:t.zzx[o].type,url:t.zzx[o].url}),i(t.zzx[o].type))}n.dataArray=n.packData(t),n.requestDefaultData=t,n.normalLog=n.getNormalSugOrHisLog({total:t.g&&t.g.length}),n.render(n.dataArray),""===t.q&&(n.dataCached[t.q]=null)}else n.hideSug()},sendSugShowLog:function(t){c({rsv_ct:10,rsv_cst:1,rsv_clk_extra:JSON.stringify(t)})},getNormalSugOrHisLog:function(t){var e=""===this.inputValue?"his":"sug";return{total:t.total,pos:"left",type:e}},getRecommendOrHisLog:function(t,e){return{total:t||0,pos:e}},sendBackFrameShowSugLog:function(){c({rsv_ct:10,rsv_cst:11})},buildUrl:function(t,e,n){var i=this,o=i.sid.replace(/_/g,","),a="pc",a="/sugrec?pre=1&p=3&ie=utf-8&json=1&prod="+(a=i.sugprod?i.sugprod:a)+"&from=pc_web&imod=2"+(o?"&sugsid="+o:""),o=(i.sugHost,""),r=[],s=[];try{var l=(0,_util.bdsStore)().get("BDSUGSTORED"),s=l&&$.parseJSON(l)||[]}catch(g){}for(var u=0;u<s.length;u++){var c=s[u].t?+s[u].t+BDSUG_TIMESTAMP_START:(new Date).getTime(),c={time:c=Math.round(c/1e3),kw:decodeURIComponent(s[u].q),hide:s[u].hide};s[u].s&&s[u].s>BDSUG_QUERY_LEV&&(c.fq=s[u].s-BDSUG_QUERY_LEV+1),(!c.hide||("search_sug_1"===i.currentSugSample||"search_sug_2"===i.currentSugSample||"search_sug_5"===i.currentSugSample||i.isSugSample3&&0===i.currentSearchStatus)&&""!==t)&&(delete c.hide,r.push(c)),10<r.length&&r.shift()}""===t&&(a="/sugrec?",o="&prod=pc_his&from=pc_web&json=1&imod=2&sid="+i.sid+"&hisdata=",$.stringify&&(!i.iconAiHisSample||(p=localStorage.getItem("HIS_AI_LIST"))&&(d=JSON.parse(p),(h=r.concat(d)).sort(function(t,e){return e.time-t.time}),r=h.slice(0,10)),o+=encodeURIComponent($.stringify(r))),!window.__sam_his_hot||i.bds&&i.bds.comm&&i.bds.comm.username||(o+="&type=4"),o+="&_t="+(new Date).getTime());var p=e?"&sugmode="+e:"";i.backDelete&&""!==i.inputValue&&(p="&sugmode=3");var d=0;try{d=+(localStorage.getItem("search_request_time")||0)}catch(err){console.error(err)}var h="search_sug_3-2"===i.currentSugSample?18e5:72e4;Date.now()-d>h?i.currentSearchStatus=1:i.currentSearchStatus=0,2==+e&&(f="&hot_launch=",1===i.currentSearchStatus?f+=1:f+=0,p+=f),""!==t&&$.stringify&&r.length&&(o+="&his="+encodeURIComponent($.stringify(r))),0<i.sugcookie&&(i.sugcookie=3);var f="",f=""===t?i.isSugSample3?a+"&wd="+encodeURIComponent(i.queryValue)+o:a+o:a+"&wd="+encodeURIComponent(t)+o;return bds.comm.supportis&&(f+="&req=2"),window.bds&&bds.comm&&bds.comm.cur_query&&(f+="&bs="+encodeURIComponent(bds.comm.cur_query)),window.bds&&bds.comm&&bds.comm.cur_disp_query&&(f+="&pbs="+encodeURIComponent(bds.comm.cur_disp_query)),i.changeGoSug&&(f+="&usegosug=1"),!window._is_sugemptyhot_sam||!bds.comm.ishome||bds.comm.username||t||n?t||n||(f+="&sc=eb"):f+="&sc=hot",i.newIpt?f+="&csor="+getCursorPositionInContentEditable(i.newIpt):f+="&csor="+(0,_ImeTrack.getCursortPosition)(i.ipt),i.pwd&&(f+="&pwd="+encodeURIComponent(i.pwd)),f+=p,i.pwd=t,f},request:function(e,n){var s=this;if(!("search_sug_3-1"===s.currentSugSample||"search_sug_3-2"===s.currentSugSample)||1!==s.currentSearchStatus||!s.backFrame||""!==s.inputValue){e=e&&$.limitWd(e,160),s.directSugSelected=!1,s.isAddQuery=e.length>s.prevQuery.length;var i=!1;if(s.backDelete=!1,e.length<s.queryValue.length&&!s.isAddQuery?s.requestQuery.forEach(function(t){i=-1!==t.indexOf(e)}):i=!1,i?(s.requestQuery.push(e),s.backDelete=!0):s.backDelete=!1,s.requesting=!0,"_blank"===$(s.form).attr("target")&&1===$(s.ipt).attr("data-bfocus"))$(s.ipt).focus().attr("data-bfocus",0),s.requesting=!1;else if(s.showsug){var t=function t(){s.jqXhr=$.ajax({dataType:"jsonp","async":!0,url:s.buildUrl(e,n),jsonp:"cb",timeout:5e3,success:function(t){t=c(t),s.callback(t,n)},complete:function(){s.jqXhr=null,s.requesting=!1},always:function(){s.jqXhr=null,s.requesting=!1}})},l=function l(t,e){if(!Array.isArray(t)||0===t.length||Number.isNaN(e)||e<0)return{index:-1,q:""};for(var n=e;n<t.length;n++){var i=t[n];if(i&&"sug"===i.type&&i.q&&!i.no_ai_sug)return{index:n,q:i.q}}return{index:-1,q:""}},u=function u(t,e){return{type:"ai_guide",sa:"s_"+(e+1)+"_bb2",q:t}},c=function c(t){if(!s.showsugstore&&""===s.value||bds.comm.pcSugSwitch)return t;var n=t&&t.g;if(!Array.isArray(n)||0===n.length)return t;var e,i=n.some(function(t){return t&&t.no_ai_sug});function o(t,e){t=l(n,t=t||0);if(0<=t.index){e=e?t.index+1:t.index;return n.splice(e,0,u(t.q,e)),1}}if(s.aiOneToFive||s.aiTwoToFive){var a=s.aiTwoToFive;if(i){if(5<=n.length){var r=l(n,0).q;if(r)return n.splice(4,0,u(r,5)),t}}else if(o(0,a))return t}if((s.aiOneToTail||s.aiTwoToTail)&&!i&&o(0,a=s.aiTwoToTail))return t;return s.aiSugSample||s.aiHisSample||(e=(e=n.find(function(t){return t&&t.q}))&&e.q||"")&&n.push(u(e,n.length)),t};if(s.reqValue=e,2!==n&&s.dataCached[e])return s.requesting=!1,void s.callback(s.dataCached[e]);s.jqXhr&&s.jqXhr.abort(),""!==e||s.backFrame&&s.isSugSample3?t():s.jqXhr=$.ajax({type:"GET",dataType:"json","async":!0,url:s.buildUrl(e,n),timeout:5e3,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(t){t=c(t),s.callback(t,n)},complete:function(){s.jqXhr=null,s.requesting=!1},always:function(){s.jqXhr=null,s.requesting=!1}}),s.rsv_sug3++,s.addStat("rsv_sug3",s.rsv_sug3),s.initTime=(new Date).getTime()}}},packData:function(t){var e=[];this.checkHot(t),this.checkAla(t),this.checkStore(t),this.bds.comm.supportis||this.checkDirect(t);for(var n=this.mergeData(t),i=0;i<n.length;i++)this.reverse?e.unshift(n[i]):e.push(n[i]);return e},checkHot:function(t){if(this.dataHot=[],t.g&&t.g.length)for(var e=0;e<t.g.length;e++){var n=t.g[e];(!n.t||"hot"!==n.t)&&(!window.__sam_his_hot||!n.t||"hs"!==n.t||window.me.bds&&this.bds.comm&&this.bds.comm.username)||this.dataHot.push({value:n.q,otherData:n.st})}},checkDirect:function(t){this.dataDirect=[],t.tzx&&"6"===t.tzx.type&&t.tzx.info&&(t=t.tzx.info,this.dataDirect.push({value:t.site,otherData:t}))},checkAla:function(t){if(this.dataAladdin=[],t.z&&0<t.z.length&&!this.withoutRich)for(var e=0;e<t.z.length;e++){var n=t.z[e];n.id&&n.type&&n.key&&n.word&&this.dataAladdin.push({value:n.key,otherData:n})}else this.dataAladdin=[]},writeStore:function(t,e){var n=this;if(n.query&&n.pinyin&&(0,_util.checkHsugIn)(n.query)){n.getStore();var i=encodeURIComponent(n.query.toLowerCase()),o=encodeURIComponent(n.pinyin.toLowerCase()),a=BDSUG_QUERY_LEV,r=(new Date).getTime()-BDSUG_TIMESTAMP_START,s=-1;$.each(n.storearr,function(t,e){e.p===o&&(e.q=i,a=(e.s||BDSUG_QUERY_LEV)+1,e.t=r,s=t)}),-1<s&&n.storearr.splice(s,1);var l=document.location.search||location.search;if(/base_query/.test(l))return;l=n.showsugstore?0:1;n.storearr.push({q:i,p:o,s:a,t:r,hide:l}),50<n.storearr.length&&n.storearr.shift(),n.setStore()}},checkStore:function(t){var o=this;if(o.dataStored=[],o.showsugstore&&(0,_util.checkHsugShow)(o.value)){if(t&&t.g&&t.g.length)for(var e=0;e<t.g.length;e++)(n=t.g[e]).type&&("his_normal"===n.type||"his_rec"===n.type||o.judeAiHis(n.type))&&$.trim(n.q)&&o.dataStored.push({value:$.trim(n.q),pinyin:"|",s:4,t:"",real_type:n.type,payload:n.payload});0===o.dataStored.length&&(o.getStore(),$.each(o.storearr,function(t,e){var n=decodeURIComponent(e.q),i=decodeURIComponent(e.p);0!==n.indexOf(o.value.toLowerCase())&&0!==i.indexOf(o.value.toLowerCase())||o.dataStored.unshift({value:n,pinyin:i,s:e.s,t:e.t})}))}else if(o.showsugstore&&""===o.value){if(t&&t.g&&t.g.length)for(var n,e=0;e<t.g.length;e++)(n=t.g[e]).type&&("his_normal"===n.type||"his_rec"===n.type||o.judeAiHis(n.type))&&$.trim(n.q)&&o.dataStored.push({value:$.trim(n.q),pinyin:"|",s:4,t:"",real_type:n.type,payload:n.payload});!window._is_sugempty_sam||o.bds&&o.bds.comm&&o.bds.comm.username||(o.getStore(),$.each(o.storearr,function(t,e){var n=decodeURIComponent(e.q),i=decodeURIComponent(e.p);o.dataStored.unshift({value:n,pinyin:i,s:e.s,t:e.t})}))}return o.dataStored},placeHolder:function(t){this.placeholder=t||"",$(this.ipt).attr("placeholder",this.placeholder)},getStore:function(){try{this.storestr=(0,_util.bdsStore)().get("BDSUGSTORED"),this.storearr=this.storestr&&$.parseJSON(this.storestr)||[]}catch(t){this.storestr="[]",this.storearr=[]}$.each(this.storearr,function(t,e){e.t=e.t||0,e.s=e.s||4})},setStore:function(){var n="";$.each(this.storearr,function(t,e){n+=(0===t?"":",")+'{"q":"'+e.q+'","p":"'+e.p+'","s":'+e.s+',"t":'+e.t+',"hide":'+(e.hide||0)+"}"}),this.storestr="["+n+"]";try{(0,_util.bdsStore)().set("BDSUGSTORED",this.storestr)}catch(t){console.error(err)}},mergeData:function(t){var _=this,e=[],n=0,i=0;if((_.rsv_sug=0)<_.dataHot.length&&""===_.value){for(var o=0;o<_.dataHot.length&&(n++,e.push(p({v:_.dataHot[o].value,type:"hot",otherData:_.dataHot[o].otherData,no_ai_sug:_.dataHot[o].no_ai_sug,real_type:"hot"})),!(8<=n));o++);return e}if(0<_.dataDirect.length&&(e.push(p({v:_.dataDirect[0].value,type:"direct",otherData:_.dataDirect[0].otherData,no_ai_sug:_.dataDirect[0].no_ai_sug,real_type:"direct"})),ns_c({pj_name:"zhida_sug",zhida_prefix:encodeURIComponent(_.inputValue),zhida_query:encodeURIComponent(_.dataDirect[0].value),zhida_chufa:encodeURIComponent(_.dataDirect[0].otherData.hit_q),zhida_bp:_.bds.comm.ishome?0:1})),0<_.dataAladdin.length)for(o=0;o<_.dataAladdin.length&&(e.push(p({v:_.dataAladdin[0].value,type:"ala",otherData:_.dataAladdin[0].otherData,no_ai_sug:_.dataAladdin[0].no_ai_sug,real_type:"ala"})),!(1<=++n));o++);if(0<_.dataStored.length)for(o=0;o<_.dataStored.length;o++){for(var a=!1,r=0;r<e.length;r++)"direct"===e[r].type||_.dataStored[o].value!==e[r].value||_.judeAiHis(e[r].real_type)||(a=!0);var s=""===_.inputValue;if(!a&&s&&""===_.inputValue&&(s={v:_.dataStored[o].value,type:"store",otherData:_.dataStored[o].pinyin,s:_.dataStored[o].s||0,no_ai_sug:_.dataStored[o].no_ai_sug,real_type:_.dataStored[o].real_type},_.dataStored[o].payload&&(s.payload=_.dataStored[o].payload),e.push(p(s)),n++,0===i&&"|"===_.dataStored[o].pinyin&&(i=3)),_.rsv_sug++,""===_.value&&9<=n)break;if(""!==_.value&&2<=n)break}var l=[];if(t.g&&0<t.g.length){for(o=0;o<t.g.length;o++)if("sug"===t.g[o].type||"direct_new"===t.g[o].type||"ai_guide"===t.g[o].type){for(a=!1,r=0;r<e.length;r++)"direct"!==e[r].type&&t.g[o].q===e[r].value&&(a=!0);if(!a){var u={};if(t.g[o].info&&t.g[o].info.vec_str_raw[0])try{u=JSON.parse(t.g[o].info.vec_str_raw[0])}catch(err){console.error(err)}var c=t.g[o].q;"direct_new"===t.g[o].type&&u&&(c=u.value.query||u.value.name&&u.value.name[0].text||""),"sug"!==t.g[o].type&&!_.isShowDirectSug(u)||(l.push(p({v:c,type:t.g[o].type,otherData:t.g[o].st,info:u,no_ai_sug:t.g[o].no_ai_sug,real_type:t.g[o].type,payload:t.g[o].payload})),i=i||1)}}e=""===_.value&&l.length?(_.bds.comm.supportis?l.slice(0,Math.max(4-e.length,2)):l.slice(0,Math.max(10-e.length,5))).concat(e):e.concat(l)}switch(i){case 1:_.rsv_sug7[0]=1;break;case 3:_.rsv_sug7[2]=1}return e;function p(t){var e=t.v,i=t.type,n=(t.ai_flag,t.otherData),o=t.s,a=t.info,s={};s.value=e,s.no_ai_sug=t.no_ai_sug,s.type=i,s.real_type=t.real_type||"",s.payload=t.payload;var r=t.payload&&t.payload.files,l=e&&g(e,_.queryValue),u=!1;_.isSugSample&&(u=!0,"search_sug_1"!==_.currentSugSample&&"search_sug_base"!==_.currentSugSample||(u=!1));var c="";switch((_.aiSugSample||_.aiSugSample2)&&(c='<span class="ask-ai-tail-wrapper"><div class="ask-ai-tail"><div class="ask-ai-tail-line"></div><div class="ask-ai-tail-icon"></div><div class="ask-ai-tail-text">'+_.askAiTailText+'</div></div><div class="ask-ai-tail-blank"></div>'),i){case"direct":"-"===n.iconurl?s.html='<p link="'+n.siteurl+'">'+n.site+"<span>"+n.showurl+"</span><i>官网</i></p>":s.html='<p link="'+n.siteurl+'"><img src="'+n.iconurl+'"/>'+n.site+"<span>"+n.showurl+"</span></p>",s.type="direct";break;case"ala":s.html="<h3>"+l+"</h3><p>"+n.word+"</p>",s.type="ala",s.alaid=n.id;break;case"ai_guide":s.html=c?l:l+'<div class="bdsug-ai-guide"><span style="color: #4e6ef2; font-size: 13px; font-weight: 500;">问</span><img class="bdsug-logo" src="https://psstatic.cdn.bcebos.com/basics/aichat/ai-icon_1753948692000.png"/></div>';break;case"store":2===n["new"]&&(l+='<span class="bdsug-newicon">&nbsp;[<i>企业</i>]</span>'),s.html='<span class="ori-his '+(_.judeAiHis(s.real_type)?"ainew-his":"")+'">'+l+"</span>",_.isSugSample&&u&&(s.html='<i class="c-icon sug-history-icon">&#xe6a8;</i>'+l),!_.bds.comm.username&&"|"===n||(s.html+='<u class="bdsug-store-del '+("|"===n?"bdsug-store-del-cloud":"")+'" title="如您不需要此搜索历史提示，&#13;可在右上角搜索设置中关闭">删除</u>'),s.type="store",s.pinyin=n,s.s=o;break;case"direct_new":!function(t){!t.flag||(i=t.value&&t.value.tag)&&(l+='<span class="sug-tag-comm sug-hot-orange">'+i+"</span>");{var e,n,i,o,a,r;"1020"===t.type&&t.value&&(o=t.value.img,a=t.value.brief||"",r=t.value.info||"",e=t.value.name[0]&&t.value.name[0].text||"",n=t.value.link,i="",(o||a)&&(s.isDouble=!0),a=a?'<span class="brief">'+a+"</span>":"",r=r?'<span class="info">'+r+"</span>":"",l=s.isDouble?(t.value&&t.value.img&&(i='<div class="left-img-wrap"><img class="left-img" src="'+o+'"></div>'),o=b(t.value),a='<div class="content"><div class="header"><span class="name">'+e+"</span>"+o+'</div><div class="more c-line-clamp1">'+a+r+"</div></div>",r=_.aiSugSample?"":'<div class="right-btn">查看</div>',n?"<a"+(' href="'+n+'" data-flag="'+t.flag+'"')+' target="_blank" class="direct-sug-wrap">'+i+a+r+"</a>":'<div class="direct-sug-wrap" data-flag="'+t.flag+'">'+i+a+r+"</div>"):g(e,_.queryValue)+b(t.value,t.flag))}}(a),s.html=l;break;default:n&&n["new"]&&2===n["new"]&&(l+='<span class="bdsug-newicon">&nbsp;[<i>企业</i>]</span>'),"sug"===i&&_.isSugSample&&u&&(l='<i class="c-icon sug-search-icon">&#xe6a7;</i>'+l),s.html=l}var p=i.includes("his")||"store"===i;(p&&_.iconAiHisSample||!p&&!s.html.includes("direct-sug-wrap"))&&(d=i,p?_.aiHisSample&&_.judeAiHis(s.real_type)?d="ai_his":_.hisNewIconSample&&_.judeAiHis(s.real_type)?d="ai_new_his":_.hisNewIconSample&&!_.judeAiHis(s.real_type)&&(d="new_his"):_.aiSugSample&&(d="sug"),s.html='<span class="search-sug-icon '+d+'"></span>'+s.html);var d;if(p&&["his_pc_aifile","his_pc_aipic","his_pc_aiintention"].includes(s.real_type)&&r&&r.length&&(t=_.suffixToFileType(r[0].file_type),e="pc-aifile-img-container",VALID_FILE_ICONS[t]||1!==r.length||(e+=" pc-aifile-single-img"),d=("his_pc_aipic"===s.real_type||"his_pc_aiintention"===s.real_type)&&1<r.length?'<div class="'+e+'"><img src="'+(VALID_FILE_ICONS[t]||r[0].file_url)+'" data-file-count="'+r.length+'"><div class="img-more-mask">'+r.length+"</div></div>":'<div class="'+e+'"><img src="'+(VALID_FILE_ICONS[t]||r[0].file_url)+'"></div>',e=1<r.length,t=r[0].file_name.length+s.value.length,t=bds.comm.ishome?36<t:30<t,s.html+=d+('<div class="pc-aifile-info bdsug-s-aifile">'+(t?"":r[0].file_name)+(e?"等"+r.length+"个"+("his_pc_aifile"===s.real_type?"文件":"图片"):""))+"</div>"),_.aiSugSample&&(r=!_.aiHoverUpgradeNoAvoid&&s.no_ai_sug||s.isDouble||p,s.html='<span class="sug-content '+(r?"sug-content-double":"")+'">'+s.html+"</span>",p||(s.html+=c)),!_.withoutZhixin&&0<_.zhixinsug.length)for(var h,f=0;f<_.zhixinsug.length;f++)s.value===_.zhixinsug[f].value&&"ala"!==s.type&&(s.zxtype=_.zhixinsug[f].type,s.zxurl=_.zhixinsug[f].url,s.html.split(h='<i class="bdsug-arrow"></i>').length<=1&&(s.html+=h));return s;function g(t,e){var n=i.includes("his")||"store"===i;return t=_.iconAiHisSample&&n&&bds.comm.ishome?$.subByte(t,"72"):_.iconAiHisSample&&n&&!bds.comm.ishome?$.subByte(t,"66"):_.boardWidthSample&&n&&bds.comm.ishome?$.subByte(t,"80"):_.boardWidthSample&&n&&!bds.comm.ishome?$.subByte(t,"73"):_.boardWidthSample&&!n&&bds.comm.ishome?$.subByte(t,"72"):!_.boardWidthSample||n||bds.comm.ishome?$.subByte(t,"41"):$.subByte(t,"70"),t=e&&t?(t=$.trim(t),e=$.trim(e),0===t.indexOf(e)&&t!==e?m(t,e):t!==e?-1!==t.indexOf(e)?function(t,e){t=v(t),e=v(e);var n=t.indexOf(e);if(-1===n)return t;var i="",o=t.substring(0,n),t=t.substring(n+e.length);o&&(i+="<b>"+o+"</b>");i+=e,t&&(i+="<b>"+t+"</b>");return i}(t,e):m(t,e,!0):v(t)):v(t)}function m(t,e,n){var i=2<arguments.length&&n!==undefined&&n;t=v(t);n=e=v(e),e=e.length;return i?'<b class="total-b">'+t+"</b>":n+("<b>"+t.substring(e)+"</b>")}function v(t){return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")}function b(t,e){if(t.tag_style_list){var n="";return t.tag_style_list.forEach(function(t){1===t.tag_type?n+=w(t,e):2===t.tag_type&&(n+=x(t,e))}),n}if(t.tag_style){var i=t.tag_style.tag_type;if(1===i)return w(t.tag_style,e);if(2===i)return x(t.tag_style,e)}return t.tag?'<span class="'+("sug-tag-comm sug-new-tag sug-new-tag-"+(t.tagColor||"grey"))+'">'+t.tag+"</span>"||!1:""}function w(t,e){return'<span class="sug-tag-comm sug-tag-text" style="'+("border-color: "+y(t.border_color)+";background-color:"+y(t.bg_color)+";color:"+y(t.text_color))+'"'+(' data-flag="'+e+'"')+">"+t.text+"</span>"||!1}function y(t){if(!t)return"";var e=parseInt("0x"+t.slice(1,3),16)/255;return"rgba("+[parseInt("0x"+t.slice(3,5),16),parseInt("0x"+t.slice(5,7),16),parseInt("0x"+t.slice(7,9),16),e].join(",")+");"}function x(t,e){t=t.image;return t?'<img class="sug-tag-comm sug-tag-img" src="'+t+'" data-flag="'+e+'">':""}}},isShowDirectSug:function(t){if("1020"===t.type&&t.value){var e=t.value.name[0]&&t.value.name[0].text||"",n=t.value.img,i=t.value.brief||"",t=t.value.info||"";if(!e)return!1;if(n&&!i&&!t)return!1}return!0},sendSpecialSugClickLog:function(t,e,n){c({rsv_ct:10,rsv_cst:t,rsv_clk_extra:JSON.stringify({flag:e,index:n})})},suffixToFileType:function(t){if(!t)return"unknown";t=t.toLowerCase();return fileTypeMap[t]||"unknown"},render:function(r){var p=this;if(p.is_selecting=!1,p.sugcontainer||(p.sugcontainer=document.createElement("DIV"),g=p.searchNewStyle,l=" bdsug-ai-upgrade",p.isSugSample3&&(l=" bdsug-sample3"),p.iconAiHisSample&&(l+=" bdsug-ai-his"),p.sugcontainer.className=g?"sam-bdsug ai-bdsug ai-bdsug-new new-pmd"+l:"ai-bdsug ai-bdsug-new new-pmd"+l,$(p.sugcontainer).delegate(".ask-ai-tail","mouseenter",function(t){var e=$(this).parents(".bdsug-item"),n=e.find(".direct-sug-wrap");(0,_ubcLog.sendUbcLog)("show","sug_aihover",{query:p.ipt.value||"",recom_query:e.attr("data-key"),order:p.index+1,no_ai_value:$(e).data("noAiSug")||0,aisou_text:p.askAiTailText,sug_type:0<n.length?"pic":"common",area:"aitext"})}).delegate(".ask-ai-tail-blank","mouseenter",function(t){var e=$(this).parents(".bdsug-item"),n=e.find(".direct-sug-wrap");(0,_ubcLog.sendUbcLog)("show","sug_aihover",{query:p.ipt.value||"",recom_query:e.attr("data-key"),order:p.index+1,no_ai_value:$(e).data("noAiSug")||0,aisou_text:p.askAiTailText,sug_type:0<n.length?"pic":"common",area:"aiblank"})}).delegate(".ask-ai-tail","click",function(t){t.stopPropagation();var e=(bds.comm.ishome?"home":"a")+"_sug_aihover",t=(bds.comm.ishome?"home":"a")+"_sug_aihover";p.jumpToAiChat(null,$(this).parents(".bdsug-item"),"click",{area:"sug_aihover",enterType:e,sa:t})}).delegate(".ask-ai-tail-blank","click",function(t){t.stopPropagation();var e=(bds.comm.ishome?"home":"a")+"_sug_aihover",t=(bds.comm.ishome?"home":"a")+"_sug_aihover";p.jumpToAiChat(null,$(this).parents(".bdsug-item"),"click",{area:"sug_aihover_blank",enterType:e,sa:t})}).delegate("li","mouseenter",function(){var t;0<$(p.sugcontainer).find(".bdsug-store-del").length?(0,_ubcLog.sendUbcLog)("show","single_his_delete",{recom_query:$(this).attr("data-key")}):(t=$(this).find(".direct-sug-wrap"),e=$(this).find(".bdsug-ai-guide"),(0,_ubcLog.sendUbcLog)("show","sug_hover",{query:p.ipt.value||"",order:p.index+1,no_ai_value:$(this).data("noAiSug")||0,aisou_text:p.askAiTailText,recom_query:$(this).attr("data-key"),sug_type:0<t.length?"pic":0<e?"ai":"common"})),p.stopCircle();var e=$(this).attr("data-key");p.blurSug($(p.sugcontainer).find("li")),p.focusSug(this,e,"mouse"),p.index=$(p.sugcontainer).find("li").index($(this)),p.hoverSug=e}).delegate("li","mouseleave",function(){p.startCircle(),$(this).removeClass("bdsug-s bdsug-keyboard bdsug-mouse")}).delegate("li","click",function(){p.index=$(p.sugcontainer).find("li").index($(this));var t=$(this).find(".direct-sug-wrap"),e=$(this).find("a"),n=0<$(this).find(".bdsug-ai-guide").length,i=p.dataArray.length&&p.dataArray[p.index].real_type,o=p.judeAiHis(i),a=p.dataArray.length&&p.dataArray[p.index].payload;if(0<e.length)p.sendSpecialSugClickLog(14,$(e).data("flag"),p.index);else{i=!!p.ipt.value;if(0<t.length)(0,_ubcLog.sugHisClickSend)("click",i,p.ipt.value,"pic",{recom_query:$(this).attr("data-key"),is_log:bds.comm.username?1:0,order:p.index+1,area:"sug",aisou_text:p.askAiTailText,no_ai_value:$(this).data("noAiSug")||0}),p.sendSpecialSugClickLog(15,$(t).data("flag"),p.index);else{if(n&&""!==p.value&&!bds.comm.pcSugSwitch)return void p.jumpToAiChat(null,this,"click");if(o&&""===p.value){var r=$(this).attr("data-key"),s=[{type:"TEXT",data:{text:{query:r}}}],l=a&&a.files,u={enterType:(bds.comm.ishome?"home":"a")+"_his_aihis"};return(a&&a.openInputMode&&(u.openInputMode=a.openInputMode),l)?void p.uploadAllFile(a).then(function(t){t.forEach(function(t,e){t=t.data,e=l[e];"image"===p.judeFileType(e.file_type)&&s.push({type:"IMAGE",data:{image:{image_id:t.id,image_url:t.file_url}}}),"file"===p.judeFileType(e.file_type)&&s.push({type:"FILE",data:{file:{file_id:t.id,file_name:e.file_name,file_size:+e.file_size,file_type:e.file_name.split(".").pop(),file_url:t.file_url}}})}),a&&a.files&&a.files.length&&(u.fileInfo=s)}).then(function(){p.jumpToAiChat(r,p,"click",u)}):void p.jumpToAiChat(null,this,"click",u)}(0,_ubcLog.sugHisClickSend)("click",i,p.ipt.value,"common",{recom_query:$(this).attr("data-key"),is_log:bds.comm.username?1:0,area:"sug",order:p.index+1,aisou_text:p.askAiTailText,no_ai_value:$(this).data("noAiSug")||0,his_type_2nd:p.dataArray[p.index]&&p.dataArray[p.index].real_type})}i=$(this).find(".sug-tag-comm");!e.length&&!t.length&&0<i.length&&p.sendSpecialSugClickLog(16,$(i).data("flag"),p.index),p.startCircle();i=$(this).attr("data-key");$(".kw-placeholder").hasClass("placeholders-hidden")||$(".kw-placeholder").addClass("placeholders-hidden"),p.directSugSelected=!!$(this).hasClass("bdsug-direct"),$(this).hasClass("bdsug-hot")&&p.addStat("rsv_sug8","hot"),p.newIpt&&(p.newIpt.textContent=i),p.sugValue=p.showValue=p.value=p.ipt.value=i,p.ipt.value?p.quickdelete._show():p.quickdelete._hide(),p.hideSug(),p.bds&&p.bds.comm&&0===p.bds.comm.ishome&&p.addStat("oq",p.bds.comm.confirmQuery?xss(p.bds.comm.confirmQuery):""),p.bds&&p.bds.comm&&p.bds.comm.confirmQid&&p.addStat("rsv_pq",p.bds.comm.confirmQid),p.addStat("sug",xss(i)),p.addStat("rsv_sug2",1),p.sugClickCallback(i)}}),$(p.sugcontainer).click(function(t){t.stopPropagation()})),0<r.length){var t=document.createElement("UL");bds.comm.ishome||t.setAttribute("id","normalSugSearchUl");for(var s=p.bds&&p.bds.util&&p.bds.util.domain?p.bds.util.domain.get("http://sclick.baidu.com"):"http://sclick.baidu.com",e=0;e<r.length;e++){var i,n=document.createElement("LI"),o="bdsug-item bdsug-ai-upgrade",a=r[e].type;a.includes("his")||"store"===a||(o+=" bdsug-color-red"),p.aiSugSample&&(o+=" bdsug-ask-tail"),(p.aiHoverUpgrade||p.aiHoverUpgradeNoAvoid)&&(o+=" bdsug-ai-hover-upgrade"),p.aiHoverUpgradeNoAvoid&&(o+=" bdsug-no-avoid"),n.setAttribute("class",o),r[e].isDouble&&$(n).css("line-height","normal"),n.innerHTML=r[e].html,r[e].zxtype&&r[e].zxurl&&(a=r[e].value,i=r[e].zxtype,o=r[e].zxurl,p.zhixindata[a]&&p.zhixindata[a].responseJSON&&0===p.zhixindata[a].responseJSON.status&&p.zhixindata[a].responseJSON.data&&0<p.zhixindata[a].responseJSON.data.length||(p.zhixindata[a]=$.ajax({dataType:"jsonp","async":!0,url:o,jsonp:"cb"})),$(n).addClass("bdsug-zx").on("focused",function(){var t=$(this).attr("data-key"),e=p.zhixindata[t]&&p.zhixindata[t].responseJSON&&0===p.zhixindata[t].responseJSON.status&&p.zhixindata[t].responseJSON.data&&0<p.zhixindata[t].responseJSON.data.length,n=$(p.sugcontainer).find(".bdsug-box")[0];e&&n&&p.bds.se.sugzx&&p.bds.se.sugzx[i]&&((t=p.bds.se.sugzx[i](p.zhixindata[t].responseJSON.data,t,p.outInterface(),p))instanceof jQuery&&($(p.sugcontainer).addClass("bdsug-showzx"),$(n).empty().append(t),$(p.sugcontainer).height()<$(p.sugcontainer).find(".bdsug-box").height()&&$(p.sugcontainer).css({height:$(p.sugcontainer).find(".bdsug-box").height()})))}).on("blured",function(){$(p.sugcontainer).removeClass("bdsug-showzx"),$(p.sugcontainer).css({height:"auto"})})),p.setSug(n,r[e]),t.appendChild(n)}$(p.sugcontainer).prependTo(p.aiWrapper);var l=document.createElement("div");l.appendChild(t),p.sugcontainer.innerHTML=l&&l.innerHTML,$(p.sugcontainer).removeClass("bdsug-showzx"),$(p.sugcontainer).css({height:"auto"});var u=$(p.sugcontainer).find("ul li");p.withoutZhixin||($(p.sugcontainer).addClass("bdsug-showarrow"),$(p.sugcontainer).append($('<div class="bdsug-box"></div>')),$(p.aiWrapper).find(".bdsug-tmp").length||$(p.aiWrapper).append($('<div class="bdsug-tmp"></div>')),$(p.sugcontainer).find(".bdsug-box").on("mouseenter",function(){$(p.sugcontainer).addClass("bdsug-showzx"),$(u[p.index]).addClass("bdsug-s")}).on("mouseleave",function(){$(p.sugcontainer).removeClass("bdsug-showzx"),$(u[p.index]).removeClass("bdsug-s bdsug-keyboard bdsug-mouse"),$(p.sugcontainer).css({height:"auto"})}).on("click",function(t){t.stopPropagation()})),$(p.aiWrapper).find(".bdsug-tmp").empty();var d=$("<li>").appendTo($("<div>").addClass("bdsug-showzx").appendTo($(p.aiWrapper).find(".bdsug-tmp"))),h=$("<div>").css({position:"absolute",display:"inline-block",top:"-10000px",left:"-10000px"}).appendTo($(p.aiWrapper).find(".bdsug-tmp"));$.each(u,function(t,e){h.html($(e).html());h.width()>d.width()-$(p.sugcontainer).find(".bdsug-arrow").width()-28&&$(e).addClass("bdsug-overflow c-line-clamp1")});var f="0";if(0===p.bds.comm.ishome?f="0":1===p.bds.comm.ishome&&window.s_domain&&"home"===window.s_domain.base?f="2":1===p.bds.comm.ishome&&(f="1"),""===p.value&&r.length){for(var g,m=0,e=0;e<r.length;e++)r[e].type&&"store"===r[e].type&&m++;ns_c({pj_name:"es_sug",es_sug_hot:p.dataHot.length,es_sug_num:r.length,eb_sug_num:r.length-m,es_sug_bp:f+"_"+(p.bds.comm.supportis?1:0)}),(p.dataStored.length&&3<p.dataStored.length||p.dataHot.length&&3<p.dataHot.length)&&(g=p.searchNewStyle,l="",!(g='<span class="setup_storeSug" style="margin-right:9px; text-decoration:none; cursor:pointer;font-size: 13px; color: #9195a3">关闭历史</span>')===p.hisSwitch&&(g=""),l=p.bds.comm.username?'<div style="background:none;" class="bdsug-feedback-tool-zone">'+g+'<span class="del_all_storeSug" style="margin-right:9px; text-decoration:none; cursor:pointer;font-size: 13px; color: #9195a3">删除历史</span><a class="more_storeSug" href="http://i.baidu.com/my/history?from=pssug"target="_blank" style="color:#666; text-decoration:none;margin-right: 9px; font-size: 13px; color: #9195a3">更多历史</a></div>':'<div style="background:none;" class="bdsug-feedback-tool-zone"><span class="setup_storeSug" style="margin-right: 9px; text-decoration:none; cursor:pointer;font-size: 13px; color: #9195a3">关闭历史</span></div>',$(p.sugcontainer).append(l),$(p.sugcontainer).find(".del_all_storeSug").click(function(){(0,_ubcLog.sendUbcLog)("click","delete_his",{area:"delete"}),p.isSugSample&&c({rsv_ct:10,rsv_cst:12}),p.dataStored[0]&&p.dataStored[0].pinyin&&"|"===p.dataStored[0].pinyin&&$.ajax({type:"POST",dataType:"json",scriptCharset:"utf-8",timeout:6e3,url:"https://www.baidu.com/recsys/hisproxy/data/usrclear",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(){}}),p.storearr=[],p.setStore(),p.hideSug(),(window["BD_PS_C"+(new Date).getTime()]=new Image).src=s+"/w.gif?q=delall&fm=beha&rsv_sug=delall&rsv_sid="+p.bds.comm.sid+"&t="+(new Date).getTime()+"&rsv_sug9=es_"+f+"_"+(p.bds.comm.supportis?1:0)+"&path=http://www.baidu.com"}),$(p.sugcontainer).find(".more_storeSug").click(function(){(0,_ubcLog.sendUbcLog)("click","more_his"),ns_c({pj_name:"hs_sug_more"})}),$(p.sugcontainer).find(".close_hotSug").click(function(){p.hideSug(),ns_c({pj_name:"hot_sug_close"})}),$(p.sugcontainer).find(".setup_storeSug").click(function(){(0,_ubcLog.sendUbcLog)("click","close_his"),p.bds.event.trigger("bd.se.loadpanel",{tab:"general",tipsConfig:{content:p.bds&&p.bds.comm&&p.bds.comm.username?"关闭该账号下所有设备的搜索历史":"该选项可以关闭您的历史记录",wrapper:"#se-setting-5"}}),p.hideSug(),ns_c({pj_name:"hs_sug_setup"})}))}$.each(u,function(i,o){var a=i;r[i]&&"store"===r[i].type&&$(o).find("u").click(function(t){var e,n;t.stopPropagation(),$(o).remove(),p.bds&&p.bds.comm&&p.bds.comm.username&&(e=$(this).parents(".bdsug-item").attr("data-key"),(0,_ubcLog.sendUbcLog)("click","single_his_delete",{recom_query:e}),t=(t=r[i].payload)&&t.fid,p.requestDelHis(e,t)),r[a].pinyin&&"|"===r[a].pinyin?(n=!(p.dataCached={}),$.each(p.storearr,function(t,e){encodeURIComponent(p.dataArray[a].value)===p.storearr[t].q&&(n=t)})):(n=!1,$.each(p.storearr,function(t,e){p.dataArray[a].pinyin===decodeURIComponent(p.storearr[t].p)&&(n=t)})),!1!==n&&(p.storearr.splice(n,1),p.setStore()),(window["BD_PS_C"+(new Date).getTime()]=new Image).src=s+"/w.gif?q="+encodeURIComponent(r[a].value)+"&fm=beha&rsv_sug=del&rsv_sid="+p.bds.comm.sid+"&t="+(new Date).getTime()+(""===p.value?"&rsv_sug9=es_"+f+"_"+(p.bds.comm.supportis?1:0):"")+"&path=http://www.baidu.com"})}),!!window.ActiveXObject&&(!document.documentMode||document.documentMode<=9)||""!==p.value&&!1!==p.useFeedback&&($(p.sugcontainer).append('<div class="ai-bdsug-feedback-wrap"><span class="bdsug-feedback">反馈</span></div>'),$(".ai-bdsug-feedback-wrap").on("click",function(){var n=p.dataArray;p.dataArray.forEach(function(t,e){n[e]=t.value}),p.isSugSample&&c({rsv_ct:10,rsv_cst:13});var t=p.requestDefaultData.g_mot||[];("search_sug_2"===p.currentSugSample||"search_sug_5"===p.currentSugSample||p.isSugSample3&&0===p.currentSearchStatus)&&3<=t.length&&t.forEach(function(t){n.push(t.q)}),p.sugFeedbackClick(),p.bds.se.ShortCut.initSugBar(n),p.hideSug()})),$(p.ipt).trigger("render",[p]),p.renderCallback(),p.visible||p.hideSug(),p.showSug();-1!==["search_sug_2","search_sug_3-1","search_sug_3-2","search_sug_4-1","search_sug_4-2","search_sug_5"].indexOf(p.currentSugSample)&&p.showRightContent&&(p.backFrame||"search_sug_5"===p.currentSugSample&&p.backDelete)?$(".wrapper_new #"+p.inputDomId+" .ai-bdsug-new").addClass("search-sug-short"):$(".wrapper_new #"+p.inputDomId+" .ai-bdsug-new").removeClass("search-sug-short")}else p.hideSug()},renderSugContainer:function(){var t;this.sugcontainer||(this.sugcontainer=document.createElement("DIV"),t=this.searchNewStyle,this.sugcontainer.className=t?"sam-bdsug ai-bdsug ai-bdsug-new new-pmd bdsug-sample3":"ai-bdsug ai-bdsug-new new-pmd bdsug-sample3"),$(this.sugcontainer).prependTo(this.aiWrapper)},escapeHTML:function(t){return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")},requestDelHis:function(t,e){$.ajax({type:"POST",scriptCharset:"utf-8",dataType:"json",timeout:6e3,url:"https://www.baidu.com/recsys/hisproxy/data/usrdelete?usegosug=1",data:{items:JSON.stringify([{query:e?e+t:t,ts:""}]),imod:2,usrdelete:1},xhrFields:{withCredentials:!0},crossDomain:!0,success:function(){}})},setLeftGussStyle:function(){$("#sugSearchGuessUl").attr("id","leftSugSearchHisUl"),$("bdsug ai-bdsug-new new-pmd").css("overflow","hidden"),$(".wrapper_new #"+this.inputDomId+" .ai-bdsug-new").css("overflow","hidden")},renderRecomend:function(t,e,n){var i=this;i.renderSugContainer();var o=t||[];if($("#sugSearchGuessUl")[0]&&$("#sugSearchGuessUl")[0].remove(),$("#leftSugSearchHisUl")[0]&&$("#leftSugSearchHisUl")[0].remove(),3<=o.length){var a=document.createElement("ul"),t=i.requestDefaultData.g_mot;t&&0===t.length?(a.setAttribute("id","leftSugSearchHisUl"),i.setLeftGussStyle()):a.setAttribute("id","sugSearchGuessUl"),i.sugcontainer.appendChild(a);t=document.createElement("div");t.setAttribute("class","search-recommend-title"),t.innerHTML=i.escapeHTML(e),$("#sugSearchGuessUl")[0]&&$("#sugSearchGuessUl")[0].append(t);for(var r=0;r<o.slice(0,7).length;r++){var s=document.createElement("li");s.setAttribute("class","c-line-clamp1"),s.innerHTML='<i class="c-icon sug-search-icon">&#xe6a7;</i>'+i.escapeHTML(o[r].q),i.setSug(s,o[r]),$(i.sugcontainer).delegate("li","mouseenter",function(){$(this).addClass("bdsug-s")}).delegate("li","mouseleave",function(){$(this).removeClass("bdsug-s bdsug-keyboard bdsug-mouse")}).delegate("li","click",function(){i.startCircle();var t=$(this).attr("data-key");i.newIpt&&(i.newIpt.textContent=t),i.sugValue=i.showValue=i.value=i.ipt.value=t,i.index=$(i.sugcontainer).find("li").index($(this)),i.ipt.value?i.quickdelete._show():i.quickdelete._hide(),i.hideSug(),$(i.ipt).trigger("formSubmit")}),a.appendChild(s)}($("#sugSearchGuessUl li").length?$("#sugSearchGuessUl li"):$("#leftSugSearchHisUl li")).each(function(t){var e=i.backFrame?1:0;$(this).click(function(){c({rsv_ct:10,rsv_cst:3,rsv_clk_extra:JSON.stringify({index:t,pos:n,status:i.currentSearchStatus,test:i.currentSugSample,backFrame:e})})})});e=$("#sugSearchGuessUl").height(),t=$("#normalSugSearchUl").height();t<e?$("#normalSugSearchUl").height(e):$("#normalSugSearchUl").height(t),i.renderCallback()}},renderBottomContent:function(t){var i=this,t=i.requestDefaultData;$(".search-sug-bottom-tools")[0]&&$(".search-sug-bottom-tools")[0].remove();var e='<span class="setup_storeSug">关闭历史</span>',n='<span class="del_storeSug">删除历史</span><a class="more_storeSug" href="http://i.baidu.com/my/history?from=pssug"target="_blank" class="more_storeSug">更多历史</a>',o="";i.useFeedback&&(o='<span class="bdsug-feedback">反馈</span>'),(t.g&&t.g.length<4||!i.showsugstore)&&(n=e=""),+bds.comm.isUserLogin||(n=""),i.showsugstore||($("#sugSearchGuessUl").attr("id","leftSugSearchHisUl"),r=$("#sugSearchHisUl").height(),$("#sugSearchHisUl li").each(function(){this.remove()}),$("#leftSugSearchHisUl .search-recommend-title").css("margin",0),$("#sugSearchHisUl").height(r+28)),t.g_mot&&t.g_mot.length<3&&(o="");var a,r=$("#sugSearchGuessUl").height();0===i.currentSearchStatus?r<(a=$("#normalSugSearchUl").height())?$("#normalSugSearchUl").height(a):$("#normalSugSearchUl").height(r):1===i.currentSearchStatus&&(a=(i.isSugSample3&&!i.showsugstore?$("#leftSugSearchHisUl"):$("#sugSearchHisUl")).height(),(r=i.isSugSample3&&!i.showsugstore?$("#sugSearchHisUl").height():r)<a?$("#sugSearchHisUl").height(a):$("#sugSearchHisUl").height(r));o='<div class="search-sug-bottom-tools">'+e+n+o+"</div>";$(i.sugcontainer).append(o),$(i.sugcontainer).find(".del_storeSug").click(function(){c({rsv_ct:10,rsv_cst:12}),i.aa=!0,i.dataStored[0]&&i.dataStored[0].pinyin&&"|"===i.dataStored[0].pinyin&&$.ajax({type:"POST",dataType:"json",scriptCharset:"utf-8",timeout:6e3,url:"https://www.baidu.com/recsys/hisproxy/data/usrclear",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(){}}),i.storearr=[];try{localStorage.setItem("BDSUGSTORED","")}catch(err){console.error(err)}$("#sugSearchHisUl li").each(function(){$(this).remove()}),$("#sugSearchGuessUl").attr("id","leftSugSearchHisUl");var t="0";0===i.bds.comm.ishome?t="0":1===i.bds.comm.ishome&&window.s_domain&&"home"===window.s_domain.base?t="2":1===i.bds.comm.ishome&&(t="1");var e=window["BD_PS_C"+(new Date).getTime()]=new Image,n=i.bds&&i.bds.util&&i.bds.util.domain?i.bds.util.domain.get("http://sclick.baidu.com"):"http://sclick.baidu.com";e.src=n+"/w.gif?q=delall&fm=beha&rsv_sug=delall&rsv_sid="+i.bds.comm.sid+"&t="+(new Date).getTime()+"&rsv_sug9=es_"+t+"_"+(i.bds.comm.supportis?1:0)+"&path=http://www.baidu.com"}),$(i.sugcontainer).find(".more_storeSug").click(function(){ns_c({pj_name:"hs_sug_more"})}),$(i.sugcontainer).find(".close_hotSug").click(function(){i.hideSug(),ns_c({pj_name:"hot_sug_close"})}),$(i.sugcontainer).find(".setup_storeSug").click(function(){i.bds.event.trigger("bd.se.loadpanel",{tab:"general",tipsConfig:{content:i.bds&&i.bds.comm&&i.bds.comm.username?"关闭该账号下所有设备的搜索历史":"该选项可以关闭您的历史记录",wrapper:"#se-setting-5"}}),i.hideSug(),ns_c({pj_name:"hs_sug_setup"})}),$(".bdsug-feedback").on("click",function(){c({rsv_ct:10,rsv_cst:13});var e=[];(t.g_mot&&t.g_mot.length&&t.g_mot).forEach(function(t){e.push(t.q)}),i.bds.se.ShortCut.initSugBar(e),i.hideSug()})},setAutocomplete:function(t){$(this.ipt).attr("autocomplete",t)},setSug:function(t,e){var n=e.value||e.q,i=e.type,e=e.no_ai_sug?1:0;$(t).attr("data-key",n),$(t).attr("data-no-ai-sug",e),i&&$(t).addClass("bdsug-"+i)},setupSug:function(){var t=this,e=t.ipt&&t.ipt.value;if(e){if(t.requesting)return;t.dataCached[e]&&!t.onlyCache?t.callback(t.dataCached[e],"2"):t.request(e,"2")}else if(t.dataCached[e]){if(t.onlyCache)return;t.callback(t.dataCached[e],"2")}else t.request(e)},hasShown:function(){var t=$("#chat-input-panel");return!(!this.visible&&!t.hasClass("panel-expand"))},showSug:function(){var t,e,n=this;n.index=-1,n.sugcontainer&&0!==n.sugcontainer.clientHeight||(t=n.ipt&&n.ipt.value?"sug_board":"his_board",e={his_list:n.dataStored.map(function(t,e){return{his_type:n.judeAiHis(t.real_type)?"ai":"common",order:e+1,recom_query:t.value,his_type_2nd:t.real_type}})},(0,_ubcLog.sugHisShowSend)(t,"his_board"==t?e:{}),0<(e=$(n.sugcontainer).find(".bdsug-ai-guide")).length&&(i=e.parent().attr("data-key"),(0,_ubcLog.aiGuideShowSend)({query:n.ipt.value||"",recom_query:i}))),0<$(n.sugcontainer).find(".direct-sug-wrap").length&&(0,_ubcLog.imgSugSend)("show",n.ipt.value,"pic");var i=$(n.sugcontainer).find(".bdsug-item"),o=[];i.each(function(t,e){e=$(e);"1"===e.attr("data-no-ai-sug")&&o.push({item_name:e.attr("data-key")||e.text().trim()||"",item_pos:t+1})}),0<o.length&&(0,_ubcLog.noAiSugSend)("show",n.ipt.value,{no_ai_sug_info:o}),n.ipt.value===n.reqValue&&((n.bds.comm.ishome?$(n.ipt):$(".s_ipt_wr")).addClass("new-ipt-focus"),n.showSugCallback()),n.visible=!0,n.rsv_sug1++,n.addStat("rsv_sug1",n.rsv_sug1),n.addStat("rsv_sug7",n.rsv_sug7.join(""))},hideSug:function(){this.is_selecting=!1,$(this.ipt).trigger("hide",[this]),$(this.ipt).removeClass("new-ipt-focus"),$(".s_ipt_wr").removeClass("new-ipt-focus"),this.hideSugCallback(),this.visible=!1,this.jqXhr&&this.jqXhr.abort(),this.jqXhr=null},selectSug:function(t){var e=this,n=$(e.sugcontainer).find("li"),i=$(e.sugcontainer).find(".direct-sug-wrap"),o=$(e.sugcontainer).find(".bdsug-ai-guide");if(e.blurSug(n),e.directSugSelected=-1!==t&&n.eq(t).hasClass("bdsug-direct"),-1!==t){e.is_selecting=!0;var a=n[t],r=$(a).attr("data-key"),a=$(a).data("noAiSug");if(e.focusSug(n[t],r,"keyboard"),e.newIpt){e.newIpt.textContent=r;try{var s=document.createRange(),l=window.getSelection(),u=e.newIpt.lastChild;u&&(s.setStart(u,u.length),s.collapse(!0),l.removeAllRanges(),l.addRange(s))}catch(c){}}0===$(e.sugcontainer).find(".bdsug-store-del").length&&(0,_ubcLog.sendUbcLog)("show","sug_hover",{query:r||"",order:e.index+1,no_ai_value:a||0,aisou_text:e.askAiTailText,recom_query:r,sug_type:0<i.length?"pic":0<o?"ai":"common"}),$("#kw").val(r),e.sugValue=e.showValue=e.value=e.ipt.value=r,e.addStat("sug",r),e.bds&&e.bds.comm&&0===e.bds.comm.ishome&&e.addStat("oq",e.bds.comm.confirmQuery?xss(e.bds.comm.confirmQuery):""),e.bds&&e.bds.comm&&e.bds.comm.confirmQid&&e.addStat("rsv_pq",e.bds.comm.confirmQid),e.addStat("rsv_n",1)}else e.is_selecting=!1,e.selectCallback(e.inputValue),e.newIpt&&(e.newIpt.textContent=e.inputValue),e.showValue=e.value=e.ipt.value=e.inputValue,e.sugValue="",e.removeStat("sug"),e.removeStat("rsv_n");e.inputValue||1!==e.bds.comm.ishome?e.stopRefresh=!1:e.stopRefresh=!0,$(e.ipt).trigger("selectSug",[e,t,r])},blurSug:function(t){this.backFrame=!1,$(t).removeClass("bdsug-s bdsug-keyboard bdsug-mouse"),$(t).trigger("blured")},focusSug:function(t,e,n){$(t).addClass("bdsug-s"),n&&$(t).addClass("bdsug-"+n),$(t).trigger("focused"),this.sugFocusCallback&&"keyboard"===n&&this.sugFocusCallback(e,n),this.selectCallback(e)},pressUp:function(t){t=$(this.sugcontainer).find("li").length;this.index--,this.index<-1&&(this.index=t-1),this.selectSug(this.index)},pressDown:function(t){t=$(this.sugcontainer).find("li").length;this.index++,this.index>=t&&(this.index=-1),this.selectSug(this.index)},jumpToAiChat:function(t,e,n){var i=3<arguments.length&&arguments[3]!==undefined?arguments[3]:{},o=!!this.ipt.value,a=t||$(e).attr("data-key"),r=$(e).data("noAiSug"),s=i.fileInfo,t={enter_type:i.enterType||"sug_direct",sa:i.sa||"iks_purpose_dibu",apagelid:bds.comm.qid,ori_lid:bds.comm.qid,aPageWord:String(a)};i.openInputMode&&(t.openInputMode=i.openInputMode),e&&(0,_ubcLog.sugHisClickSend)("click",o,this.ipt.value,"ai",{recom_query:a,is_log:bds.comm.username?1:0,order:this.index+1,triggerType:n,no_ai_value:r,area:i.area||"sug",aisou_text:this.askAiTailText,his_type_2nd:this.dataArray[this.index]&&this.dataArray[this.index].real_type}),a&&(s="https://chat.baidu.com/search?word="+encodeURIComponent(a)+"&pd=csaitab&setype=csaitab&extParamsJson="+encodeURIComponent(JSON.stringify(t))+(s&&s.length?"&fileInfo="+encodeURIComponent(JSON.stringify(s)):""),window.location.href=s)},judeAiHis:function(t){if(!t)return!1;return["his_pc_aipic","his_pc_aifile","his_pc_aiintention","his_pc_ai","ai_guide"].includes(t)},addStat:function(t,e){e=encodeURIComponent(e);var n;this.stat||(this.stat={}),this.stat[t]=e,this.withoutStat||((n=$(this.form).find('input[type="hidden"][name="'+t+'"]')).length?$(n).val(e):$(this.form).append('<input type="hidden" name="'+t+'" value="'+e+'"/>'))},removeStat:function(t){if(!this.withoutStat&&($(this.form).find('input[type="hidden"][name="'+t+'"]').remove(),!this.stat))try{delete this.stat[t]}catch(e){}},setNewsRsv:function(t){"sug"===t?this.addStat("rsv_dl","news_t_sug"):"box"===t?this.addStat("rsv_dl","news_t_sk"):"his"===t&&this.addStat("rsv_dl","news_t_his")},clearStat:function(){var t=this;t.bds&&t.bds.comm&&t.bds.comm.isAsync&&(t.removeStat("rsp"),t.removeStat("prefixsug"),1===t.bds.comm.ishome?t.addStat("rsv_dl","ib"):"news"===t.tn?t.setNewsRsv("box"):t.addStat("rsv_dl","tb")),t.rsv_sug7=[0,0,0],t.removeStat("rsv_n"),t.removeStat("rsv_sug"),t.removeStat("rsv_sug1"),t.removeStat("rsv_sug2"),t.removeStat("rsv_sug3"),t.removeStat("rsv_sug4"),t.removeStat("rsv_sug5"),t.removeStat("rsv_sug6"),t.removeStat("rsv_sug7"),t.removeStat("rsv_sug8"),t.removeStat("rsv_sug9"),t.stat={}},uploadAllFile:function(t){var o=this,a=t.files,r=t.fid,s=5;return function(){var e=[],n=0;return function i(){if(n>=a.length)return Promise.resolve(e);var t=a.slice(n,n+s).map(function(t){return o.uploadFile(r,t)});return n+=s,Promise.all(t).then(function(t){return e.push.apply(e,t),i()})}()}()},uploadFile:function(t,e){var n=this.bds.comm.smartSearchBox&&this.bds.comm.smartSearchBox.token,i=Date.now(),o=undefined,o=(bds.comm.ishome?window.s_session:bds.comm).qid,o=window.btoa(n+"||"+i+"|"+o)+"-"+o;return $.ajax({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",scriptCharset:"utf-8",timeout:6e3,data:JSON.stringify({from:"his",id:e.file_id,name:e.file_name,path:e.file_path,size:e.file_size,type:this.judeFileType(e.file_type)}),crossDomain:!0,url:"https://chat.baidu.com/aichat/api/file/upload?tk="+o,success:function(t){return t.data},error:function(t){throw console.error(t),t}})},judeFileType:function(t){return fileTypeMap[t]?"file":"image"},getRsvStatus:function(t){var e=this,n=[],i=[-2];if(e.rsv_sug){for(var o in i=[-1],e.dataArray)t===e.dataArray[o].value&&(i=[0,o],o<e.rsv_sug&&(i=[1,o]));for(o=0;o<e.rsv_sug&&e.dataArray[o];o++)n.push(e.dataArray[o].value.length,e.dataArray[o].s);i.push(e.index,e.rsv_sug,n.join("."))}return i.join("_")},formSubmit:function(t){var e,n=this,i=!0,o=n.bds&&n.bds.comm&&1===n.bds.comm.ishome?"i":"t",a="t";if("/"===window.location.pathname&&(a="i"),n.newIpt&&$(n.newIpt).trigger("blur"),$($(n.sugcontainer).find("li")[n.index]).children("a").length&&n.isReturnSearch){var r=$($(n.sugcontainer).find("li")[n.index]).children("a").attr("href");return window.open(r,"_blank"),void n.hideSug()}n.addStat("rsv_btype",a),-1!==n.index?(n.addStat("f",3),n.addStat("prefixsug",xss(n.inputValue)),n.addStat("rsp",n.index),""===n.inputValue?"news"===n.tn?n.setNewsRsv("his"):n.addStat("rsv_dl",o+"h_"+n.index):"news"===n.tn?n.setNewsRsv("sug"):n.addStat("rsv_dl",o+"s_"+n.index),n.dataArray[n.index]&&n.dataArray[n.index].alaid?n.addStat("rsv_sug5",n.dataArray[n.index].alaid):n.removeStat("rsv_sug5")):n.addStat("f",8),!n.dataArray[n.index]||""!==n.inputValue&&"|"!==n.dataArray[n.index].pinyin||"store"!==n.dataArray[n.index].type?""===n.inputValue&&n.addStat("rsv_sug9","eb_"+(n.bds.comm.supportis?1:0)):(a="0",0===n.bds.comm.ishome?a="0":1===n.bds.comm.ishome&&window.s_domain&&"home"===window.s_domain.base?a="2":1===n.bds.comm.ishome&&(a="1"),n.addStat("rsv_sug9","es_"+a+"_"+(n.bds.comm.supportis?1:0))),n.sugValue===n.value?(n.removeStat("rsv_n"),n.removeStat("sug")):n.hoverSug===n.value&&n.sugValue===n.value||("news"===n.tn?n.setNewsRsv("box"):n.addStat("rsv_dl",o+"b"),n.addStat("f",8)),0!==n.inputT?(n.addStat("inputT",(new Date).getTime()-n.inputT),n.directInputT=(new Date).getTime()-n.inputT,n.inputT=0):n.removeStat("inputT"),0!==n.rsv_sug4&&(n.addStat("rsv_sug4",(new Date).getTime()-n.rsv_sug4),n.rsv_sug4=0),n.rsv_sug&&n.addStat("rsv_sug",n.rsv_sug),$($(n.sugcontainer).find("li")[n.index]).hasClass("bdsug-zx")?"all"===$(n.sugcontainer).find(".bdsug-box").attr("bdsug-click")?n.addStat("rsv_sugtp",1):n.addStat("rsv_sugtp",0):n.removeStat("rsv_sugtp");try{e=(new Date).getTime(),document.cookie="WWW_ST="+e+";expires="+new Date(e+1e4).toGMTString()}catch(s){}0===n.index&&0<n.dataDirect.length&&n.directSugSelected?(window.open($(n.sugcontainer).find(".bdsug-direct p").attr("link"),"_blank"),n.blankHandle(),ns_c({pj_name:"zhida_sug",sug_prefix:encodeURIComponent(n.inputValue),sug_query:encodeURIComponent(n.dataDirect[0].value),sug_siteurl:encodeURIComponent(n.dataDirect[0].otherData.siteurl),sug_chufa:encodeURIComponent(n.dataDirect[0].otherData.hit_q),sug_inputT:n.directInputT||0,rsv_bp:n.bds.comm.ishome?0:1}),n.bds&&n.bds.comm&&n.bds.comm.username&&(e=(e=n.bds&&n.bds.util&&n.bds.util.domain&&n.bds.util.domain.get("http://api.open.baidu.com/new_hsug/data/write"))+"?query="+encodeURIComponent(n.dataDirect[0].value)+"&src=1&f=3&st="+(n.showsugstore?"1":"0"),$.ajax({dataType:"jsonp",scriptCharset:"utf-8",jsonp:"cb",timeout:6e3,url:e,success:function(){}})),n.index=-1,n.directSugSelected=!1):($.isFunction(n.submission)&&(i=n.submission.call(n.form,t),n.hideSug(),n.inputValue=n.value,n.dataCached={},n.clearStat()),i&&(t=n.newIpt?n.newIpt.textContent:n.ipt&&n.ipt.value,i=$("#kw").attr("placeholder")||$(".kw-placeholder").text(),t?(t=$.limitWd(t),n.value=n.inputValue=n.showValue=t,n.newIpt?n.newIpt.textContent=t:n.ipt.value=t):i&&(t=$.limitWd(i),$(".kw-placeholder").hide(),n.value=n.inputValue=n.showValue=t,n.newIpt?n.newIpt.textContent=t:n.ipt.value=t,n.addStat("rsv_dq",1)),n.form.submit(),n.blankHandle())),"_blank"!==$(n.form).attr("target")&&n.addStat("rsv_bp",1),n.removeStat("rsv_dq")},blankHandle:function(){var t=this;/12783|14655|14668/.test(t.bds.comm.sid)?setTimeout(function(){t.newIpt?t.newIpt.textContent="":t.ipt.value="",t.value=t.inputValue=t.showValue="",(navigator&&navigator.userAgent?navigator.userAgent:"").match(/(msie [2-8])/i)||$(t.ipt).focus()},25):/13488|14654|14667/.test(t.bds.comm.sid)&&setTimeout(function(){$(t.ipt).select()},25)},init:function(){var n=this;n.searchNewStyle=n.bds&&n.bds.comm&&n.bds.comm.sampleval&&-1<$.inArray("new_search_style",n.bds.comm.sampleval)||n.bds.comm.nodeSample&&-1<$.inArray("new_search_style",n.bds.comm.nodeSample),n.setAutocomplete("off"),n.setCurrentSugSample(),n.addStat("rsv_bp",n.rsv_bp),n.updateInitData("init"),n.bds.se.sugdnscached||($.ajax({type:"GET",dataType:"json","async":!0,url:n.buildUrl("","",!0),timeout:5e3,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(t){}}),n.bds.se.sugdnscached=1);n.imt=new _ImeTrack.ImeTrack({iptId:"chat-textarea",adv:!0,innerchange:!1}),n.quickdelete=new _quickDelete.QuickDelete,n.ipt&&n.ipt.value&&n.quickdelete._show(),$(n.ipt).on("inputChange",function(t,e){e.prevQuery=e.queryValue,("search_sug_3-1"===e.currentSugSample||"search_sug_3-2"===e.currentSugSample)&&e.backFrame&&1===e.currentSearchStatus&&""===e.inputValue||(e.backFrame=!1),e.imt.triggerInputChange(t),e.ipt&&e.ipt.value?e.quickdelete._show():e.quickdelete._hide()}),$(n.ipt).on("blur",function(){n.backFrame=!1}),n.startCircle(),n.clearStat();var t=n.ipt;$(".chat-input-container").on("click.sug",function(){n.hasShown()||(n.onlyCache=!1,n.setupSug())}).on("mouseenter.sug",function(t){document.activeElement!==n.ipt&&(n.onlyCache=!0,n.setupSug())}),$(".chat-input-tool").on("click.sug",function(){n.hasShown()||(n.onlyCache=!1,n.setupSug())}),$(t).on("mousedown",function(){n.onlyCache=!1}).on("click",function(t){t.stopPropagation(),n.hasShown()||n.requesting||(n.onlyCache=!1,n.setupSug(),0===n.rsv_sug4&&(n.rsv_sug4=(new Date).getTime()))}).on("focus",function(){bds.comm.ishome||(n.onlyCache=!1,n.setupSug(),n.startCircle())}).on("keydown",function(t){if(t.stopPropagation(),n.startCircle(),t=t||window.event,0===n.inputT&&(n.inputT=(new Date).getTime()),0===n.rsv_sug4&&(n.rsv_sug4=(new Date).getTime()),9!==t.keyCode&&27!==t.keyCode||n.hideSug(),13===t.keyCode){if(-1!==n.index&&n.sugcontainer&&"none"!==n.sugcontainer.style.display){var e=$(n.sugcontainer).find("li").eq(n.index);if(0<e.find(".bdsug-ai-guide").length&&e.hasClass("bdsug-keyboard")){e=e.attr("data-key");return void n.jumpToAiChat(e,{dataset:{key:e}},"enter")}}n.addStat("rsv_sug2",0),bds.comm.ishome||(0,_ubcLog.sendIptLog)("enter"),n.isReturnSearch=!0,n.ipt&&n.ipt.value?n.quickdelete._show():n.quickdelete._hide()}86===t.keyCode&&t.ctrlKey&&n.addStat("rsv_n",2),n.sugcontainer?n.visible?(38===t.keyCode&&(t.preventDefault(),n.pressUp()),40===t.keyCode&&(t.preventDefault(),n.pressDown())):38!==t.keyCode&&40!==t.keyCode||n.request(n.value):38!==t.keyCode&&40!==t.keyCode||(t.preventDefault(),n.request(n.value))}),this.onFormSubmit=this.onFormSubmit.bind(this),n.form&&$(n.form).on("submit",this.onFormSubmit)},onFormSubmit:function(t){var e=this;return e.bds&&e.bds.comm&&0===e.bds.comm.ishome&&e.addStat("oq",e.bds.comm.confirmQuery?xss(e.bds.comm.confirmQuery):""),e.bds&&e.bds.comm&&e.bds.comm.confirmQid&&e.addStat("rsv_pq",e.bds.comm.confirmQid),e.formSubmit(t),!1},outInterface:function(){var n,i=this;return{setVisibleSug:(n=$('<i class="c-icon c-icon-bear-round"></i>'),function(t){var e;for(n.remove(),e=0;e<i.dataArray.length;e++)if(i.dataArray[e].value===t){n.appendTo($(i.sugcontainer).find("li").eq(e));break}}),getStat:function(t){if(i.stat)return i.stat[t]},clearStat:function(){return i.clearStat()},setKey:function(t){i.ipt.value=i.value=i.inputValue=i.showValue=t},visible:function(){return i.visible},is_selecting:function(){return i.visible&&i.is_selecting},data:function(){return i.dataArray&&i.dataArray.length?$.grep(i.dataArray,function(t){return"direct"!==t.type}):[]},show:function(){return i.showSug()},hide:function(){return i.hideSug()},start:function(){return i.startCircle()},stop:function(){return i.stopCircle()},setMaxNum:function(t){return i.maxNum=t},check:function(){return i.check()},formSubmit:function(){return i.formSubmit()},updateInitData:function(){return i.updateInitData()},on:function(){$(i.ipt).on.apply($(i.ipt),arguments)},height:function(){return $(i.sugcontainer).height()},off:function(){$(i.ipt).off.apply($(i.ipt),arguments)},getRsvStatus:function(t){return i.getRsvStatus(t)},setCurrentSugSample:function(t){return i.setCurrentSugSample(t)},destroy:function(){return i.destroy()},closeSugUpdate:function(){i.shouldSugUpdate=!1}}},setCurrentSugSample:function(t){var e=this;bds.comm.sampleval;t&&t.length,e.currentSugSample="",e.prevQuery=e.query,e.requestQuery=[e.query],e.backDelete=!1,e.isAddQuery=!1,e.showRightContent=!1,e.isSugSample3=!1,e.isSugSample4=!1,e.isSugSample=!1},destroy:function(){var t=this;t.hideSug(!0),t.form&&$(t.form).off("submit",t.onFormSubmit),t.sugcontainer&&$(t.sugcontainer).off("click"),t.timer&&(clearTimeout(t.timer),t.timer=null);var e=$(".chat-input-container");e&&e.off(".sug");e=$(".chat-input-tool");e&&e.off(".sug"),t.ipt=null,t.form=null,t.sugcontainer=null,t.dataArray=[],t.dataDirect=[],t.reqValue="",t.inputValue="",t.showValue="",t.sugValue="",t.value="",t.index=-1,t.stat={}}},bdSug}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports["default"]=initSug}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__);__WEBPACK_AMD_DEFINE_RESULT__===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e,n){e=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bdsStore=function(){return e.se.store},t.checkHsugIn=function(t){if(window.__sample_hsug_length)return 4<=t.length||18<=encodeURIComponent(t).length;return 4<=t.length||18<=encodeURIComponent(t).length},t.checkHsugShow=function(t){return 1<=t.length&&3<encodeURIComponent(t).length};var e=window.bds||{};e.se=e.se||{},e.se.store=function(){var i,a={},e=window,t=e.document,r="localStorage",n="globalStorage",o="__storejs__";if(a.disabled=!1,a.set=function(t,e){},a.get=function(t){},a.remove=function(t){},a.clear=function(){},a.transact=function(t,e,n){var i=a.get(t);null==n&&(n=e,e=null),n(i=void 0===i?e||{}:i),a.set(t,i)},a.getAll=function(){},a.serialize=function(t){return String(t)},a.deserialize=function(t){return"string"!=typeof t?undefined:t},function(){try{return r in e&&e[r]}catch(t){return}}())i=e[r],a.set=function(t,e){if(e===undefined)return a.remove(t);i.setItem(t,a.serialize(e))},a.get=function(t){return a.deserialize(i.getItem(t))},a.remove=function(t){i.removeItem(t)},a.clear=function(){i.clear()},a.getAll=function(){for(var t={},e=0;e<i.length;++e){var n=i.key(e);t[n]=a.get(n)}return t};else if(function(){try{return n in e&&e[n]&&e[n][e.location.hostname]}catch(t){return}}())i=e[n][e.location.hostname],a.set=function(t,e){if(e===undefined)return a.remove(t);i[t]=a.serialize(e)},a.get=function(t){return a.deserialize(i[t]&&i[t].value)},a.remove=function(t){delete i[t]},a.clear=function(){for(var t in i)delete i[t]},a.getAll=function(){for(var t={},e=0;e<i.length;++e){var n=i.key(e);t[n]=a.get(n)}return t};else if(t.documentElement.addBehavior){var s,l,u=function u(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),s.appendChild(i),i.addBehavior("#default#userData"),i.load(r);t=e.apply(a,t);return s.removeChild(i),t}},c=function c(t){return"_"+t};try{(l=new ActiveXObject("htmlfile")).open(),l.write("<script>document.w=window<\/script><iframe src='/favicon.ico'></iframe>"),l.close(),s=l.w.frames[0].document,i=s.createElement("div")}catch(p){i=t.createElement("div"),s=t.body}a.set=u(function(t,e,n){return e=c(e),n===undefined?a.remove(e):(t.setAttribute(e,a.serialize(n)),void t.save(r))}),a.get=u(function(t,e){return e=c(e),a.deserialize(t.getAttribute(e))}),a.remove=u(function(t,e){e=c(e),t.removeAttribute(e),t.save(r)}),a.clear=u(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(r);for(var n,i=0;n=e[i];i++)t.removeAttribute(n.name);t.save(r)}),a.getAll=u(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(r);for(var n,i={},o=0;n=e[o];++o)i[n]=a.get(n);return i})}try{a.set(o,o),a.get(o)!=o&&(a.disabled=!0),a.remove(o)}catch(p){a.disabled=!0}return a}()}.apply(e,[e]);e===undefined||(t.exports=e)},function(t,e,n){e=function(t){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.aiGuideShowSend=function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};s("show","sug_ai_query",r({rsv_dl:l("rsv_dl")},t))},t.getQueryString=l,t.imgSugSend=function(t,e,n){var i=3<arguments.length&&arguments[3]!==undefined?arguments[3]:{};s(t,e?"sug_query":"his_query",r({query:e||"",sug_type:n,rsv_dl:l("rsv_dl")},i))},t.noAiSugSend=function(t,e){var n=2<arguments.length&&arguments[2]!==undefined?arguments[2]:{};s(t,"no_ai_sug",r({query:e||"",rsv_dl:l("rsv_dl"),sug_type:"common"},n))},t.sendIptLog=function(t){var e="";{var n;"undefined"!=typeof document&&(n=document.getElementById("kw"),e=n?n.value:"")}s("click","search_kuang",{pos:t,query:e})},t.sendUbcLog=s,t.sugHisClickSend=function(t,e,n,i){var o=4<arguments.length&&arguments[4]!==undefined?arguments[4]:{},a=e?"sug_query":"his_board",n={query:n,rsv_dl:l("rsv_dl")};n[e?"sug_type":"his_type"]=i,s(t,a,r(n,o))},t.sugHisShowSend=function(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};s("show",t,r({rsv_dl:l("rsv_dl")},e))};var i={version:"2.0",page:"undefined"!=typeof window&&window.bds&&window.bds.comm&&window.bds.comm.ishome?"home":"a",from:"search",queryParams:{appname:"pcsearch"}};function s(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"",n=2<arguments.length&&arguments[2]!==undefined?arguments[2]:{};i.page=window.bds&&window.bds.comm&&window.bds.comm.ishome?"home":"a","function"==typeof window.ubc&&(window.ubc("18463.init",18463,i),window.ubc("18463.config",i),n={type:t,value:e,ext:r({qid:bds.comm.qid||"",is_log:bds.comm.username?1:0},n)},bds.comm&&bds.comm.ishome?r(n.ext,{status:bds.comm.ishome?"default":"input"}):r(n.ext,{rsv_dl:l("rsv_dl")}),window.ubc("18463.event",n))}function l(t){if("undefined"==typeof window)return"";for(var e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var i=e[n].split("=");if(decodeURIComponent(i[0])===t)return decodeURIComponent(i[1]||"")}return""}}.apply(e,[e]);e===undefined||(t.exports=e)},function(t,e,n){e=function(t){"use strict";function l(t){var e,n,i=0;return document.selection?(t.focus(),e=document.selection.createRange(),n=0,t&&t.value&&(n=t.value.length),e.moveStart("character",-n),i=e.text.length-1):!t.selectionStart&&"0"!==t.selectionStart||(i=t.selectionStart),i}Object.defineProperty(t,"__esModule",{value:!0}),t.ImeTrack=void 0,t.getCursortPosition=l;var e=(n.prototype={checkLog:function(t){for(var e=this.logs.length,n=!1;0<e;)-1!==this.logs[--e].type.indexOf("unval-")?(t.type=(-1===t.type.indexOf("unval-")?"":"unval-")+this.logs[e].type.replace("unval-","")+"-"+t.type.replace("unval-",""),this.logs[e]=t,n=!0):e=-2;if(n)return!1;for(;this.logs.length>=this.opts.logmaxnum;)this.logs.shift();return!0},analyseLog:function(){var e,t,n,i,o,a,r,s=this;0<this.logs.length&&-1===this.logs[this.logs.length-1].type.indexOf("unval")&&(e=function e(){if(s.opts.adv)for(var t=0;t<i.length;t++)256<i.charCodeAt(t)&&(a=i.substring(0,t+1),r=i.substring(t+1))},n=(t=this.logs[this.logs.length-1]).val.substring(0,t.start),i=t.val.substring(t.start,t.cursor),o=t.val.substring(t.cursor),r=a="",229===t.kd?256<i.charCodeAt(i.length-1)||!i.match(/[\x00-\x80]/g)?(this._keyposition=l(this.ipt),t.type+="-endime",0===i.length&&(t.type+="-cancelime")):(t.type+="-imeinput",e()):!(-1<t.type.indexOf("paste-mouse"))&&-1<t.type.indexOf("change-unkey")?0===i.length?(this._keyposition=l(this.ipt),1<this.logs.length&&-1<this.logs[this.logs.length-2].type.indexOf("upsave")&&(t.type+="-link")):256<i.charCodeAt(i.length-1)||!i.match(/[\x00-\x80]/g)?(this._keyposition=l(this.ipt),t.type+="-endime"):(t.type+="-imeinput",e()):this._keyposition=l(this.ipt),this.opts.adv&&(t.type+="-adv",t.strA=n,t.strB=i,t.strB1=a,t.strB2=r,t.strC=o),this.onLogChange&&this.onLogChange.call(this,t))},addLog:function(t){t.kd=this._kdcode,t.val=this.ipt.value||this.ipt.textContent,t.start=this._keyposition,t.cursor=l(this.ipt),t.type=t.type||0,t.time=(new Date).getTime(),0!==this.logs.length&&this.logs[this.logs.length-1].val===t.val&&-1===this.logs[this.logs.length-1].type.indexOf("unval-")&&-1===t.type.indexOf("unval-")||(this.checkLog(t)&&this.logs.push(t),this.analyseLog())},getLog:function(){return this.logs.slice(0)},triggerInputChange:function(t){this.inputchangeHandle(t)},diffLog:function(){for(var t=[],e=!1,n=0;n<this.logs.length;n++)if(0!==n){var i=this.logs[n];if(i.strB&&i.strA){if(0===i.strB.length&&i.strA.length<this.logs[n-1].strA.length){t=[];continue}if(-1<i.type.indexOf("link")||-1<i.type.indexOf("paste")){t=[];continue}}var o=i.time-this.logs[n-1].time;3e3<o&&(t=[]);var a=0,r=(i.val.match(/[^\x00-\x80]/g)||[]).length-(this.logs[n-1].val.match(/[^\x00-\x80]/g)||[]).length;0<r?a=1:r=(i.val.match(/[\x00-\x80]/g)||[]).length-(this.logs[n-1].val.match(/[\x00-\x80]/g)||[]).length,-1<i.type.indexOf("ime")?(a+=2,e=!0):-1<i.type.indexOf("unval")&&e?a+=2:e=!1,0<r&&t.push(a,r,o)}return t}},n);function n(t){var n=this;n.logs=[],n.opts=t||{},n.opts.logmaxnum=t.logmaxnum||10,n.opts.adv=t.adv||!1,this.onLogChange=t.onLogChange,n.opts.innerchange===undefined&&(n.opts.innerchange=!0),n.ipt=document.getElementById(n.opts.iptId),n._kdcode=0,n._kdevt={},n._keyposition=0,n.ipt&&(n.ipt.onkeydown=function(t){t=t||window.event;n._kdcode=t.keyCode||t.which,n._kdevt=t},n.ipt.onkeyup=function(t){t=t||window.event,t=t.keyCode||t.which,n.ipt.value,l(n.ipt);n._kdcode&&(n.addLog({ku:t,type:"upsave"}),n._kdcode=0,n._kdevt={},n.oldval=n.ipt.value||n.ipt.textContent)},n.ipt.onpaste=function(t){n._kdevt.ctrlKey?n.addLog({type:"unval-paste-key"}):n.addLog({type:"unval-paste-mouse"})},n.oldval=n.ipt.value||n.ipt.textContent||"",n.inputchangeHandle=function(t){var e;n._kdcode?n.addLog({type:"unval-change-key"}):(e="",n.logs.length&&(new Date).getTime()-function(){for(var t=n.logs.length-1;t<n.logs.length-1;t--)if(-1===n.logs[t].type.indexOf("unval-"))return n.logs[t].time;return 0}()<300&&(e="unval-"),n.addLog({type:e+"change-unkey"}))},n.timmer,n.opts.innerchange&&(n.ipt.onfocus=function(e){n.timmer=setInterval(function(){var t;t=e,n.ipt.value===n.oldval&&n.ipt.textContent===n.oldval||(n.oldval=n.ipt.value||n.ipt.textContent,n.inputchangeHandle(t))},200)},n.ipt.onblur=function(){clearInterval(n.timmer)}))}t.ImeTrack=e}.apply(e,[e]);e===undefined||(t.exports=e)},function(t,e,n){e=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickDelete=void 0,t.clearAllHistory=function(t){try{localStorage.removeItem("searchHistory"),t&&t(!0)}catch(e){console.error("清空历史记录失败:",e),t&&t(!1)}},t.getHistoryCount=function(){try{return JSON.parse(localStorage.getItem("searchHistory")||"[]").length}catch(t){return console.error("获取历史记录数量失败:",t),0}},t.quickDeleteHistory=function(e,t){if(e)try{var n=JSON.parse(localStorage.getItem("searchHistory")||"[]").filter(function(t){return t.query!==e});localStorage.setItem("searchHistory",JSON.stringify(n)),t&&t(!0)}catch(i){console.error("删除本地历史记录失败:",i),t&&t(!1)}else t&&t(!1)};var e=(n.prototype={constructor:n,_init:function(){this.quickdelete=$(".quickdelete"),this.quickdeleteline=$(".quickdelete-line"),this.ipt=$("#kw"),this._bind_event()},_hide:function(){this.quickdelete.hide(),this.quickdeleteline.hide()},_show:function(){this.quickdelete.show(),this.quickdeleteline.show()},_bind_event:function(){var t=this,e=t.ipt;t.quickdelete.on("click",function(){"function"==typeof window.sendIptLog&&window.sendIptLog("delete"),e.val("").focus(),t._hide(),"function"==typeof window.ns_c&&window.ns_c({fm:"behs",tab:"search-delete"})})}},n);function n(){this._init()}t.QuickDelete=e}.apply(e,[e]);e===undefined||(t.exports=e)},function(t,e,n){"use strict";function o(t,e){var i,o,a,r,n=e.containerWidth,s=e.defaultMinWidth,l=e.buttonGap,e=e.moreButtonWidth,e=function(t,e){for(var n=e.length-1;0<=n;n--)if(t>=e[n].minWidth)return e[n].visibleCount;return 1}(n,(i=t,o=(e={defaultMinWidth:s,buttonGap:l,moreButtonWidth:e}).defaultMinWidth,a=e.buttonGap,r=e.moreButtonWidth,i.map(function(t,e){var n=e+1,e=i.slice(0,n).reduce(function(t,e){return t+(e.minWidth||o)},0);return{visibleCount:n,minWidth:n<i.length?e+(r||o)+n*a:e+(n-1)*a}})));return e=e,{visibleButtons:(t=t).slice(0,e),hiddenButtons:t.slice(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.calculateAdaptiveButtonBar=void 0,e.calculateAdaptiveButtonBar=o;var i=(a.prototype.update=function(){this.container&&(this.updateContainerWidth(),this.calculateAndNotify())},a.prototype.getCurrentResult=function(){return this.lastResult||null},a.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.container),this.resizeObserver.disconnect(),this.resizeObserver=null),this.lastResult=null},a.prototype.bindContainer=function(){this.container&&this.resizeObserver&&(this.resizeObserver.observe(this.container),this.updateContainerWidth())},a.prototype.setupResizeObserver=function(){var t=this;this.resizeObserver=new ResizeObserver(function(){requestAnimationFrame(function(){t.updateContainerWidth(),t.calculateAndNotify()})})},a.prototype.updateContainerWidth=function(){var t=getComputedStyle(this.container),e=parseFloat(t.paddingLeft)||0,t=parseFloat(t.paddingRight)||0,t=this.container.clientWidth-e-t;t!==this.containerWidth&&(this.containerWidth=t)},a.prototype.calculateAndNotify=function(){var t=this.config,e=t.buttons,n=t.defaultMinWidth,i=t.buttonGap,t=t.moreButtonWidth,t=o(e,{containerWidth:this.containerWidth,defaultMinWidth:n,buttonGap:i,moreButtonWidth:t});this.lastResult=t,this.callbacks.onUpdate&&this.callbacks.onUpdate(t)},a);function a(t,e){void 0===e&&(e={}),this.resizeObserver=null,this.containerWidth=0,this.lastResult=null,this.config=t,this.callbacks=e,this.container=t.container,this.setupResizeObserver(),this.bindContainer()}e["default"]=i},function(t,e,n){var i=n(2),o=[n(407)],a=n(122),r=n(123)["default"];t.exports=n(123),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(408);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("a31e7fbe",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,"",""]),t.exports=e},function(t,e,n){var i=n(410);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("37174bae",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,"",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(412)],a=n(127),r=n(128)["default"];t.exports=n(128),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(413);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("ba127fc8",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".file-guide-wrapper_jkceP {\n  width: 100%;\n  height: 30px;\n  margin-bottom: 12px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #333;\n}\n.file-guide-wrapper_jkceP .file-guide-item_2J0db {\n  box-sizing: border-box;\n  height: 30px;\n  padding: 8px 12px;\n  text-align: center;\n  line-height: 14px;\n  background-color: #f5f6f9;\n  border-radius: 9px;\n}\n.file-guide-wrapper_jkceP .file-guide-item_2J0db:hover {\n  cursor: pointer;\n  background: rgba(78, 110, 242, 0.06);\n  color: #4E6EF2;\n}\n.file-guide-wrapper_jkceP .file-guide-disabled_1zgU0 {\n  opacity: 0.4;\n}\n.file-guide-tooltip_1BoFQ {\n  display: none;\n}\n",""]),e.locals={"file-guide-wrapper":"file-guide-wrapper_jkceP",fileGuideWrapper:"file-guide-wrapper_jkceP","file-guide-item":"file-guide-item_2J0db",fileGuideItem:"file-guide-item_2J0db","file-guide-disabled":"file-guide-disabled_1zgU0",fileGuideDisabled:"file-guide-disabled_1zgU0","file-guide-tooltip":"file-guide-tooltip_1BoFQ",fileGuideTooltip:"file-guide-tooltip_1BoFQ"},t.exports=e},function(t,e,n){var i=n(2),o=[n(415)],a=n(129),r=n(130)["default"];t.exports=n(130),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(416);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("6ea997ce",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-input-tooltip.cos-tooltip {\n  position: relative;\n}\n",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(418)],a=n(131),r=n(132)["default"];t.exports=n(132),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(419);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("da3be616",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".chat-input-tooltip.cos-tooltip-trigger {\n  position: absolute;\n  z-index: 500;\n}\n.chat-input-tooltip.cos-tooltip-trigger .cos-tooltip-content {\n  padding: 9px 12px;\n  font-size: 14px;\n  line-height: 18px;\n  overflow-wrap: break-word;\n  white-space: normal;\n  text-align: left;\n  max-width: 300px;\n  background-color: #fff;\n  box-shadow: 0 6px 21px 0 rgba(30, 31, 36, 0.2);\n  color: #333;\n  border-radius: 12px;\n}\n.chat-input-tooltip.cos-tooltip-trigger .cos-tooltip-arrow {\n  border: 6px solid #0000;\n  height: 0;\n  position: absolute;\n  width: 0;\n  border-top-color: #fff;\n}\n.chat-input-tooltip.cos-tooltip-trigger.ai-input-numero-tooltip {\n  margin-top: 12px;\n}\n.chat-input-tooltip.cos-tooltip-trigger.ai-input-numero-tooltip .cos-tooltip-content {\n  color: #FFFFFF;\n  background-color: transparent;\n  background: linear-gradient(170deg, #286AFF, #4E6EF2, #7274F9, #9F66FF);\n}\n.chat-input-tooltip.cos-tooltip-trigger.ai-input-numero-tooltip .cos-tooltip-arrow {\n  bottom: 36px;\n  width: 0;\n  border-top-color: transparent;\n  border-bottom-color: #416DF6;\n}\n.chat-input-tooltip.cos-tooltip-trigger-hidden {\n  visibility: hidden;\n}\n",""]),t.exports=e},function(t,e,n){var i=n(2),o=[n(421)],a=n(133),r=n(134)["default"];t.exports=n(134),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(422);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("43cd0966",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".panel_2vfwX {\n  position: relative;\n  cursor: pointer;\n  border-radius: 12px;\n  height: 36px;\n  box-sizing: border-box;\n  flex-grow: 1;\n  flex-shrink: 0;\n  background: #f6f7fe;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 500;\n  color: #333333;\n}\n.panel-guide_1OQr9:before {\n  content: '';\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  width: 7px;\n  height: 7px;\n  background-color: #f73131;\n  border-radius: 50px;\n  box-shadow: 0px 1.56px 7.78px 0px #ff274b4d;\n}\n.panel_2vfwX img {\n  height: 16px;\n  width: 16px;\n  margin-right: 6px;\n}\n.panel_2vfwX:hover {\n  color: #4e6ef2;\n  background: #eff2fe;\n}\n.panel_2vfwX:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.panel_2vfwX .panel-link_1IIS3 {\n  display: flex;\n  align-items: center;\n  color: inherit;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n.panel_2vfwX .panel-link_1IIS3:hover {\n  text-decoration: none;\n  background: transparent;\n  color: inherit;\n}\n.panel_2vfwX .panel-link_1IIS3:active,\n.panel_2vfwX .panel-link_1IIS3:visited {\n  text-decoration: none;\n  color: unset;\n}\n.panel_2vfwX .guide-bub-container_2skZT {\n  width: 100%;\n  height: 100%;\n  padding: 0 5px 0 18px;\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n}\n.panel_2vfwX .guide-bub-container_2skZT:hover {\n  text-decoration: none;\n  background: transparent;\n}\n.panel_2vfwX .guide-bub-container_2skZT:hover .guide-bub-container-center_2ZZz1 {\n  color: #4e6ef2;\n  background: unset;\n  -webkit-background-clip: unset;\n  background-clip: unset;\n  -webkit-text-fill-color: unset;\n}\n.panel_2vfwX .guide-bub-container_2skZT:hover .guide-bub-container-center_2ZZz1::before {\n  background: #eff2fe;\n}\n.panel_2vfwX .guide-bub-container_2skZT:hover .guide-bub-container-center_2ZZz1::after {\n  background: #eff2fe;\n}\n.panel_2vfwX .guide-bub-container_2skZT:active,\n.panel_2vfwX .guide-bub-container_2skZT:visited {\n  text-decoration: none;\n  color: unset;\n}\n.panel_2vfwX .guide-bub-container_2skZT .guide-bub-container-center-box_2hCgr {\n  overflow: unset;\n  width: 171px;\n}\n.panel_2vfwX .guide-bub-container_2skZT .guide-bub-container-center_2ZZz1 {\n  position: relative;\n  white-space: nowrap;\n  font-size: 14px;\n  letter-spacing: 0.06em;\n  line-height: 20px;\n  font-weight: 500;\n  color: #333;\n  width: 171px;\n}\n.panel_2vfwX .guide-bub-container_2skZT .guide-bub-container-center_2ZZz1::before {\n  --mask-height: 100px;\n  --container-height: 18px;\n  --item-height: 18px;\n  content: '';\n  position: absolute;\n  top: calc(-1 * var(--mask-height));\n  left: -4px;\n  right: 0;\n  height: calc(var(--mask-height) + var(--item-height) / 2 - var(--container-height) / 2 - 1px);\n  background: #f6f7fe;\n  filter: blur(1px);\n  pointer-events: none;\n  z-index: 1;\n  width: 105%;\n}\n.panel_2vfwX .guide-bub-container_2skZT .guide-bub-container-center_2ZZz1::after {\n  --mask-height: 100px;\n  --container-height: 18px;\n  --item-height: 22px;\n  content: '';\n  position: absolute;\n  top: 17px;\n  left: -4px;\n  right: 0;\n  height: calc(var(--mask-height) + var(--item-height) / 2 - var(--container-height) / 2 - 1px);\n  background: #f6f7fe;\n  pointer-events: none;\n  z-index: 1;\n  width: 105%;\n}\n.panel_2vfwX .guide-bub-container_2skZT .guide-bub-container-center_2ZZz1 .emoji-text {\n  color: #333;\n  -webkit-text-fill-color: #333;\n  line-height: 18px;\n}\n.panel_2vfwX .guide-bub-container_2skZT .guide-bub-container-text_119rj {\n  background: linear-gradient(90deg, #3377FE, #BA59FF);\n  background-clip: text;\n  color: transparent;\n  -webkit-background-clip: text;\n}\n.panel_2vfwX .guide-bub-container_2skZT .guide-bub-container-right-btn_20kmb {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 74px;\n  height: 26px;\n  border-radius: 15px;\n  margin-left: 6px;\n  background: #fff;\n  color: #4e6ef2;\n}\n.guide-bub_2c8ND {\n  flex: 0;\n}\n.s-skin-hasbg .guide-bub-container-center-box_2hCgr {\n  overflow: hidden !important;\n}\n.s-skin-hasbg .guide-bub-container-center-box_2hCgr .guide-bub-container-center_2ZZz1::before {\n  content: none;\n}\n.s-skin-hasbg .guide-bub-container-center-box_2hCgr .guide-bub-container-center_2ZZz1::after {\n  content: none;\n}\n",""]),e.locals={panel:"panel_2vfwX","panel-guide":"panel-guide_1OQr9",panelGuide:"panel-guide_1OQr9","panel-link":"panel-link_1IIS3",panelLink:"panel-link_1IIS3","guide-bub-container":"guide-bub-container_2skZT",guideBubContainer:"guide-bub-container_2skZT","guide-bub-container-center":"guide-bub-container-center_2ZZz1",guideBubContainerCenter:"guide-bub-container-center_2ZZz1","guide-bub-container-center-box":"guide-bub-container-center-box_2hCgr",guideBubContainerCenterBox:"guide-bub-container-center-box_2hCgr","guide-bub-container-text":"guide-bub-container-text_119rj",guideBubContainerText:"guide-bub-container-text_119rj","guide-bub-container-right-btn":"guide-bub-container-right-btn_20kmb",guideBubContainerRightBtn:"guide-bub-container-right-btn_20kmb","guide-bub":"guide-bub_2c8ND",guideBub:"guide-bub_2c8ND"},t.exports=e},function(t,e,n){var i=n(424);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("792f1b2b",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".svg_2cDwx {\n  position: absolute;\n  top: calc(-1 * var(--svg-padding));\n  left: calc(-1 * var(--svg-padding));\n}\n.svg_2cDwx rect {\n  filter: blur(0.2px);\n  opacity: 0;\n  transition: 240ms ease-in opacity;\n}\n",""]),e.locals={svg:"svg_2cDwx"},t.exports=e},function(t,e,n){var i=n(2),o=n(138)["default"];t.exports=n(138),t.exports["default"]=i(o,void 0,[])},function(t,e,n){var i=n(2),o=[n(427)],a=n(139),r=n(140)["default"];t.exports=n(140),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(428);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("f72a6ad4",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".tooltip-wrapper_1paL6 {\n  position: relative;\n  cursor: pointer;\n}\n.tooltip-wrapper_1paL6:hover .tooltip_3tG1Z {\n  opacity: 1;\n}\n.tooltip-wrapper_1paL6.anchor-center_ZAuUP .tooltip_3tG1Z {\n  left: 50%;\n  transform: translateX(-50%);\n}\n.tooltip-wrapper_1paL6.anchor-center_ZAuUP .tooltip_3tG1Z:before {\n  left: 50%;\n  margin-left: -6px;\n}\n.tooltip-wrapper_1paL6.anchor-left_2rMNl .tooltip_3tG1Z {\n  left: 0;\n}\n.tooltip-wrapper_1paL6.anchor-left_2rMNl .tooltip_3tG1Z:before {\n  left: 16px;\n}\n.tooltip-wrapper_1paL6.anchor-right_2AGkY .tooltip_3tG1Z {\n  right: -5px;\n}\n.tooltip-wrapper_1paL6.anchor-right_2AGkY .tooltip_3tG1Z:before {\n  right: 10px;\n}\n.tooltip-wrapper_1paL6 .tooltip_3tG1Z {\n  background-color: #fff;\n  color: #333;\n  box-sizing: border-box;\n  display: inline-block;\n  max-width: 280px;\n  width: max-content;\n  min-width: fit-content;\n  font-size: 14px;\n  text-align: left;\n  padding: 9px 12px;\n  border-radius: 12px;\n  position: absolute;\n  z-index: 1;\n  top: 35px;\n  opacity: 0;\n  transition: opacity 0.2s;\n  box-shadow: 0 6px 21px 0 rgba(30, 31, 36, 0.2);\n}\n.tooltip-wrapper_1paL6 .tooltip_3tG1Z:before {\n  content: '';\n  position: absolute;\n  top: -6px;\n  width: 0;\n  height: 0;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #fff;\n}\n.tooltip-wrapper_1paL6 .init-toast_JunWh.tooltip_3tG1Z {\n  opacity: 1;\n}\n",""]),e.locals={"tooltip-wrapper":"tooltip-wrapper_1paL6",tooltipWrapper:"tooltip-wrapper_1paL6",tooltip:"tooltip_3tG1Z","anchor-center":"anchor-center_ZAuUP",anchorCenter:"anchor-center_ZAuUP","anchor-left":"anchor-left_2rMNl",anchorLeft:"anchor-left_2rMNl","anchor-right":"anchor-right_2AGkY",anchorRight:"anchor-right_2AGkY","init-toast":"init-toast_JunWh",initToast:"init-toast_JunWh"},t.exports=e},function(t,e,n){var i=n(2),o=[n(430)],a=n(141),r=n(142)["default"];t.exports=n(142),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(431);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("85324b30",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".toast-root_1ZTPr {\n  align-items: center;\n  background-color: #fff;\n  border-radius: 12px;\n  box-shadow: 0 6px 21px 0 #1e1f2433;\n  box-sizing: border-box;\n  color: #333;\n  display: flex;\n  height: 42px;\n  top: 15px;\n  left: 50%;\n  opacity: 0;\n  padding: 12px 15px;\n  pointer-events: none;\n  position: fixed;\n  text-align: center;\n  transform: translate(-50%);\n  transition: top 0.3s ease, opacity 0.16s ease;\n  z-index: 902;\n}\n.toast-root-view_28aig {\n  opacity: 1;\n}\n.toast-content_14k2i {\n  flex-shrink: 0;\n  text-align: center;\n  font-size: 16px;\n  line-height: 23px;\n  margin: 3px 0;\n}\n",""]),e.locals={"toast-root":"toast-root_1ZTPr",toastRoot:"toast-root_1ZTPr","toast-root-view":"toast-root-view_28aig",toastRootView:"toast-root-view_28aig","toast-content":"toast-content_14k2i",toastContent:"toast-content_14k2i"},t.exports=e},function(t,e,n){var i=n(2),o=[n(433)],a=n(143),r=n(144)["default"];t.exports=n(144),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(434);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("4c5469f6",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".animation-video_1b2M9 {\n  height: 300%;\n  width: 145%;\n  position: absolute;\n  top: -94px;\n  left: -162px;\n  filter: blur(10px);\n  z-index: -1;\n  animation: fadeInOut_DKzco 5s both;\n}\n.animation-video_1b2M9 .gif-canvas_1600e {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n@keyframes fadeInOut_DKzco {\n  0% {\n    opacity: 0;\n  }\n  4.8% {\n    opacity: 0.3;\n  }\n  95.2% {\n    opacity: 0.3;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n",""]),e.locals={"animation-video":"animation-video_1b2M9",animationVideo:"animation-video_1b2M9",fadeInOut:"fadeInOut_DKzco","gif-canvas":"gif-canvas_1600e",gifCanvas:"gif-canvas_1600e"},t.exports=e},function(t,e,n){var i=n(2),o=[n(436)],a=n(145),r=n(146)["default"];t.exports=n(146),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(437);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("11c16959",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".numero-buttons-container_RWopI {\n  display: flex;\n  gap: 6px;\n}\n.numero-button_SN5pO {\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding: 7.5px 7px 7.5px 11px;\n  border: 0.5px solid var(--cos-color-border-tiny, #dbdce0);\n  border-radius: 12px;\n}\n.numero-button_SN5pO:hover {\n  color: var(--cos-color-text-primary, #4E6EF2);\n  background-color: var(--cos-color-bg-dent, #f5f6f9);\n}\n.numero-button_SN5pO:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.numero-button-active_3UYGI {\n  color: var(--cos-color-text-primary, #4E6EF2);\n  background-color: var(--cos-color-bg-dent, #f5f6f9);\n  border: 0.5px solid #4E6EF21F;\n}\n.numero-button_SN5pO .numero-btn-content_2-s2R {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.numero-button_SN5pO .numero-btn-content_2-s2R:hover {\n  cursor: pointer;\n}\n.numero-button_SN5pO .numero-icon_1iMue {\n  width: 16px;\n  margin-left: 4px;\n}\n.numero-button_SN5pO .numero-button-text_T3C4- {\n  font-size: var(--cos-text-subtitle-sm, 14px);\n  font-weight: 500;\n}\n",""]),e.locals={"numero-buttons-container":"numero-buttons-container_RWopI",numeroButtonsContainer:"numero-buttons-container_RWopI","numero-button":"numero-button_SN5pO",numeroButton:"numero-button_SN5pO","numero-button-active":"numero-button-active_3UYGI",numeroButtonActive:"numero-button-active_3UYGI","numero-btn-content":"numero-btn-content_2-s2R",numeroBtnContent:"numero-btn-content_2-s2R","numero-icon":"numero-icon_1iMue",numeroIcon:"numero-icon_1iMue","numero-button-text":"numero-button-text_T3C4-",numeroButtonText:"numero-button-text_T3C4-"},t.exports=e},function(t,e,n){var i=n(2),o=[n(439)],a=n(147),r=n(148)["default"];t.exports=n(148),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(440);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("209b39ec",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".directive-panel_Hrh2c {\n  position: absolute;\n  left: -0.5px;\n  top: 40px;\n  z-index: 100;\n  background: #fff;\n  padding: 14px 9px 9px 18px;\n  box-sizing: border-box;\n  border: 0.5px solid var(--cos-color-border-minor, #edeef0);\n  border-radius: var(--cos-rounded-xl, 18px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-shadow: 0 2px 20px 0 #00000014;\n  color: var(--cos-color-text, #333);\n}\n.directive-title_HZqza {\n  margin-bottom: 15px;\n  font-size: 14px;\n  font-weight: 500;\n}\n.button-container_pdkDy {\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  width: 100%;\n}\n.directive-button_2lrLQ {\n  padding: 5px 10.5px;\n  font-size: 14px;\n  border: none;\n  border-radius: var(--cos-rounded-sm, 9px);\n  background-color: #F5F6FA;\n  cursor: pointer;\n  text-align: center;\n  white-space: nowrap;\n  margin-right: 9px;\n  margin-bottom: 9px;\n}\n.directive-button_2lrLQ:hover {\n  cursor: pointer;\n  background-color: #F5F6FA;\n  color: #4E6EF2;\n}\n.directive-button-selected_326iw {\n  background: #4E6EF217;\n  color: var(--cos-colortext-primary, #4E6EF2);\n}\n.directive-button-selected_326iw:hover {\n  cursor: pointer;\n}\n",""]),e.locals={"directive-panel":"directive-panel_Hrh2c",directivePanel:"directive-panel_Hrh2c","directive-title":"directive-title_HZqza",directiveTitle:"directive-title_HZqza","button-container":"button-container_pdkDy",buttonContainer:"button-container_pdkDy","directive-button":"directive-button_2lrLQ",directiveButton:"directive-button_2lrLQ","directive-button-selected":"directive-button-selected_326iw",directiveButtonSelected:"directive-button-selected_326iw"},t.exports=e},function(t,e,n){var i=n(2),o=[n(442)],a=n(149),r=n(150)["default"];t.exports=n(150),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(443);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("3264f5aa",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".music-buttons-container_3Z9De {\n  display: flex;\n  gap: 6px;\n}\n.music-button_dvit4 {\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding: 7.5px 7px 7.5px 11px;\n  border: 0.5px solid var(--cos-color-border-tiny, #dbdce0);\n  border-radius: 12px;\n}\n.music-button_dvit4:hover {\n  color: var(--cos-color-text-primary, #4E6EF2);\n  background-color: var(--cos-color-bg-dent, #f5f6f9);\n}\n.music-button_dvit4:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.music-button-active_183W3 {\n  color: var(--cos-color-text-primary, #4E6EF2);\n  background-color: var(--cos-color-bg-dent, #f5f6f9);\n  border: 0.5px solid #4E6EF21F;\n}\n.music-button_dvit4 .music-btn-content_3AblW {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.music-button_dvit4 .music-btn-content_3AblW:hover {\n  cursor: pointer;\n}\n.music-button_dvit4 .music-icon_3mUxD {\n  width: 16px;\n  margin-left: 4px;\n}\n.music-button_dvit4 .music-button-text_3TsUh {\n  font-size: var(--cos-text-subtitle-sm, 14px);\n  font-weight: 500;\n}\n",""]),e.locals={"music-buttons-container":"music-buttons-container_3Z9De",musicButtonsContainer:"music-buttons-container_3Z9De","music-button":"music-button_dvit4",musicButton:"music-button_dvit4","music-button-active":"music-button-active_183W3",musicButtonActive:"music-button-active_183W3","music-btn-content":"music-btn-content_3AblW",musicBtnContent:"music-btn-content_3AblW","music-icon":"music-icon_3mUxD",musicIcon:"music-icon_3mUxD","music-button-text":"music-button-text_3TsUh",musicButtonText:"music-button-text_3TsUh"},t.exports=e},function(t,e,n){var i=n(2),o=[n(445)],a=n(151),r=n(152)["default"];t.exports=n(152),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(446);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("3920cabe",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".directive-panel_2s3wm {\n  position: absolute;\n  left: -0.5px;\n  top: 40px;\n  z-index: 100;\n  background: #fff;\n  padding: 14px 9px 9px 18px;\n  box-sizing: border-box;\n  border: 0.5px solid var(--cos-color-border-minor, #edeef0);\n  border-radius: var(--cos-rounded-xl, 18px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-shadow: 0 2px 20px 0 #00000014;\n  color: var(--cos-color-text, #333);\n}\n.directive-title_B-GW4 {\n  margin-bottom: 15px;\n  font-size: 14px;\n  font-weight: 500;\n}\n.button-container_3X4yW {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  width: 100%;\n}\n.directive-button_1kyTM {\n  padding: 5px 10.5px;\n  font-size: 14px;\n  border: none;\n  border-radius: var(--cos-rounded-sm, 9px);\n  background-color: #F5F6FA;\n  cursor: pointer;\n  text-align: center;\n  white-space: nowrap;\n  margin-right: 9px;\n  margin-bottom: 9px;\n}\n.directive-button_1kyTM:hover {\n  cursor: pointer;\n  background-color: #F5F6FA;\n  color: #4E6EF2;\n}\n.directive-button-selected_1tw8q {\n  background: #4E6EF217;\n  color: var(--cos-colortext-primary, #4E6EF2);\n}\n.directive-button-selected_1tw8q:hover {\n  cursor: pointer;\n}\n",""]),e.locals={"directive-panel":"directive-panel_2s3wm",directivePanel:"directive-panel_2s3wm","directive-title":"directive-title_B-GW4",directiveTitle:"directive-title_B-GW4","button-container":"button-container_3X4yW",buttonContainer:"button-container_3X4yW","directive-button":"directive-button_1kyTM",directiveButton:"directive-button_1kyTM","directive-button-selected":"directive-button-selected_1tw8q",directiveButtonSelected:"directive-button-selected_1tw8q"},t.exports=e},function(t,e,n){var i=n(2),o=n(153),a=n(154)["default"];t.exports=n(154),t.exports["default"]=i(a,o,[])},function(t,e,n){var i=n(2),o=[n(449)],a=n(155),r=n(156)["default"];t.exports=n(156),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(450);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("03849386",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".draw-buttons-wrapper_2I2yT {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-family: 'pingfang sc';\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV {\n  position: relative;\n  margin-right: 6px;\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-tooltip_KYOij {\n  position: absolute;\n  z-index: 100;\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-tooltip-top_2OPIW {\n  bottom: calc(100% + 6px);\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-tooltip-bottom_1WqHh {\n  top: calc(100% + 6px);\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-container_jf4UW {\n  box-sizing: border-box;\n  height: 36px;\n  width: auto;\n  padding: 0px 6px 0 11px;\n  border: 0.5px solid var(--cos-color-border-tiny, #DBDCE0);\n  border-radius: var(--cos-rounded-md, 12px);\n  display: flex;\n  align-items: center;\n  font-size: var(--cos-text-subtitle-sm, 14px);\n  font-weight: var(--cos-font-medium, 500);\n  color: var(--cos-color-text, #333);\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-container_jf4UW:hover {\n  background-color: #F5F6F9;\n  color: #4E6EF2;\n  border-color: #DBDCE0;\n  cursor: pointer;\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-container_jf4UW:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-container_jf4UW .draw-button-icon_1_aLF {\n  width: 16px;\n  margin-left: 5px;\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-container-active_1KbQN {\n  background-color: rgba(78, 110, 242, 0.06);\n  border-color: var(--cos-color-border-primary-light, #4e6ef21f);\n  color: #4e6ef2;\n}\n.draw-buttons-wrapper_2I2yT .draw-button-area_2fWBV .draw-button-container-active_1KbQN img[data-exclude-filter]:not([data-exclude-filter=\"true\"]) {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n",""]),e.locals={"draw-buttons-wrapper":"draw-buttons-wrapper_2I2yT",drawButtonsWrapper:"draw-buttons-wrapper_2I2yT","draw-button-area":"draw-button-area_2fWBV",drawButtonArea:"draw-button-area_2fWBV","draw-button-tooltip":"draw-button-tooltip_KYOij",drawButtonTooltip:"draw-button-tooltip_KYOij","draw-button-tooltip-top":"draw-button-tooltip-top_2OPIW",drawButtonTooltipTop:"draw-button-tooltip-top_2OPIW","draw-button-tooltip-bottom":"draw-button-tooltip-bottom_1WqHh",drawButtonTooltipBottom:"draw-button-tooltip-bottom_1WqHh","draw-button-container":"draw-button-container_jf4UW",drawButtonContainer:"draw-button-container_jf4UW","draw-button-icon":"draw-button-icon_1_aLF",drawButtonIcon:"draw-button-icon_1_aLF","draw-button-container-active":"draw-button-container-active_1KbQN",drawButtonContainerActive:"draw-button-container-active_1KbQN"},t.exports=e},function(t,e,n){var i=n(2),o=[n(452)],a=n(157),r=n(158)["default"];t.exports=n(158),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(453);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("04107f35",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".draw-ratio-wrapper_31w8G {\n  background: #fff;\n  height: 83px;\n  padding: 14.5px 11.5px 11.5px 0px;\n  box-sizing: border-box;\n  border: 0.5px solid;\n  border-color: var(--cos-color-border-minor, #edeef0) var(--cos-color-border-tiny, #dbdce0);\n  border-radius: var(--cos-rounded-xl, 18px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-shadow: 0 2px 20px 0 #00000014;\n  color: var(--cos-color-text, #333);\n}\n.draw-ratio-wrapper_31w8G .draw-ratio-title_3c9me {\n  height: 14px;\n  margin-left: 20.5px;\n  font-size: var(--cos-text-subtitle-sm, 14px);\n  line-height: var(--cos-leading-subtitle-sm, 20px);\n  font-weight: var(--cos-font-medium, 500);\n}\n.draw-ratio-wrapper_31w8G .draw-ratio-content-wrapper_jLQAf {\n  height: 30px;\n  padding-left: 11.5px;\n  display: flex;\n  flex-direction: row;\n}\n.draw-ratio-wrapper_31w8G .draw-ratio-content-wrapper_jLQAf .draw-ratio-content-item_qGzHk {\n  display: flex;\n  align-items: center;\n  padding: 6px 9px;\n  border-radius: var(--cos-rounded-sm, 9px);\n  font-size: var(--cos-text-body, 14px);\n  line-height: var(--cos-text-body, 14px);\n}\n.draw-ratio-wrapper_31w8G .draw-ratio-content-wrapper_jLQAf .draw-ratio-content-item_qGzHk img {\n  margin-left: 3px;\n  height: 18px;\n  width: 18px;\n}\n.draw-ratio-wrapper_31w8G .draw-ratio-content-wrapper_jLQAf .draw-ratio-content-item_qGzHk:hover {\n  color: #4E6EF2;\n  cursor: pointer;\n}\n.draw-ratio-wrapper_31w8G .draw-ratio-content-wrapper_jLQAf .draw-ratio-content-item_qGzHk:hover img {\n  filter: brightness(0) saturate(100%) invert(35%) sepia(77%) saturate(2345%) hue-rotate(218deg) brightness(103%) contrast(99%);\n}\n.draw-ratio-wrapper_31w8G .draw-ratio-content-wrapper_jLQAf .draw-ratio-content-item-active_31Zxq {\n  background: linear-gradient(90deg, #F0F6FF, #F6F2FF);\n}\n",""]),e.locals={"draw-ratio-wrapper":"draw-ratio-wrapper_31w8G",drawRatioWrapper:"draw-ratio-wrapper_31w8G","draw-ratio-title":"draw-ratio-title_3c9me",drawRatioTitle:"draw-ratio-title_3c9me","draw-ratio-content-wrapper":"draw-ratio-content-wrapper_jLQAf",drawRatioContentWrapper:"draw-ratio-content-wrapper_jLQAf","draw-ratio-content-item":"draw-ratio-content-item_qGzHk",drawRatioContentItem:"draw-ratio-content-item_qGzHk","draw-ratio-content-item-active":"draw-ratio-content-item-active_31Zxq",drawRatioContentItemActive:"draw-ratio-content-item-active_31Zxq"},t.exports=e},function(t,e,n){var i=n(2),o=[n(455)],a=n(159),r=n(160)["default"];t.exports=n(160),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(456);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("0af5e366",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".draw-recommend-wrapper_Y0bQ3 {\n  background: #fff;\n  width: 400px;\n  height: 308px;\n  padding: 18px 0px 2px;\n  box-sizing: border-box;\n  border: 0.5px solid;\n  border-color: var(--cos-color-border-minor, #edeef0) var(--cos-color-border-tiny, #dbdce0);\n  border-radius: var(--cos-rounded-xl, 18px);\n  overflow: hidden;\n  box-shadow: 0 2px 20px 0 #00000014;\n  font-size: var(--cos-text-subtitle-sm, 14px);\n  font-weight: var(--cos-font-medium, 500);\n  color: var(--cos-color-text, #333);\n  line-height: var(--cos-text-subtitle-sm, 14px);\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-title_1PZaz {\n  height: 14px;\n  margin: 0 var(--cos-space-lg, 18px) var(--cos-space-sm, 12px);\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx {\n  height: 265px;\n  padding: 0 var(--cos-space-lg, 18px) 2px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  overflow-x: hidden;\n  scrollbar-width: auto;\n  scrollbar-color: auto;\n  overscroll-behavior: contain;\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx::-webkit-scrollbar {\n  width: 2px;\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx::-webkit-scrollbar-thumb {\n  background-color: rgba(78, 110, 242, 0.1);\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx .draw-recommend-content-wrapper_2Tl75 {\n  display: flex;\n  flex-direction: column;\n  margin-right: var(--cos-space-lg, 18px);\n  width: 100%;\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx .draw-recommend-content-wrapper_2Tl75 .draw-recommend-content_1kvxI {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: var(--cos-space-sm, 12px);\n  margin-top: var(--cos-space-sm, 12px);\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx .draw-recommend-content-wrapper_2Tl75 .draw-recommend-content_1kvxI .draw-recommend-content-text_1Z_o4 {\n  box-sizing: border-box;\n  margin-right: var(--cos-space-xs, 9px);\n  margin-bottom: var(--cos-space-sm, 9px);\n  height: 30px;\n  padding: 8px 12px;\n  border-radius: var(--cos-rounded-sm, 9px);\n  background: var(--cos-color-bg-dent, #f5f6f9);\n  font-size: var(--cos-text-body, 14px);\n  font-weight: var(--cos-font-regular, 400);\n  color: var(--cos-color-text, #333);\n  line-height: var(--cos-text-body, 14px);\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx .draw-recommend-content-wrapper_2Tl75 .draw-recommend-content_1kvxI .draw-recommend-content-text_1Z_o4:hover {\n  background: #4e6ef217;\n  color: var(--cos-color-text-primary, #4e6ef2);\n  cursor: pointer;\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx > :first-child {\n  margin-top: 6px;\n}\n.draw-recommend-wrapper_Y0bQ3 .draw-recommend-content-container_3ezKx > :last-child {\n  margin-bottom: 16px;\n}\n",""]),e.locals={"draw-recommend-wrapper":"draw-recommend-wrapper_Y0bQ3",drawRecommendWrapper:"draw-recommend-wrapper_Y0bQ3","draw-recommend-title":"draw-recommend-title_1PZaz",drawRecommendTitle:"draw-recommend-title_1PZaz","draw-recommend-content-container":"draw-recommend-content-container_3ezKx",drawRecommendContentContainer:"draw-recommend-content-container_3ezKx","draw-recommend-content-wrapper":"draw-recommend-content-wrapper_2Tl75",drawRecommendContentWrapper:"draw-recommend-content-wrapper_2Tl75","draw-recommend-content":"draw-recommend-content_1kvxI",drawRecommendContent:"draw-recommend-content_1kvxI","draw-recommend-content-text":"draw-recommend-content-text_1Z_o4",drawRecommendContentText:"draw-recommend-content-text_1Z_o4"},t.exports=e},function(t,e,n){var i=n(2),o=[n(458)],a=n(161),r=n(162)["default"];t.exports=n(162),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(459);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("5b1c09db",i,!0,{runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".draw-style-wrapper_14dtE {\n  background: #fff;\n  max-height: 335px;\n  padding-top: 17.5px;\n  padding-right: 5px;\n  box-sizing: border-box;\n  border: 0.5px solid;\n  border-color: var(--cos-color-border-minor, #edeef0) var(--cos-color-border-tiny, #dbdce0);\n  border-radius: var(--cos-rounded-xl, 18px);\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 2px 20px 0 #00000014;\n  overflow: hidden;\n}\n.draw-style-wrapper_14dtE .draw-style-title_3OkHH {\n  height: 14px;\n  padding: 0px 17.5px;\n  margin-bottom: 16px;\n  font-size: var(--cos-text-subtitle-sm, 14px);\n  font-weight: var(--cos-font-medium, 500);\n  color: var(--cos-color-text, #333);\n  line-height: var(--cos-text-subtitle-sm, 14px);\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW {\n  max-height: 267px;\n  padding: 2px 12.5px 0px 17.5px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  scrollbar-width: auto;\n  scrollbar-color: auto;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW::-webkit-scrollbar {\n  width: 2px;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW::-webkit-scrollbar-thumb {\n  background-color: rgba(78, 110, 242, 0.1);\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL {\n  margin-bottom: 15px;\n  height: 78px;\n  display: flex;\n  flex-direction: row;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL:last-child {\n  margin-bottom: 19.5px;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  height: 78px;\n  width: 56px;\n  margin-right: 12px;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-img_3dPJ0 {\n  display: inline-block;\n  box-sizing: border-box;\n  height: 56px;\n  width: 56px;\n  border: 0.75px solid var(--cos-color-border-tiny, #dbdce0);\n  border-radius: var(--cos-rounded-md, 12px);\n  position: relative;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  margin-bottom: 9px;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-img_3dPJ0 img {\n  height: 100%;\n  width: 100%;\n  border-radius: var(--cos-rounded-md, 12px);\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-img_3dPJ0::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.09);\n  border-radius: 11px;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-img_3dPJ0:hover::after {\n  opacity: 1;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-text_2P4r2 {\n  font-size: var(--cos-text-body, 14px);\n  line-height: var(--cos-text-body, 14px);\n  font-weight: var(--cos-font-regular, 400);\n  color: var(--cos-color-text-slim, #626675);\n  width: calc(100% + 3px);\n  text-align: center;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-img-active_3lAiS {\n  border: 1.5px solid white;\n  border-radius: 10px;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-img-active_3lAiS img {\n  border-radius: 8px;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-img-active_3lAiS::before {\n  content: '';\n  position: absolute;\n  top: -3px;\n  left: -3px;\n  right: -3px;\n  bottom: -3px;\n  background: linear-gradient(90deg, #3d7dfe, #6a59fe, #9142ff);\n  border-radius: var(--cos-rounded-md, 12px);\n  z-index: -1;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-img-active_3lAiS::after {\n  z-index: 2;\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5 .draw-style-content-item-text-active_3AbpR {\n  font-weight: 600;\n  color: var(--cos-color-text, #333);\n}\n.draw-style-wrapper_14dtE .draw-style-content-wrapper_1g2BW .draw-style-content-list_1DnOL .draw-style-content-item__fkT5:hover {\n  cursor: pointer;\n}\n",""]),e.locals={"draw-style-wrapper":"draw-style-wrapper_14dtE",drawStyleWrapper:"draw-style-wrapper_14dtE","draw-style-title":"draw-style-title_3OkHH",drawStyleTitle:"draw-style-title_3OkHH","draw-style-content-wrapper":"draw-style-content-wrapper_1g2BW",drawStyleContentWrapper:"draw-style-content-wrapper_1g2BW","draw-style-content-list":"draw-style-content-list_1DnOL",drawStyleContentList:"draw-style-content-list_1DnOL","draw-style-content-item":"draw-style-content-item__fkT5",drawStyleContentItem:"draw-style-content-item__fkT5","draw-style-content-item-img":"draw-style-content-item-img_3dPJ0",drawStyleContentItemImg:"draw-style-content-item-img_3dPJ0","draw-style-content-item-text":"draw-style-content-item-text_2P4r2",drawStyleContentItemText:"draw-style-content-item-text_2P4r2","draw-style-content-item-img-active":"draw-style-content-item-img-active_3lAiS",drawStyleContentItemImgActive:"draw-style-content-item-img-active_3lAiS","draw-style-content-item-text-active":"draw-style-content-item-text-active_3AbpR",drawStyleContentItemTextActive:"draw-style-content-item-text-active_3AbpR"},t.exports=e},function(t,e,n){var i=n(2),o=[n(461)],a=n(163),r=n(164)["default"];t.exports=n(164),t.exports["default"]=i(r,a,o)},function(t,e,n){var i=n(462);(i="string"==typeof i?[[t.i,i,""]]:i).locals&&(t.exports=i.locals);(0,n(4)["default"])("54b62cd7",i,!0,{attributes:{"data-for":"result"},runAsProduction:!0})},function(t,e,n){(e=n(3)(!1)).push([t.i,".more-dropdown-container {\n  position: relative;\n  width: 86px;\n}\n.more-dropdown-container:hover .more-dropdown-menu {\n  display: block;\n}\n.more-dropdown-menu-wrapper {\n  position: absolute;\n  z-index: 1;\n  padding: 6px 0;\n}\n.more-dropdown-menu {\n  display: none;\n  box-sizing: border-box;\n  width: 120px;\n  padding: 10px 9px;\n  border-radius: 18px;\n  border: 0.5px #dbdce0 solid;\n  box-shadow: 0px 2px 20px 0px rgba(0, 0, 0, 0.08);\n  background: #fff;\n}\n.more-dropdown-trigger {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n}\n.more-dropdown-trigger-icon {\n  width: 16px;\n  height: 16px;\n  margin-right: 6px;\n}\n",""]),t.exports=e}],b={},d.m=a,d.c=b,d.d=function(t,e,n){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},d.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)d.d(n,i,function(t){return e[t]}.bind(null,i));return n},d.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="https://pss.bdstatic.com",d(d.s=346);function d(t){if(b[t])return b[t].exports;var e=b[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,d),e.l=!0,e.exports}var a,b});